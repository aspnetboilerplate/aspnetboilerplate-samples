(function(n){if(n&&n.hik&&n.hik.jtable){var t={_create:n.hik.jtable.prototype._create};n.extend(!0,n.hik.jtable.prototype,{_create:function(){var n=this;t._create.apply(n,arguments);n.options.actions.listAction&&n._adaptListActionforAbp();n.options.actions.createAction&&n._adaptCreateActionforAbp();n.options.actions.updateAction&&n._adaptUpdateActionforAbp();n.options.actions.deleteAction&&n._adaptDeleteActionforAbp()},_adaptListActionforAbp:function(){var t=this,i=t.options.actions.listAction;t.options.actions.listAction=function(r,u){return n.Deferred(function(f){var e=n.extend({},r,{skipCount:u.jtStartIndex,maxResultCount:u.jtPageSize,sorting:u.jtSorting});i.method(e).done(function(n){f.resolve({Result:"OK",Records:n.items||n[i.recordsField]||n,TotalRecordCount:n.totalCount||n.length,originalResult:n})}).fail(function(n){t._handlerForFailOnAbpRequest(f,n)})})}},_adaptCreateActionforAbp:function(){var t=this,i=t.options.actions.createAction;t.options.actions.createAction=function(r){return n.Deferred(function(u){var f=n.extend({},r);i.method(f).done(function(n){u.resolve({Result:"OK",Record:i.recordField?n[i.recordField]:n,originalResult:n})}).fail(function(n){t._handlerForFailOnAbpRequest(u,n)})})}},_adaptUpdateActionforAbp:function(){var i=this,t=i.options.actions.updateAction;i.options.actions.updateAction=function(r){return n.Deferred(function(u){var f=n.extend({},r);t.method(f).done(function(n){var i={Result:"OK",originalResult:n};t.returnsRecord&&(i.Record=t.recordField?n[t.recordField]:n);u.resolve(i)}).fail(function(n){i._handlerForFailOnAbpRequest(u,n)})})}},_adaptDeleteActionforAbp:function(){var t=this,i=t.options.actions.deleteAction;t.options.actions.deleteAction=function(r){return n.Deferred(function(u){var f=n.extend({},r);i.method(f).done(function(n){u.resolve({Result:"OK",originalResult:n})}).fail(function(n){t._handlerForFailOnAbpRequest(u,n)})})}},_handlerForFailOnAbpRequest:function(n,t){t&&t.message?n.resolve({Result:"ERROR",Message:t.message}):n.reject(t)},_showError:function(){}});n.extend(!0,n.hik.jtable.prototype.options,{pageList:"minimal"})}})(jQuery);