{"version":3,"sources":["kendo.toolbar.js"],"names":["f","define","$","undefined","adjustPopupWidth","width","anchor","this","options","computedWidth","outerWidth","kendo","wrap","element","addClass","css","fontFamily","min-width","toggleActive","e","target","is","toggleClass","STATE_ACTIVE","type","actionSheetWrap","hasClass","closest","parent","preventClick","preventDefault","findFocusableSibling","dir","getSibling","fn","next","prev","getter","first","last","candidate","call","length","find","components","Item","Button","ToolBarButton","OverflowButton","ButtonGroup","ToolBarButtonGroup","OverflowButtonGroup","ToolBarSplitButton","OverflowSplitButton","ToolBarSeparator","OverflowSeparator","TemplateItem","OverflowTemplateItem","Group","ToolBar","window","Class","Widget","ui","proxy","isFunction","keys","_outerWidth","TOOLBAR","BUTTON","OVERFLOW_BUTTON","TOGGLE_BUTTON","BUTTON_GROUP","SPLIT_BUTTON","SEPARATOR","POPUP","RESIZABLE_TOOLBAR","STATE_DISABLED","STATE_HIDDEN","GROUP_START","GROUP_END","PRIMARY","ICON","ICON_PREFIX","BUTTON_ICON","BUTTON_ICON_TEXT","LIST_CONTAINER","SPLIT_BUTTON_ARROW","OVERFLOW_ANCHOR","OVERFLOW_CONTAINER","FIRST_TOOLBAR_VISIBLE","LAST_TOOLBAR_VISIBLE","CLICK","TOGGLE","OPEN","CLOSE","OVERFLOW_OPEN","OVERFLOW_CLOSE","OVERFLOW_NEVER","OVERFLOW_AUTO","OVERFLOW_ALWAYS","OVERFLOW_HIDDEN","KENDO_UID_ATTR","attr","toolbar","overflowAnchor","overflowContainer","registerComponent","name","overflow","extend","addOverflowAttr","addUidAttr","uid","addIdAttr","id","addOverflowIdAttr","attributes","show","removeClass","hidden","hide","remove","enable","isEnabled","twin","data","resizable","popup","init","useButtonTag","primary","togglable","toggle","selected","url","mobile","group","addToGroup","click","clickHandler","toggleHandler","state","propagate","select","getParentGroup","isChild","_addGraphics","isEmpty","span","img","icon","spriteCssClass","imageUrl","contents","filter","each","idx","el","nodeType","trim","nodeValue","children","prependTo","align","showText","text","html","hasIcon","showIcon","button","_wrap","overflowHidden","createButtons","buttonConstructor","item","i","items","buttons","guid","appendTo","refresh","buttonGroup","mainButton","arrowButton","popupElement","removeAttr","createMenuButtons","createPopup","_navigatable","main","splitButton","kendoPopup","that","on","li","keyCode","ESC","TAB","altKey","UP","focus","DOWN","SPACEBAR","ENTER","userEvents","trigger","menuButtons","rootUid","isRtl","_isRtl","copyAnchorStyles","animation","open","activate","close","off","destroy","separator","template","jQuery","add","index","inArray","splice","tmp","wrapper","support","_groups","isMobile","effects","_renderOverflow","overflowUserEvents","UserEvents","threshold","allowSelection","tap","_toggleOverflow","_resizeHandler","onResize","resize","document","_buttonClick","press","release","_toggleOverflowAnchor","notify","events","groupName","unbindResize","tool","overflowTool","component","itemClasses","overflowTemplate","container","angular","elements","get","_shrink","innerWidth","_getItem","toolbarItem","overflowItem","isResizable","getSelectedFromGroup","checked","horizontalDirection","append","Popup","origin","position","parseFloat","innerHeight","isComplexTool","hasVisibleChildren","visibility","splitContainer","handler","eventData","urlTarget","isSplitButtonArrow","_toggle","sender","parents","_keydown","lastHasFocus","firstHasFocus","isFirstTool","prevFocusable","isOverflowAnchor","parentsUntil","shiftKey","not","_getPrevFocusable","activeElement","elementToFocus","prevElement","prevElements","prevAll","isDefaultPrevented","_resize","containerWidth","_stretch","_markVisibles","_childrenWidth","childrenWidth","Math","ceil","commandElement","visibleCommands","eq","_hideItem","hiddenCommands","_showItem","overflowItems","toolbarItems","visibleOverflowItems","visibleToolbarItems","plugin","amd","a1","a2","a3"],"mappings":"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","file":"kendo.toolbar.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('kendo.toolbar', [\n        'kendo.core',\n        'kendo.userevents',\n        'kendo.popup'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'toolbar',\n        name: 'ToolBar',\n        category: 'web',\n        description: 'The ToolBar widget displays one or more command buttons divided into groups.',\n        depends: ['core']\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, Class = kendo.Class, Widget = kendo.ui.Widget, proxy = $.proxy, isFunction = kendo.isFunction, keys = kendo.keys, outerWidth = kendo._outerWidth, TOOLBAR = 'k-toolbar', BUTTON = 'k-button', OVERFLOW_BUTTON = 'k-overflow-button', TOGGLE_BUTTON = 'k-toggle-button', BUTTON_GROUP = 'k-button-group', SPLIT_BUTTON = 'k-split-button', SEPARATOR = 'k-separator', POPUP = 'k-popup', RESIZABLE_TOOLBAR = 'k-toolbar-resizable', STATE_ACTIVE = 'k-state-active', STATE_DISABLED = 'k-state-disabled', STATE_HIDDEN = 'k-state-hidden', GROUP_START = 'k-group-start', GROUP_END = 'k-group-end', PRIMARY = 'k-primary', ICON = 'k-icon', ICON_PREFIX = 'k-i-', BUTTON_ICON = 'k-button-icon', BUTTON_ICON_TEXT = 'k-button-icontext', LIST_CONTAINER = 'k-list-container k-split-container', SPLIT_BUTTON_ARROW = 'k-split-button-arrow', OVERFLOW_ANCHOR = 'k-overflow-anchor', OVERFLOW_CONTAINER = 'k-overflow-container', FIRST_TOOLBAR_VISIBLE = 'k-toolbar-first-visible', LAST_TOOLBAR_VISIBLE = 'k-toolbar-last-visible', CLICK = 'click', TOGGLE = 'toggle', OPEN = 'open', CLOSE = 'close', OVERFLOW_OPEN = 'overflowOpen', OVERFLOW_CLOSE = 'overflowClose', OVERFLOW_NEVER = 'never', OVERFLOW_AUTO = 'auto', OVERFLOW_ALWAYS = 'always', OVERFLOW_HIDDEN = 'k-overflow-hidden', KENDO_UID_ATTR = kendo.attr('uid');\n        kendo.toolbar = {};\n        var components = {\n            overflowAnchor: '<div tabindex=\"0\" class=\"k-overflow-anchor\"></div>',\n            overflowContainer: '<ul class=\"k-overflow-container k-list-container\"></ul>'\n        };\n        kendo.toolbar.registerComponent = function (name, toolbar, overflow) {\n            components[name] = {\n                toolbar: toolbar,\n                overflow: overflow\n            };\n        };\n        var Item = kendo.Class.extend({\n            addOverflowAttr: function () {\n                this.element.attr(kendo.attr('overflow'), this.options.overflow || OVERFLOW_AUTO);\n            },\n            addUidAttr: function () {\n                this.element.attr(KENDO_UID_ATTR, this.options.uid);\n            },\n            addIdAttr: function () {\n                if (this.options.id) {\n                    this.element.attr('id', this.options.id);\n                }\n            },\n            addOverflowIdAttr: function () {\n                if (this.options.id) {\n                    this.element.attr('id', this.options.id + '_overflow');\n                }\n            },\n            attributes: function () {\n                if (this.options.attributes) {\n                    this.element.attr(this.options.attributes);\n                }\n            },\n            show: function () {\n                this.element.removeClass(STATE_HIDDEN).show();\n                this.options.hidden = false;\n            },\n            hide: function () {\n                this.element.addClass(STATE_HIDDEN).hide();\n                this.options.hidden = true;\n            },\n            remove: function () {\n                this.element.remove();\n            },\n            enable: function (isEnabled) {\n                if (isEnabled === undefined) {\n                    isEnabled = true;\n                }\n                this.element.toggleClass(STATE_DISABLED, !isEnabled);\n                this.options.enable = isEnabled;\n            },\n            twin: function () {\n                var uid = this.element.attr(KENDO_UID_ATTR);\n                if (this.overflow) {\n                    return this.toolbar.element.find('[' + KENDO_UID_ATTR + '=\\'' + uid + '\\']').data(this.options.type);\n                } else if (this.toolbar.options.resizable) {\n                    return this.toolbar.popup.element.find('[' + KENDO_UID_ATTR + '=\\'' + uid + '\\']').data(this.options.type);\n                }\n            }\n        });\n        kendo.toolbar.Item = Item;\n        var Button = Item.extend({\n            init: function (options, toolbar) {\n                var element = options.useButtonTag ? $('<button tabindex=\"0\"></button>') : $('<a href tabindex=\"0\"></a>');\n                this.element = element;\n                this.options = options;\n                this.toolbar = toolbar;\n                this.attributes();\n                if (options.primary) {\n                    element.addClass(PRIMARY);\n                }\n                if (options.togglable) {\n                    element.addClass(TOGGLE_BUTTON);\n                    this.toggle(options.selected);\n                }\n                if (options.url !== undefined && !options.useButtonTag) {\n                    element.attr('href', options.url);\n                    if (options.mobile) {\n                        element.attr(kendo.attr('role'), 'button');\n                    }\n                }\n                if (options.group) {\n                    element.attr(kendo.attr('group'), options.group);\n                    this.group = this.toolbar.addToGroup(this, options.group);\n                }\n                if (!options.togglable && options.click && isFunction(options.click)) {\n                    this.clickHandler = options.click;\n                }\n                if (options.togglable && options.toggle && isFunction(options.toggle)) {\n                    this.toggleHandler = options.toggle;\n                }\n            },\n            toggle: function (state, propagate) {\n                state = !!state;\n                if (this.group && state) {\n                    this.group.select(this);\n                } else if (!this.group) {\n                    this.select(state);\n                }\n                if (propagate && this.twin()) {\n                    this.twin().toggle(state);\n                }\n            },\n            getParentGroup: function () {\n                if (this.options.isChild) {\n                    return this.element.closest('.' + BUTTON_GROUP).data('buttonGroup');\n                }\n            },\n            _addGraphics: function () {\n                var element = this.element, icon = this.options.icon, spriteCssClass = this.options.spriteCssClass, imageUrl = this.options.imageUrl, isEmpty, span, img;\n                if (spriteCssClass || imageUrl || icon) {\n                    isEmpty = true;\n                    element.contents().filter(function () {\n                        return !$(this).hasClass('k-sprite') && !$(this).hasClass(ICON) && !$(this).hasClass('k-image');\n                    }).each(function (idx, el) {\n                        if (el.nodeType == 1 || el.nodeType == 3 && $.trim(el.nodeValue).length > 0) {\n                            isEmpty = false;\n                        }\n                    });\n                    if (isEmpty) {\n                        element.addClass(BUTTON_ICON);\n                    } else {\n                        element.addClass(BUTTON_ICON_TEXT);\n                    }\n                }\n                if (icon) {\n                    span = element.children('span.' + ICON).first();\n                    if (!span[0]) {\n                        span = $('<span class=\"' + ICON + '\"></span>').prependTo(element);\n                    }\n                    span.addClass(ICON_PREFIX + icon);\n                } else if (spriteCssClass) {\n                    span = element.children('span.k-sprite').first();\n                    if (!span[0]) {\n                        span = $('<span class=\"k-sprite\"></span>').prependTo(element);\n                    }\n                    span.addClass(spriteCssClass);\n                } else if (imageUrl) {\n                    img = element.children('img.k-image').first();\n                    if (!img[0]) {\n                        img = $('<img alt=\"icon\" class=\"k-image\" />').prependTo(element);\n                    }\n                    img.attr('src', imageUrl);\n                }\n            }\n        });\n        kendo.toolbar.Button = Button;\n        var ToolBarButton = Button.extend({\n            init: function (options, toolbar) {\n                Button.fn.init.call(this, options, toolbar);\n                var element = this.element;\n                element.addClass(BUTTON);\n                this.addIdAttr();\n                if (options.align) {\n                    element.addClass('k-align-' + options.align);\n                }\n                if (options.showText != 'overflow' && options.text) {\n                    if (options.mobile) {\n                        element.html('<span class=\"km-text\">' + options.text + '</span>');\n                    } else {\n                        element.html(options.text);\n                    }\n                }\n                options.hasIcon = options.showIcon != 'overflow' && (options.icon || options.spriteCssClass || options.imageUrl);\n                if (options.hasIcon) {\n                    this._addGraphics();\n                }\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.enable(options.enable);\n                if (options.hidden) {\n                    this.hide();\n                }\n                this.element.data({\n                    type: 'button',\n                    button: this\n                });\n            },\n            select: function (selected) {\n                if (selected === undefined) {\n                    selected = false;\n                }\n                this.element.toggleClass(STATE_ACTIVE, selected);\n                this.options.selected = selected;\n            }\n        });\n        kendo.toolbar.ToolBarButton = ToolBarButton;\n        var OverflowButton = Button.extend({\n            init: function (options, toolbar) {\n                this.overflow = true;\n                Button.fn.init.call(this, options, toolbar);\n                var element = this.element;\n                if (options.showText != 'toolbar' && options.text) {\n                    if (options.mobile) {\n                        element.html('<span class=\"km-text\">' + options.text + '</span>');\n                    } else {\n                        element.html('<span class=\"k-text\">' + options.text + '</span>');\n                    }\n                }\n                options.hasIcon = options.showIcon != 'toolbar' && (options.icon || options.spriteCssClass || options.imageUrl);\n                if (options.hasIcon) {\n                    this._addGraphics();\n                }\n                if (!options.isChild) {\n                    this._wrap();\n                }\n                this.addOverflowIdAttr();\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.enable(options.enable);\n                element.addClass(OVERFLOW_BUTTON + ' ' + BUTTON);\n                if (options.hidden) {\n                    this.hide();\n                }\n                this.element.data({\n                    type: 'button',\n                    button: this\n                });\n            },\n            _wrap: function () {\n                this.element = this.element.wrap('<li></li>').parent();\n            },\n            overflowHidden: function () {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            },\n            select: function (selected) {\n                if (selected === undefined) {\n                    selected = false;\n                }\n                if (this.options.isChild) {\n                    this.element.toggleClass(STATE_ACTIVE, selected);\n                } else {\n                    this.element.find('.k-button').toggleClass(STATE_ACTIVE, selected);\n                }\n                this.options.selected = selected;\n            }\n        });\n        kendo.toolbar.OverflowButton = OverflowButton;\n        kendo.toolbar.registerComponent('button', ToolBarButton, OverflowButton);\n        var ButtonGroup = Item.extend({\n            createButtons: function (buttonConstructor) {\n                var options = this.options;\n                var items = options.buttons || [];\n                var item;\n                for (var i = 0; i < items.length; i++) {\n                    if (!items[i].uid) {\n                        items[i].uid = kendo.guid();\n                    }\n                    item = new buttonConstructor($.extend({\n                        mobile: options.mobile,\n                        isChild: true,\n                        type: 'button'\n                    }, items[i]), this.toolbar);\n                    item.element.appendTo(this.element);\n                }\n            },\n            refresh: function () {\n                this.element.children().filter(':not(\\'.' + STATE_HIDDEN + '\\'):first').addClass(GROUP_START);\n                this.element.children().filter(':not(\\'.' + STATE_HIDDEN + '\\'):last').addClass(GROUP_END);\n            }\n        });\n        kendo.toolbar.ButtonGroup = ButtonGroup;\n        var ToolBarButtonGroup = ButtonGroup.extend({\n            init: function (options, toolbar) {\n                var element = this.element = $('<div></div>');\n                this.options = options;\n                this.toolbar = toolbar;\n                this.addIdAttr();\n                if (options.align) {\n                    element.addClass('k-align-' + options.align);\n                }\n                this.createButtons(ToolBarButton);\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.refresh();\n                element.addClass(BUTTON_GROUP);\n                this.element.data({\n                    type: 'buttonGroup',\n                    buttonGroup: this\n                });\n            }\n        });\n        kendo.toolbar.ToolBarButtonGroup = ToolBarButtonGroup;\n        var OverflowButtonGroup = ButtonGroup.extend({\n            init: function (options, toolbar) {\n                var element = this.element = $('<li></li>');\n                this.options = options;\n                this.toolbar = toolbar;\n                this.overflow = true;\n                this.addOverflowIdAttr();\n                this.createButtons(OverflowButton);\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.refresh();\n                element.addClass((options.mobile ? '' : BUTTON_GROUP) + ' k-overflow-group');\n                this.element.data({\n                    type: 'buttonGroup',\n                    buttonGroup: this\n                });\n            },\n            overflowHidden: function () {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            }\n        });\n        kendo.toolbar.OverflowButtonGroup = OverflowButtonGroup;\n        kendo.toolbar.registerComponent('buttonGroup', ToolBarButtonGroup, OverflowButtonGroup);\n        var ToolBarSplitButton = Item.extend({\n            init: function (options, toolbar) {\n                var element = this.element = $('<div class=\"' + SPLIT_BUTTON + '\" tabindex=\"0\"></div>');\n                this.options = options;\n                this.toolbar = toolbar;\n                this.mainButton = new ToolBarButton($.extend({}, options, { hidden: false }), toolbar);\n                this.arrowButton = $('<a class=\"' + BUTTON + ' ' + SPLIT_BUTTON_ARROW + '\"><span class=\"' + (options.mobile ? 'km-icon km-arrowdown' : 'k-icon k-i-arrow-s') + '\"></span></a>');\n                this.popupElement = $('<ul class=\"' + LIST_CONTAINER + '\"></ul>');\n                this.mainButton.element.removeAttr('href tabindex').appendTo(element);\n                this.arrowButton.appendTo(element);\n                this.popupElement.appendTo(element);\n                if (options.align) {\n                    element.addClass('k-align-' + options.align);\n                }\n                if (!options.id) {\n                    options.id = options.uid;\n                }\n                element.attr('id', options.id + '_wrapper');\n                this.addOverflowAttr();\n                this.addUidAttr();\n                this.createMenuButtons();\n                this.createPopup();\n                this._navigatable();\n                this.mainButton.main = true;\n                this.enable(options.enable);\n                if (options.hidden) {\n                    this.hide();\n                }\n                element.data({\n                    type: 'splitButton',\n                    splitButton: this,\n                    kendoPopup: this.popup\n                });\n            },\n            _navigatable: function () {\n                var that = this;\n                that.popupElement.on('keydown', '.' + BUTTON, function (e) {\n                    var li = $(e.target).parent();\n                    e.preventDefault();\n                    if (e.keyCode === keys.ESC || e.keyCode === keys.TAB || e.altKey && e.keyCode === keys.UP) {\n                        that.toggle();\n                        that.focus();\n                    } else if (e.keyCode === keys.DOWN) {\n                        findFocusableSibling(li, 'next').focus();\n                    } else if (e.keyCode === keys.UP) {\n                        findFocusableSibling(li, 'prev').focus();\n                    } else if (e.keyCode === keys.SPACEBAR || e.keyCode === keys.ENTER) {\n                        that.toolbar.userEvents.trigger('tap', { target: $(e.target) });\n                    }\n                });\n            },\n            createMenuButtons: function () {\n                var options = this.options;\n                var items = options.menuButtons;\n                var item;\n                for (var i = 0; i < items.length; i++) {\n                    item = new ToolBarButton($.extend({\n                        mobile: options.mobile,\n                        type: 'button',\n                        click: options.click\n                    }, items[i]), this.toolbar);\n                    item.element.wrap('<li></li>').parent().appendTo(this.popupElement);\n                }\n            },\n            createPopup: function () {\n                var options = this.options;\n                var element = this.element;\n                this.popupElement.attr('id', options.id + '_optionlist').attr(KENDO_UID_ATTR, options.rootUid);\n                if (options.mobile) {\n                    this.popupElement = actionSheetWrap(this.popupElement);\n                }\n                this.popup = this.popupElement.kendoPopup({\n                    appendTo: options.mobile ? $(options.mobile).children('.km-pane') : null,\n                    anchor: element,\n                    isRtl: this.toolbar._isRtl,\n                    copyAnchorStyles: false,\n                    animation: options.animation,\n                    open: adjustPopupWidth,\n                    activate: function () {\n                        this.element.find(':kendoFocusable').first().focus();\n                    },\n                    close: function () {\n                        element.focus();\n                    }\n                }).data('kendoPopup');\n                this.popup.element.on(CLICK, 'a.k-button', preventClick);\n            },\n            remove: function () {\n                this.popup.element.off(CLICK, 'a.k-button');\n                this.popup.destroy();\n                this.element.remove();\n            },\n            toggle: function () {\n                this.popup.toggle();\n            },\n            enable: function (isEnabled) {\n                if (isEnabled === undefined) {\n                    isEnabled = true;\n                }\n                this.mainButton.enable(isEnabled);\n                this.options.enable = isEnabled;\n            },\n            focus: function () {\n                this.element.focus();\n            },\n            hide: function () {\n                if (this.popup) {\n                    this.popup.close();\n                }\n                this.element.addClass(STATE_HIDDEN).hide();\n                this.options.hidden = true;\n            },\n            show: function () {\n                this.element.removeClass(STATE_HIDDEN).hide();\n                this.options.hidden = false;\n            }\n        });\n        kendo.toolbar.ToolBarSplitButton = ToolBarSplitButton;\n        var OverflowSplitButton = Item.extend({\n            init: function (options, toolbar) {\n                var element = this.element = $('<li class=\"' + SPLIT_BUTTON + '\"></li>'), items = options.menuButtons, item;\n                this.options = options;\n                this.toolbar = toolbar;\n                this.overflow = true;\n                this.mainButton = new OverflowButton($.extend({ isChild: true }, options));\n                this.mainButton.element.appendTo(element);\n                for (var i = 0; i < items.length; i++) {\n                    item = new OverflowButton($.extend({\n                        mobile: options.mobile,\n                        isChild: true\n                    }, items[i]), this.toolbar);\n                    item.element.appendTo(element);\n                }\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.mainButton.main = true;\n                element.data({\n                    type: 'splitButton',\n                    splitButton: this\n                });\n            },\n            overflowHidden: function () {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            }\n        });\n        kendo.toolbar.OverflowSplitButton = OverflowSplitButton;\n        kendo.toolbar.registerComponent('splitButton', ToolBarSplitButton, OverflowSplitButton);\n        var ToolBarSeparator = Item.extend({\n            init: function (options, toolbar) {\n                var element = this.element = $('<div>&nbsp;</div>');\n                this.element = element;\n                this.options = options;\n                this.toolbar = toolbar;\n                this.attributes();\n                this.addIdAttr();\n                this.addUidAttr();\n                this.addOverflowAttr();\n                element.addClass(SEPARATOR);\n                element.data({\n                    type: 'separator',\n                    separator: this\n                });\n            }\n        });\n        var OverflowSeparator = Item.extend({\n            init: function (options, toolbar) {\n                var element = this.element = $('<li>&nbsp;</li>');\n                this.element = element;\n                this.options = options;\n                this.toolbar = toolbar;\n                this.overflow = true;\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowIdAttr();\n                element.addClass(SEPARATOR);\n                element.data({\n                    type: 'separator',\n                    separator: this\n                });\n            },\n            overflowHidden: function () {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            }\n        });\n        kendo.toolbar.registerComponent('separator', ToolBarSeparator, OverflowSeparator);\n        var TemplateItem = Item.extend({\n            init: function (template, options, toolbar) {\n                var element = isFunction(template) ? template(options) : template;\n                if (!(element instanceof jQuery)) {\n                    element = $('<div></div>').html(element);\n                } else {\n                    element = element.wrap('<div></div>').parent();\n                }\n                this.element = element;\n                this.options = options;\n                this.options.type = 'template';\n                this.toolbar = toolbar;\n                this.attributes();\n                this.addUidAttr();\n                this.addIdAttr();\n                this.addOverflowAttr();\n                element.data({\n                    type: 'template',\n                    template: this\n                });\n            }\n        });\n        kendo.toolbar.TemplateItem = TemplateItem;\n        var OverflowTemplateItem = Item.extend({\n            init: function (template, options, toolbar) {\n                var element = isFunction(template) ? $(template(options)) : $(template);\n                if (!(element instanceof jQuery)) {\n                    element = $('<li></li>').html(element);\n                } else {\n                    element = element.wrap('<li></li>').parent();\n                }\n                this.element = element;\n                this.options = options;\n                this.options.type = 'template';\n                this.toolbar = toolbar;\n                this.overflow = true;\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowIdAttr();\n                this.addOverflowAttr();\n                element.data({\n                    type: 'template',\n                    template: this\n                });\n            },\n            overflowHidden: function () {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            }\n        });\n        kendo.toolbar.OverflowTemplateItem = OverflowTemplateItem;\n        function adjustPopupWidth() {\n            var anchor = this.options.anchor, computedWidth = outerWidth(anchor), width;\n            kendo.wrap(this.element).addClass('k-split-wrapper');\n            if (this.element.css('box-sizing') !== 'border-box') {\n                width = computedWidth - (outerWidth(this.element) - this.element.width());\n            } else {\n                width = computedWidth;\n            }\n            this.element.css({\n                fontFamily: anchor.css('font-family'),\n                'min-width': width\n            });\n        }\n        function toggleActive(e) {\n            if (!e.target.is('.k-toggle-button')) {\n                e.target.toggleClass(STATE_ACTIVE, e.type == 'press');\n            }\n        }\n        function actionSheetWrap(element) {\n            element = $(element);\n            return element.hasClass('km-actionsheet') ? element.closest('.km-popup-wrapper') : element.addClass('km-widget km-actionsheet').wrap('<div class=\"km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup\"></div>').parent().wrap('<div class=\"km-popup-wrapper k-popup\"></div>').parent();\n        }\n        function preventClick(e) {\n            e.preventDefault();\n        }\n        function findFocusableSibling(element, dir) {\n            var getSibling = dir === 'next' ? $.fn.next : $.fn.prev;\n            var getter = dir === 'next' ? $.fn.first : $.fn.last;\n            var candidate = getSibling.call(element);\n            if (candidate.is(':kendoFocusable') || !candidate.length) {\n                return candidate;\n            }\n            if (candidate.find(':kendoFocusable').length) {\n                return getter.call(candidate.find(':kendoFocusable'));\n            }\n            return findFocusableSibling(candidate, dir);\n        }\n        var Group = Class.extend({\n            init: function (name) {\n                this.name = name;\n                this.buttons = [];\n            },\n            add: function (button) {\n                this.buttons[this.buttons.length] = button;\n            },\n            remove: function (button) {\n                var index = $.inArray(button, this.buttons);\n                this.buttons.splice(index, 1);\n            },\n            select: function (button) {\n                var tmp;\n                for (var i = 0; i < this.buttons.length; i++) {\n                    tmp = this.buttons[i];\n                    tmp.select(false);\n                }\n                button.select(true);\n                if (button.twin()) {\n                    button.twin().select(true);\n                }\n            }\n        });\n        var ToolBar = Widget.extend({\n            init: function (element, options) {\n                var that = this;\n                Widget.fn.init.call(that, element, options);\n                options = that.options;\n                element = that.wrapper = that.element;\n                element.addClass(TOOLBAR + ' k-widget');\n                this.uid = kendo.guid();\n                this._isRtl = kendo.support.isRtl(element);\n                this._groups = {};\n                element.attr(KENDO_UID_ATTR, this.uid);\n                that.isMobile = typeof options.mobile === 'boolean' ? options.mobile : that.element.closest('.km-root')[0];\n                that.animation = that.isMobile ? { open: { effects: 'fade' } } : {};\n                if (that.isMobile) {\n                    element.addClass('km-widget');\n                    ICON = 'km-icon';\n                    ICON_PREFIX = 'km-';\n                    BUTTON = 'km-button';\n                    BUTTON_GROUP = 'km-buttongroup km-widget';\n                    STATE_ACTIVE = 'km-state-active';\n                    STATE_DISABLED = 'km-state-disabled';\n                }\n                if (options.resizable) {\n                    that._renderOverflow();\n                    element.addClass(RESIZABLE_TOOLBAR);\n                    that.overflowUserEvents = new kendo.UserEvents(that.element, {\n                        threshold: 5,\n                        allowSelection: true,\n                        filter: '.' + OVERFLOW_ANCHOR,\n                        tap: proxy(that._toggleOverflow, that)\n                    });\n                    that._resizeHandler = kendo.onResize(function () {\n                        that.resize();\n                    });\n                } else {\n                    that.popup = { element: $([]) };\n                }\n                if (options.items && options.items.length) {\n                    for (var i = 0; i < options.items.length; i++) {\n                        that.add(options.items[i]);\n                    }\n                }\n                that.userEvents = new kendo.UserEvents(document, {\n                    threshold: 5,\n                    allowSelection: true,\n                    filter: '[' + KENDO_UID_ATTR + '=' + this.uid + '] a.' + BUTTON + ', ' + '[' + KENDO_UID_ATTR + '=' + this.uid + '] .' + OVERFLOW_BUTTON,\n                    tap: proxy(that._buttonClick, that),\n                    press: toggleActive,\n                    release: toggleActive\n                });\n                that.element.on(CLICK, 'a.k-button', preventClick);\n                that._navigatable();\n                if (options.resizable) {\n                    that.popup.element.on(CLICK, +'a.k-button', preventClick);\n                }\n                if (options.resizable) {\n                    this._toggleOverflowAnchor();\n                }\n                kendo.notify(that);\n            },\n            events: [\n                CLICK,\n                TOGGLE,\n                OPEN,\n                CLOSE,\n                OVERFLOW_OPEN,\n                OVERFLOW_CLOSE\n            ],\n            options: {\n                name: 'ToolBar',\n                items: [],\n                resizable: true,\n                mobile: null\n            },\n            addToGroup: function (button, groupName) {\n                var group;\n                if (!this._groups[groupName]) {\n                    group = this._groups[groupName] = new Group();\n                } else {\n                    group = this._groups[groupName];\n                }\n                group.add(button);\n                return group;\n            },\n            destroy: function () {\n                var that = this;\n                that.element.find('.' + SPLIT_BUTTON).each(function (idx, element) {\n                    $(element).data('kendoPopup').destroy();\n                });\n                that.element.off(CLICK, 'a.k-button');\n                that.userEvents.destroy();\n                if (that.options.resizable) {\n                    kendo.unbindResize(that._resizeHandler);\n                    that.overflowUserEvents.destroy();\n                    that.popup.element.off(CLICK, 'a.k-button');\n                    that.popup.destroy();\n                }\n                Widget.fn.destroy.call(that);\n            },\n            add: function (options) {\n                var component = components[options.type], template = options.template, tool, that = this, itemClasses = that.isMobile ? '' : 'k-item k-state-default', overflowTemplate = options.overflowTemplate, overflowTool;\n                $.extend(options, {\n                    uid: kendo.guid(),\n                    animation: that.animation,\n                    mobile: that.isMobile,\n                    rootUid: that.uid\n                });\n                if (options.menuButtons) {\n                    for (var i = 0; i < options.menuButtons.length; i++) {\n                        $.extend(options.menuButtons[i], { uid: kendo.guid() });\n                    }\n                }\n                if (template && !overflowTemplate) {\n                    options.overflow = OVERFLOW_NEVER;\n                } else if (!options.overflow) {\n                    options.overflow = OVERFLOW_AUTO;\n                }\n                if (options.overflow !== OVERFLOW_NEVER && that.options.resizable) {\n                    if (overflowTemplate) {\n                        overflowTool = new OverflowTemplateItem(overflowTemplate, options, that);\n                    } else if (component) {\n                        overflowTool = new component.overflow(options, that);\n                        overflowTool.element.addClass(itemClasses);\n                    }\n                    if (overflowTool) {\n                        if (options.overflow === OVERFLOW_AUTO) {\n                            overflowTool.overflowHidden();\n                        }\n                        overflowTool.element.appendTo(that.popup.container);\n                        that.angular('compile', function () {\n                            return { elements: overflowTool.element.get() };\n                        });\n                    }\n                }\n                if (options.overflow !== OVERFLOW_ALWAYS) {\n                    if (template) {\n                        tool = new TemplateItem(template, options, that);\n                    } else if (component) {\n                        tool = new component.toolbar(options, that);\n                    }\n                    if (tool) {\n                        if (that.options.resizable) {\n                            tool.element.appendTo(that.element).css('visibility', 'hidden');\n                            that._shrink(that.element.innerWidth());\n                            tool.element.css('visibility', 'visible');\n                        } else {\n                            tool.element.appendTo(that.element);\n                        }\n                        that.angular('compile', function () {\n                            return { elements: tool.element.get() };\n                        });\n                    }\n                }\n            },\n            _getItem: function (candidate) {\n                var element, toolbarItem, overflowItem, isResizable = this.options.resizable, type;\n                element = this.element.find(candidate);\n                if (!element.length) {\n                    element = $('.k-split-container[data-uid=' + this.uid + ']').find(candidate);\n                }\n                type = element.length ? element.data('type') : '';\n                toolbarItem = element.data(type);\n                if (toolbarItem) {\n                    if (toolbarItem.main) {\n                        element = element.parent('.' + SPLIT_BUTTON);\n                        type = 'splitButton';\n                        toolbarItem = element.data(type);\n                    }\n                    if (isResizable) {\n                        overflowItem = toolbarItem.twin();\n                    }\n                } else if (isResizable) {\n                    element = this.popup.element.find(candidate);\n                    type = element.length ? element.data('type') : '';\n                    overflowItem = element.data(type);\n                    if (overflowItem && overflowItem.main) {\n                        element = element.parent('.' + SPLIT_BUTTON);\n                        type = 'splitButton';\n                        overflowItem = element.data(type);\n                    }\n                }\n                return {\n                    type: type,\n                    toolbar: toolbarItem,\n                    overflow: overflowItem\n                };\n            },\n            remove: function (candidate) {\n                var item = this._getItem(candidate);\n                if (item.toolbar) {\n                    item.toolbar.remove();\n                }\n                if (item.overflow) {\n                    item.overflow.remove();\n                }\n                this.resize(true);\n            },\n            hide: function (candidate) {\n                var item = this._getItem(candidate);\n                if (item.toolbar) {\n                    if (item.toolbar.options.type === 'button' && item.toolbar.options.isChild) {\n                        item.toolbar.hide();\n                        item.toolbar.getParentGroup().refresh();\n                    } else if (!item.toolbar.options.hidden) {\n                        item.toolbar.hide();\n                    }\n                }\n                if (item.overflow) {\n                    if (item.overflow.options.type === 'button' && item.overflow.options.isChild) {\n                        item.overflow.hide();\n                        item.overflow.getParentGroup().refresh();\n                    } else if (!item.overflow.options.hidden) {\n                        item.overflow.hide();\n                    }\n                }\n                this.resize(true);\n            },\n            show: function (candidate) {\n                var item = this._getItem(candidate);\n                if (item.toolbar) {\n                    if (item.toolbar.options.type === 'button' && item.toolbar.options.isChild) {\n                        item.toolbar.show();\n                        item.toolbar.getParentGroup().refresh();\n                    } else if (item.toolbar.options.hidden) {\n                        item.toolbar.show();\n                    }\n                }\n                if (item.overflow) {\n                    if (item.overflow.options.type === 'button' && item.overflow.options.isChild) {\n                        item.toolbar.show();\n                        item.overflow.getParentGroup().refresh();\n                    } else if (item.overflow.options.hidden) {\n                        item.overflow.show();\n                    }\n                }\n                this.resize(true);\n            },\n            enable: function (element, enable) {\n                var item = this._getItem(element);\n                if (typeof enable == 'undefined') {\n                    enable = true;\n                }\n                if (item.toolbar) {\n                    item.toolbar.enable(enable);\n                }\n                if (item.overflow) {\n                    item.overflow.enable(enable);\n                }\n            },\n            getSelectedFromGroup: function (groupName) {\n                return this.element.find('.' + TOGGLE_BUTTON + '[data-group=\\'' + groupName + '\\']').filter('.' + STATE_ACTIVE);\n            },\n            toggle: function (button, checked) {\n                var element = $(button), item = element.data('button');\n                if (item.options.togglable) {\n                    if (checked === undefined) {\n                        checked = true;\n                    }\n                    item.toggle(checked, true);\n                }\n            },\n            _renderOverflow: function () {\n                var that = this, overflowContainer = components.overflowContainer, isRtl = that._isRtl, horizontalDirection = isRtl ? 'left' : 'right';\n                that.overflowAnchor = $(components.overflowAnchor).addClass(BUTTON);\n                that.element.append(that.overflowAnchor);\n                if (that.isMobile) {\n                    that.overflowAnchor.append('<span class=\"km-icon km-more\"></span>');\n                    overflowContainer = actionSheetWrap(overflowContainer);\n                } else {\n                    that.overflowAnchor.append('<span class=\"k-icon k-i-arrow-s\"></span>');\n                }\n                that.popup = new kendo.ui.Popup(overflowContainer, {\n                    origin: 'bottom ' + horizontalDirection,\n                    position: 'top ' + horizontalDirection,\n                    anchor: that.overflowAnchor,\n                    isRtl: isRtl,\n                    animation: that.animation,\n                    appendTo: that.isMobile ? $(that.isMobile).children('.km-pane') : null,\n                    copyAnchorStyles: false,\n                    open: function (e) {\n                        var wrapper = kendo.wrap(that.popup.element).addClass('k-overflow-wrapper');\n                        if (!that.isMobile) {\n                            wrapper.css('margin-left', (isRtl ? -1 : 1) * ((outerWidth(wrapper) - wrapper.width()) / 2 + 1));\n                        } else {\n                            that.popup.container.css('max-height', parseFloat($('.km-content:visible').innerHeight()) - 15 + 'px');\n                        }\n                        if (that.trigger(OVERFLOW_OPEN)) {\n                            e.preventDefault();\n                        }\n                    },\n                    activate: function () {\n                        this.element.find(':kendoFocusable').first().focus();\n                    },\n                    close: function (e) {\n                        if (that.trigger(OVERFLOW_CLOSE)) {\n                            e.preventDefault();\n                        }\n                        this.element.focus();\n                    }\n                });\n                that.popup.element.on('keydown', '.' + BUTTON, function (e) {\n                    var target = $(e.target), li = target.parent(), isComplexTool = li.is('.' + BUTTON_GROUP) || li.is('.' + SPLIT_BUTTON), element;\n                    e.preventDefault();\n                    if (e.keyCode === keys.ESC || e.keyCode === keys.TAB || e.altKey && e.keyCode === keys.UP) {\n                        that._toggleOverflow();\n                        that.overflowAnchor.focus();\n                    } else if (e.keyCode === keys.DOWN) {\n                        element = !isComplexTool || isComplexTool && target.is(':last-child') ? li : target;\n                        findFocusableSibling(element, 'next').focus();\n                    } else if (e.keyCode === keys.UP) {\n                        element = !isComplexTool || isComplexTool && target.is(':first-child') ? li : target;\n                        findFocusableSibling(element, 'prev').focus();\n                    } else if (e.keyCode === keys.SPACEBAR || e.keyCode === keys.ENTER) {\n                        that.userEvents.trigger('tap', { target: $(e.target) });\n                    }\n                });\n                if (that.isMobile) {\n                    that.popup.container = that.popup.element.find('.' + OVERFLOW_CONTAINER);\n                } else {\n                    that.popup.container = that.popup.element;\n                }\n                that.popup.container.attr(KENDO_UID_ATTR, this.uid);\n            },\n            _toggleOverflowAnchor: function () {\n                var hasVisibleChildren = false;\n                if (this.options.mobile) {\n                    hasVisibleChildren = this.popup.element.find('.' + OVERFLOW_CONTAINER).children(':not(.' + OVERFLOW_HIDDEN + ', .' + POPUP + ')').length > 0;\n                } else {\n                    hasVisibleChildren = this.popup.element.children(':not(.' + OVERFLOW_HIDDEN + ', .' + POPUP + ')').length > 0;\n                }\n                if (hasVisibleChildren) {\n                    this.overflowAnchor.css({\n                        visibility: 'visible',\n                        width: ''\n                    });\n                } else {\n                    this.overflowAnchor.css({\n                        visibility: 'hidden',\n                        width: '1px'\n                    });\n                }\n            },\n            _buttonClick: function (e) {\n                var that = this, popup, target, item, splitContainer, isSplitButtonArrow = e.target.closest('.' + SPLIT_BUTTON_ARROW).length, handler, eventData, urlTarget;\n                e.preventDefault();\n                if (isSplitButtonArrow) {\n                    that._toggle(e);\n                    return;\n                }\n                target = $(e.target).closest('.' + BUTTON, that.element);\n                if (target.hasClass(OVERFLOW_ANCHOR)) {\n                    return;\n                }\n                item = target.data('button');\n                if (!item && that.popup) {\n                    target = $(e.target).closest('.' + OVERFLOW_BUTTON, that.popup.container);\n                    item = target.parent('li').data('button');\n                }\n                if (!item || !item.options.enable) {\n                    return;\n                }\n                if (item.options.togglable) {\n                    handler = isFunction(item.toggleHandler) ? item.toggleHandler : null;\n                    item.toggle(!item.options.selected, true);\n                    eventData = {\n                        target: target,\n                        group: item.options.group,\n                        checked: item.options.selected,\n                        id: item.options.id\n                    };\n                    if (handler) {\n                        handler.call(that, eventData);\n                    }\n                    that.trigger(TOGGLE, eventData);\n                } else {\n                    handler = isFunction(item.clickHandler) ? item.clickHandler : null;\n                    eventData = {\n                        sender: that,\n                        target: target,\n                        id: item.options.id\n                    };\n                    if (handler) {\n                        handler.call(that, eventData);\n                    }\n                    that.trigger(CLICK, eventData);\n                }\n                if (item.options.url) {\n                    if (item.options.attributes && item.options.attributes.target) {\n                        urlTarget = item.options.attributes.target;\n                    }\n                    window.open(item.options.url, urlTarget || '_self');\n                }\n                if (target.hasClass(OVERFLOW_BUTTON)) {\n                    that.popup.close();\n                }\n                splitContainer = target.closest('.k-split-container');\n                if (splitContainer[0]) {\n                    popup = splitContainer.data('kendoPopup');\n                    (popup ? popup : splitContainer.parents('.km-popup-wrapper').data('kendoPopup')).close();\n                }\n            },\n            _navigatable: function () {\n                var that = this;\n                that.element.attr('tabindex', 0).focus(function () {\n                    var element = $(this).find(':kendoFocusable:first');\n                    if (element.is('.' + OVERFLOW_ANCHOR)) {\n                        element = findFocusableSibling(element, 'next');\n                    }\n                    element[0].focus();\n                }).on('keydown', proxy(that._keydown, that));\n            },\n            _keydown: function (e) {\n                var target = $(e.target), keyCode = e.keyCode, items = this.element.children(':not(.k-separator):visible');\n                if (keyCode === keys.TAB) {\n                    var element = target.parentsUntil(this.element).last(), lastHasFocus = false, firstHasFocus = false;\n                    if (!element.length) {\n                        element = target;\n                    }\n                    if (element.is('.' + OVERFLOW_ANCHOR)) {\n                        if (e.shiftKey) {\n                            e.preventDefault();\n                        }\n                        if (items.last().is(':kendoFocusable')) {\n                            items.last().focus();\n                        } else {\n                            items.last().find(':kendoFocusable').last().focus();\n                        }\n                    }\n                    if (!e.shiftKey && items.index(element) === items.length - 1) {\n                        if (element.is('.' + BUTTON_GROUP)) {\n                            lastHasFocus = target.is(':last-child');\n                        } else {\n                            lastHasFocus = true;\n                        }\n                    }\n                    var isFirstTool = items.index(element) === items.not('.k-overflow-anchor').first().index();\n                    if (e.shiftKey && isFirstTool) {\n                        if (element.is('.' + BUTTON_GROUP)) {\n                            firstHasFocus = target.is(':first-child');\n                        } else {\n                            firstHasFocus = true;\n                        }\n                    }\n                    if (lastHasFocus && this.overflowAnchor && this.overflowAnchor.css('visibility') !== 'hidden') {\n                        e.preventDefault();\n                        this.overflowAnchor.focus();\n                    }\n                    if (firstHasFocus) {\n                        e.preventDefault();\n                        var prevFocusable = this._getPrevFocusable(this.wrapper);\n                        if (prevFocusable) {\n                            prevFocusable.focus();\n                        }\n                    }\n                }\n                if (e.altKey && keyCode === keys.DOWN) {\n                    var splitButton = $(document.activeElement).data('splitButton');\n                    var isOverflowAnchor = $(document.activeElement).is('.' + OVERFLOW_ANCHOR);\n                    if (splitButton) {\n                        splitButton.toggle();\n                    } else if (isOverflowAnchor) {\n                        this._toggleOverflow();\n                    }\n                    return;\n                }\n                if ((keyCode === keys.SPACEBAR || keyCode === keys.ENTER) && !target.is('input, checkbox')) {\n                    e.preventDefault();\n                    if (target.is('.' + SPLIT_BUTTON)) {\n                        target = target.children().first();\n                    }\n                    this.userEvents.trigger('tap', { target: target });\n                    return;\n                }\n            },\n            _getPrevFocusable: function (element) {\n                if (element.is('html')) {\n                    return element;\n                }\n                var elementToFocus, prevElement, prevElements = element.prevAll();\n                prevElements.each(function () {\n                    prevElement = $(this);\n                    if (prevElement.is(':kendoFocusable')) {\n                        elementToFocus = prevElement;\n                        return false;\n                    } else if (prevElement.find(':kendoFocusable').length > 0) {\n                        elementToFocus = prevElement.find(':kendoFocusable').last();\n                        return false;\n                    }\n                });\n                if (elementToFocus) {\n                    return elementToFocus;\n                } else {\n                    return this._getPrevFocusable(element.parent());\n                }\n            },\n            _toggle: function (e) {\n                var splitButton = $(e.target).closest('.' + SPLIT_BUTTON).data('splitButton'), isDefaultPrevented;\n                e.preventDefault();\n                if (!splitButton.options.enable) {\n                    return;\n                }\n                if (splitButton.popup.element.is(':visible')) {\n                    isDefaultPrevented = this.trigger(CLOSE, { target: splitButton.element });\n                } else {\n                    isDefaultPrevented = this.trigger(OPEN, { target: splitButton.element });\n                }\n                if (!isDefaultPrevented) {\n                    splitButton.toggle();\n                }\n            },\n            _toggleOverflow: function () {\n                this.popup.toggle();\n            },\n            _resize: function (e) {\n                var containerWidth = e.width;\n                if (!this.options.resizable) {\n                    return;\n                }\n                this.popup.close();\n                this._shrink(containerWidth);\n                this._stretch(containerWidth);\n                this._markVisibles();\n                this._toggleOverflowAnchor();\n            },\n            _childrenWidth: function () {\n                var childrenWidth = 0;\n                this.element.children(':visible:not(\\'.' + STATE_HIDDEN + '\\')').each(function () {\n                    childrenWidth += outerWidth($(this), true);\n                });\n                return Math.ceil(childrenWidth);\n            },\n            _shrink: function (containerWidth) {\n                var commandElement, visibleCommands;\n                if (containerWidth < this._childrenWidth()) {\n                    visibleCommands = this.element.children(':visible:not([data-overflow=\\'never\\'], .' + OVERFLOW_ANCHOR + ')');\n                    for (var i = visibleCommands.length - 1; i >= 0; i--) {\n                        commandElement = visibleCommands.eq(i);\n                        if (containerWidth > this._childrenWidth()) {\n                            break;\n                        } else {\n                            this._hideItem(commandElement);\n                        }\n                    }\n                }\n            },\n            _stretch: function (containerWidth) {\n                var commandElement, hiddenCommands;\n                if (containerWidth > this._childrenWidth()) {\n                    hiddenCommands = this.element.children(':hidden:not(\\'.' + STATE_HIDDEN + '\\')');\n                    for (var i = 0; i < hiddenCommands.length; i++) {\n                        commandElement = hiddenCommands.eq(i);\n                        if (containerWidth < this._childrenWidth() || !this._showItem(commandElement, containerWidth)) {\n                            break;\n                        }\n                    }\n                }\n            },\n            _hideItem: function (item) {\n                item.hide();\n                if (this.popup) {\n                    this.popup.container.find('>li[data-uid=\\'' + item.data('uid') + '\\']').removeClass(OVERFLOW_HIDDEN);\n                }\n            },\n            _showItem: function (item, containerWidth) {\n                if (item.length && containerWidth > this._childrenWidth() + outerWidth(item, true)) {\n                    item.show();\n                    if (this.popup) {\n                        this.popup.container.find('>li[data-uid=\\'' + item.data('uid') + '\\']').addClass(OVERFLOW_HIDDEN);\n                    }\n                    return true;\n                }\n                return false;\n            },\n            _markVisibles: function () {\n                var overflowItems = this.popup.container.children(), toolbarItems = this.element.children(':not(.k-overflow-anchor)'), visibleOverflowItems = overflowItems.filter(':not(.k-overflow-hidden)'), visibleToolbarItems = toolbarItems.filter(':visible');\n                overflowItems.add(toolbarItems).removeClass(FIRST_TOOLBAR_VISIBLE + ' ' + LAST_TOOLBAR_VISIBLE);\n                visibleOverflowItems.first().add(visibleToolbarItems.first()).addClass(FIRST_TOOLBAR_VISIBLE);\n                visibleOverflowItems.last().add(visibleToolbarItems.last()).addClass(LAST_TOOLBAR_VISIBLE);\n            }\n        });\n        kendo.ui.plugin(ToolBar);\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"],"sourceRoot":"/source/"}