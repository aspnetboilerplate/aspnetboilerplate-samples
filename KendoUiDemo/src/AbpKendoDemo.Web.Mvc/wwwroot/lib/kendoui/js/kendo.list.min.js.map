{"version":3,"sources":["kendo.list.js"],"names":["f","define","$","undefined","unifyType","value","type","last","list","length","getSelectedOption","select","index","selectedIndex","options","mapChangedItems","selected","itemsToMatch","dataItem","found","i","j","itemsLength","selectedLength","changed","unchanged","push","item","removeFiltersForField","expression","field","filters","grep","filter","STATIC_LIST_NS","StaticList","kendo","window","ui","outerWidth","_outerWidth","outerHeight","_outerHeight","Widget","keys","support","htmlEncode","activeElement","_activeElement","ObservableArray","data","ID","CHANGE","FOCUSED","HOVER","LOADING","HIDDENCLASS","OPEN","CLOSE","CASCADE","SELECT","SELECTED","REQUESTSTART","REQUESTEND","WIDTH","extend","proxy","isArray","browser","isIE","msie","isIE8","version","quotRegExp","alternativeNames","ComboBox","DropDownList","List","DataBoundWidget","init","element","id","that","this","ns","fn","call","_isSelect","is","dataSource","dataTextField","dataValueField","ul","attr","tabIndex","aria-hidden","append","on","_listMousedown","_header","_noData","_footer","_accessors","_initValue","valuePrimitive","footerTemplate","headerTemplate","noDataTemplate","setOptions","enable","enabled","_renderFooter","_renderNoData","focus","_focused","readonly","_editable","disable","_listOptions","currentOptions","virtual","listBoundHandler","_listBound","autoBind","selectable","click","_click","change","_listChange","activate","_activateItem","deactivate","_deactivateItem","dataBinding","trigger","dataBound","height","groupTemplate","fixedGroupTemplate","template","expr","$angular","_initList","listOptions","selectedItemChange","listView","VirtualList","bind","_setListValue","done","_updateSelectionState","noop","e","filterInput","target","preventDefault","_isFilterEnabled","_hideClear","_clear","addClass","_showClear","removeClass","_clearValue","_clearText","_accessor","_filter","word","open","_change","text","_clearFilter","bound","_filterSource","force","dataSourceState","resetPageSettings","removed","logic","_cascading","setDSFilter","page","pageSize","sort","group","aggregate","_mergeState","_angularElement","action","angular","elements","noData","destroy","remove","appendTo","children","html","instance","_toggleNoData","show","toggle","footer","header","prepend","_allowOpening","flatView","val","_old","_ignoreCase","model","reader","fields","ignoreCase","_focus","candidate","widgetOptions","toLowerCase","operator","_open","search","_inputValue","clearTimeout","_typingTimeout","enforceMinLength","minLength","_state","_searchByWord","current","items","_unbindDataSource","off","popup","_form","_resetHandler","selectedDataItems","getByUid","add","removeAttr","getter","textField","valueField","_text","_value","_aria","suggest","_blur","close","optionValue","_oldIndex","_typing","typing","_data","view","_enable","disabled","_dataValue","_offsetHeight","offsetHeight","siblings","content","prevAll","each","hasClass","_height","offsetTop","popups","footerHeight","visible","parent","hide","scrollHeight","_adjustListWidth","computedStyle","computedWidth","width","style","wrapper","getComputedStyle","parseFloat","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","css","fontFamily","autoWidth","minWidth","_openHandler","_closeHandler","_focusItem","noFocusedItem","highlightFirst","scrollToIndex","_calculateGroupPadding","li","groupHeader","prev","padding","display","scrollbar","_calculatePopupHeight","_resizePopup","one","_popup","Popup","anchor","animation","isRtl","_makeUnselectable","find","not","_toggleHover","currentTarget","toggleClass","_toggle","preventFocus","touchEnabled","mobileOS","touch","MSPointers","pointers","_prevent","_triggerCascade","_cascadeTriggered","userTriggered","_userTriggered","_triggerChange","_valueBeforeCascade","unbind","_requestStartHandler","_requestEndHandler","_errorHandler","requireValueMapper","hasValue","Array","valueMapper","Error","inArray","node","parentNode","idx","Select","_initial","setDataSource","_dataSource","_initialIndex","fetch","_parentWidget","_cascadeSelect","_select","_accessorInput","_accessorSelect","_custom","custom","_customOption","_hideBusy","_busy","_arrow","_showBusy","_request","setTimeout","_requestEnd","DataSource","create","_firstItem","focusFirst","_lastItem","focusLast","_nextItem","focusNext","_prevItem","focusPrev","_move","pressed","activeFilter","direction","key","keyCode","down","DOWN","UP","altKey","_fetch","dataItemByIndex","getElementIndex","ENTER","TAB","input","_focusElement","focusout","ESC","PAGEDOWN","PAGEUP","scrollWith","screenHeight","_fetchData","hasItems","cascadeFrom","_options","optionLabel","option","dataText","dataValue","htmlElement","indexOf","replace","setAttribute","_reset","formId","form","closest","parentElement","name","_cascade","cascade","_cascadeHandlerProxy","_cascadeHandler","_cascadeFilterRequests","_selectedValue","first","_toggleCascadeOnFocus","valueBeforeCascade","_clearSelection","_cascadeChange","expressions","handler","filterValue","cascadeFromField","currentHandler","shift","wrap","before","_optionID","guid","_selectedIndices","_view","_dataItems","_values","slice","_getter","_templates","_onScroll","_scrollId","_renderHeader","events","source","_refreshHandler","refresh","_fixedHeader","skip","_render","clientHeight","scroll","scrollTop","itemOffsetTop","itemOffsetHeight","contentScrollTop","contentOffsetHeight","bottomDistance","dataItems","_getValues","_valueGetter","map","next","hasCandidate","_current","_get","focusIndex","skipUpdate","_skipUpdate","indices","result","deferred","filtered","singleSelection","selectedIndices","added","Deferred","resolve","isFiltered","_deselectFiltered","_deselect","_valueComparer","removeAt","position","splice","setValue","_valueDeferred","state","_valueIndices","isDefaultPrevented","_valueExpr","values","body","comparer","normalized","_valueType","Function","_dataItemPosition","valueExpr","removedIndices","_template","useWithBlock","templates","_normalizeIndices","newIndices","_firstVisibleItem","itemHeight","itemIndex","Math","floor","lastChild","forward","nextSibling","previousSibling","isGrouped","visibleItem","_renderItem","context","notFirstItem","newGroup","dataContext","_selected","innerHTML","_lastDSFilter","Query","compareFilters","skipUpdateOnBind","isItemChange","_angularItems","_bound","plugin","jQuery","amd","a1","a2","a3"],"mappings":"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","file":"kendo.list.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('kendo.list', [\n        'kendo.data',\n        'kendo.popup'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'list',\n        name: 'List',\n        category: 'framework',\n        depends: [\n            'data',\n            'popup'\n        ],\n        hidden: true\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, ui = kendo.ui, outerWidth = kendo._outerWidth, outerHeight = kendo._outerHeight, Widget = ui.Widget, keys = kendo.keys, support = kendo.support, htmlEncode = kendo.htmlEncode, activeElement = kendo._activeElement, ObservableArray = kendo.data.ObservableArray, ID = 'id', CHANGE = 'change', FOCUSED = 'k-state-focused', HOVER = 'k-state-hover', LOADING = 'k-i-loading', HIDDENCLASS = 'k-loading-hidden', OPEN = 'open', CLOSE = 'close', CASCADE = 'cascade', SELECT = 'select', SELECTED = 'selected', REQUESTSTART = 'requestStart', REQUESTEND = 'requestEnd', WIDTH = 'width', extend = $.extend, proxy = $.proxy, isArray = $.isArray, browser = support.browser, isIE = browser.msie, isIE8 = isIE && browser.version < 9, quotRegExp = /\"/g, alternativeNames = {\n                'ComboBox': 'DropDownList',\n                'DropDownList': 'ComboBox'\n            };\n        var List = kendo.ui.DataBoundWidget.extend({\n            init: function (element, options) {\n                var that = this, ns = that.ns, id;\n                Widget.fn.init.call(that, element, options);\n                element = that.element;\n                options = that.options;\n                that._isSelect = element.is(SELECT);\n                if (that._isSelect && that.element[0].length) {\n                    if (!options.dataSource) {\n                        options.dataTextField = options.dataTextField || 'text';\n                        options.dataValueField = options.dataValueField || 'value';\n                    }\n                }\n                that.ul = $('<ul unselectable=\"on\" class=\"k-list k-reset\"/>').attr({\n                    tabIndex: -1,\n                    'aria-hidden': true\n                });\n                that.list = $('<div class=\\'k-list-container\\'/>').append(that.ul).on('mousedown' + ns, proxy(that._listMousedown, that));\n                id = element.attr(ID);\n                if (id) {\n                    that.list.attr(ID, id + '-list');\n                    that.ul.attr(ID, id + '_listbox');\n                }\n                that._header();\n                that._noData();\n                that._footer();\n                that._accessors();\n                that._initValue();\n            },\n            options: {\n                valuePrimitive: false,\n                footerTemplate: '',\n                headerTemplate: '',\n                noDataTemplate: 'No data found.'\n            },\n            setOptions: function (options) {\n                Widget.fn.setOptions.call(this, options);\n                if (options && options.enable !== undefined) {\n                    options.enabled = options.enable;\n                }\n                this._header();\n                this._noData();\n                this._footer();\n                this._renderFooter();\n                this._renderNoData();\n            },\n            focus: function () {\n                this._focused.focus();\n            },\n            readonly: function (readonly) {\n                this._editable({\n                    readonly: readonly === undefined ? true : readonly,\n                    disable: false\n                });\n            },\n            enable: function (enable) {\n                this._editable({\n                    readonly: false,\n                    disable: !(enable = enable === undefined ? true : enable)\n                });\n            },\n            _listOptions: function (options) {\n                var that = this;\n                var currentOptions = that.options;\n                var virtual = currentOptions.virtual;\n                var listBoundHandler = proxy(that._listBound, that);\n                virtual = typeof virtual === 'object' ? virtual : {};\n                options = $.extend({\n                    autoBind: false,\n                    selectable: true,\n                    dataSource: that.dataSource,\n                    click: proxy(that._click, that),\n                    change: proxy(that._listChange, that),\n                    activate: proxy(that._activateItem, that),\n                    deactivate: proxy(that._deactivateItem, that),\n                    dataBinding: function () {\n                        that.trigger('dataBinding');\n                    },\n                    dataBound: listBoundHandler,\n                    height: currentOptions.height,\n                    dataValueField: currentOptions.dataValueField,\n                    dataTextField: currentOptions.dataTextField,\n                    groupTemplate: currentOptions.groupTemplate,\n                    fixedGroupTemplate: currentOptions.fixedGroupTemplate,\n                    template: currentOptions.template\n                }, options, virtual);\n                if (!options.template) {\n                    options.template = '#:' + kendo.expr(options.dataTextField, 'data') + '#';\n                }\n                if (currentOptions.$angular) {\n                    options.$angular = currentOptions.$angular;\n                }\n                return options;\n            },\n            _initList: function () {\n                var that = this;\n                var listOptions = that._listOptions({ selectedItemChange: proxy(that._listChange, that) });\n                if (!that.options.virtual) {\n                    that.listView = new kendo.ui.StaticList(that.ul, listOptions);\n                } else {\n                    that.listView = new kendo.ui.VirtualList(that.ul, listOptions);\n                }\n                that.listView.bind('listBound', proxy(that._listBound, that));\n                that._setListValue();\n            },\n            _setListValue: function (value) {\n                value = value || this.options.value;\n                if (value !== undefined) {\n                    this.listView.value(value).done(proxy(this._updateSelectionState, this));\n                }\n            },\n            _updateSelectionState: $.noop,\n            _listMousedown: function (e) {\n                if (!this.filterInput || this.filterInput[0] !== e.target) {\n                    e.preventDefault();\n                }\n            },\n            _isFilterEnabled: function () {\n                var filter = this.options.filter;\n                return filter && filter !== 'none';\n            },\n            _hideClear: function () {\n                var that = this;\n                if (that._clear) {\n                    this._clear.addClass(HIDDENCLASS);\n                }\n            },\n            _showClear: function () {\n                var that = this;\n                if (that._clear) {\n                    this._clear.removeClass(HIDDENCLASS);\n                }\n            },\n            _clearValue: function () {\n                this.listView.value([]);\n                this._clearText();\n                this._accessor('');\n                if (this._isFilterEnabled()) {\n                    this._filter({\n                        word: '',\n                        open: false\n                    });\n                }\n                this._change();\n            },\n            _clearText: function () {\n                this.text('');\n            },\n            _clearFilter: function () {\n                if (!this.options.virtual) {\n                    this.listView.bound(false);\n                }\n                this._filterSource();\n            },\n            _filterSource: function (filter, force) {\n                var that = this;\n                var options = that.options;\n                var dataSource = that.dataSource;\n                var expression = extend({}, dataSource.filter() || {});\n                var resetPageSettings = filter || expression.filters && expression.filters.length && !filter;\n                var removed = removeFiltersForField(expression, options.dataTextField);\n                if ((filter || removed) && that.trigger('filtering', { filter: filter })) {\n                    return;\n                }\n                expression = {\n                    filters: expression.filters || [],\n                    logic: 'and'\n                };\n                if (filter) {\n                    expression.filters.push(filter);\n                }\n                if (that._cascading) {\n                    this.listView.setDSFilter(expression);\n                }\n                var dataSourceState = extend({}, {\n                    page: resetPageSettings ? 1 : dataSource.page(),\n                    pageSize: resetPageSettings ? dataSource.options.pageSize : dataSource.pageSize(),\n                    sort: dataSource.sort(),\n                    filter: dataSource.filter(),\n                    group: dataSource.group(),\n                    aggregate: dataSource.aggregate()\n                }, { filter: expression });\n                dataSource[force ? 'read' : 'query'](dataSource._mergeState(dataSourceState));\n            },\n            _angularElement: function (element, action) {\n                if (!element) {\n                    return;\n                }\n                this.angular(action, function () {\n                    return { elements: element };\n                });\n            },\n            _noData: function () {\n                var noData = $(this.noData);\n                var template = this.options.noDataTemplate;\n                this.angular('cleanup', function () {\n                    return { elements: noData };\n                });\n                kendo.destroy(noData);\n                noData.remove();\n                if (!template) {\n                    this.noData = null;\n                    return;\n                }\n                this.noData = $('<div class=\"k-nodata\" style=\"display:none\"><div></div></div>').appendTo(this.list);\n                this.noDataTemplate = typeof template !== 'function' ? kendo.template(template) : template;\n            },\n            _renderNoData: function () {\n                var noData = this.noData;\n                if (!noData) {\n                    return;\n                }\n                this._angularElement(noData, 'cleanup');\n                noData.children(':first').html(this.noDataTemplate({ instance: this }));\n                this._angularElement(noData, 'compile');\n            },\n            _toggleNoData: function (show) {\n                $(this.noData).toggle(show);\n            },\n            _footer: function () {\n                var footer = $(this.footer);\n                var template = this.options.footerTemplate;\n                this._angularElement(footer, 'cleanup');\n                kendo.destroy(footer);\n                footer.remove();\n                if (!template) {\n                    this.footer = null;\n                    return;\n                }\n                this.footer = $('<div class=\"k-footer\"></div>').appendTo(this.list);\n                this.footerTemplate = typeof template !== 'function' ? kendo.template(template) : template;\n            },\n            _renderFooter: function () {\n                var footer = this.footer;\n                if (!footer) {\n                    return;\n                }\n                this._angularElement(footer, 'cleanup');\n                footer.html(this.footerTemplate({ instance: this }));\n                this._angularElement(footer, 'compile');\n            },\n            _header: function () {\n                var header = $(this.header);\n                var template = this.options.headerTemplate;\n                this._angularElement(header, 'cleanup');\n                kendo.destroy(header);\n                header.remove();\n                if (!template) {\n                    this.header = null;\n                    return;\n                }\n                var headerTemplate = typeof template !== 'function' ? kendo.template(template) : template;\n                header = $(headerTemplate({}));\n                this.header = header[0] ? header : null;\n                this.list.prepend(header);\n                this._angularElement(this.header, 'compile');\n            },\n            _allowOpening: function () {\n                return this.options.noDataTemplate || this.dataSource.flatView().length;\n            },\n            _initValue: function () {\n                var that = this, value = that.options.value;\n                if (value !== null) {\n                    that.element.val(value);\n                } else {\n                    value = that._accessor();\n                    that.options.value = value;\n                }\n                that._old = value;\n            },\n            _ignoreCase: function () {\n                var that = this, model = that.dataSource.reader.model, field;\n                if (model && model.fields) {\n                    field = model.fields[that.options.dataTextField];\n                    if (field && field.type && field.type !== 'string') {\n                        that.options.ignoreCase = false;\n                    }\n                }\n            },\n            _focus: function (candidate) {\n                return this.listView.focus(candidate);\n            },\n            _filter: function (options) {\n                var that = this;\n                var widgetOptions = that.options;\n                var ignoreCase = widgetOptions.ignoreCase;\n                var field = widgetOptions.dataTextField;\n                var expression = {\n                    value: ignoreCase ? options.word.toLowerCase() : options.word,\n                    field: field,\n                    operator: widgetOptions.filter,\n                    ignoreCase: ignoreCase\n                };\n                that._open = options.open;\n                that._filterSource(expression);\n            },\n            search: function (word) {\n                var options = this.options;\n                word = typeof word === 'string' ? word : this._inputValue();\n                clearTimeout(this._typingTimeout);\n                if (!options.enforceMinLength && !word.length || word.length >= options.minLength) {\n                    this._state = 'filter';\n                    if (!this._isFilterEnabled()) {\n                        this._searchByWord(word);\n                    } else {\n                        this._filter({\n                            word: word,\n                            open: true\n                        });\n                    }\n                }\n            },\n            current: function (candidate) {\n                return this._focus(candidate);\n            },\n            items: function () {\n                return this.ul[0].children;\n            },\n            destroy: function () {\n                var that = this;\n                var ns = that.ns;\n                Widget.fn.destroy.call(that);\n                that._unbindDataSource();\n                that.listView.destroy();\n                that.list.off(ns);\n                that.popup.destroy();\n                if (that._form) {\n                    that._form.off('reset', that._resetHandler);\n                }\n            },\n            dataItem: function (index) {\n                var that = this;\n                if (index === undefined) {\n                    return that.listView.selectedDataItems()[0];\n                }\n                if (typeof index !== 'number') {\n                    if (that.options.virtual) {\n                        return that.dataSource.getByUid($(index).data('uid'));\n                    }\n                    index = $(that.items()).index(index);\n                }\n                return that.dataSource.flatView()[index];\n            },\n            _activateItem: function () {\n                var current = this.listView.focus();\n                if (current) {\n                    this._focused.add(this.filterInput).attr('aria-activedescendant', current.attr('id'));\n                }\n            },\n            _deactivateItem: function () {\n                this._focused.add(this.filterInput).removeAttr('aria-activedescendant');\n            },\n            _accessors: function () {\n                var that = this;\n                var element = that.element;\n                var options = that.options;\n                var getter = kendo.getter;\n                var textField = element.attr(kendo.attr('text-field'));\n                var valueField = element.attr(kendo.attr('value-field'));\n                if (!options.dataTextField && textField) {\n                    options.dataTextField = textField;\n                }\n                if (!options.dataValueField && valueField) {\n                    options.dataValueField = valueField;\n                }\n                that._text = getter(options.dataTextField);\n                that._value = getter(options.dataValueField);\n            },\n            _aria: function (id) {\n                var that = this, options = that.options, element = that._focused.add(that.filterInput);\n                if (options.suggest !== undefined) {\n                    element.attr('aria-autocomplete', options.suggest ? 'both' : 'list');\n                }\n                id = id ? id + ' ' + that.ul[0].id : that.ul[0].id;\n                element.attr('aria-owns', id);\n                that.ul.attr('aria-live', !that._isFilterEnabled() ? 'off' : 'polite');\n            },\n            _blur: function () {\n                var that = this;\n                that._change();\n                that.close();\n            },\n            _change: function () {\n                var that = this;\n                var index = that.selectedIndex;\n                var optionValue = that.options.value;\n                var value = that.value();\n                var trigger;\n                if (that._isSelect && !that.listView.bound() && optionValue) {\n                    value = optionValue;\n                }\n                if (value !== unifyType(that._old, typeof value)) {\n                    trigger = true;\n                } else if (index !== undefined && index !== that._oldIndex) {\n                    trigger = true;\n                }\n                if (trigger) {\n                    that._old = value;\n                    that._oldIndex = index;\n                    if (!that._typing) {\n                        that.element.trigger(CHANGE);\n                    }\n                    that.trigger(CHANGE);\n                }\n                that.typing = false;\n            },\n            _data: function () {\n                return this.dataSource.view();\n            },\n            _enable: function () {\n                var that = this, options = that.options, disabled = that.element.is('[disabled]');\n                if (options.enable !== undefined) {\n                    options.enabled = options.enable;\n                }\n                if (!options.enabled || disabled) {\n                    that.enable(false);\n                } else {\n                    that.readonly(that.element.is('[readonly]'));\n                }\n            },\n            _dataValue: function (dataItem) {\n                var value = this._value(dataItem);\n                if (value === undefined) {\n                    value = this._text(dataItem);\n                }\n                return value;\n            },\n            _offsetHeight: function () {\n                var offsetHeight = 0;\n                var siblings = this.listView.content.prevAll(':visible');\n                siblings.each(function () {\n                    var element = $(this);\n                    if (element.hasClass('k-list-filter')) {\n                        offsetHeight += outerHeight(element.children());\n                    } else {\n                        offsetHeight += outerHeight(element);\n                    }\n                });\n                return offsetHeight;\n            },\n            _height: function (length) {\n                var that = this;\n                var list = that.list;\n                var height = that.options.height;\n                var visible = that.popup.visible();\n                var offsetTop;\n                var popups;\n                var footerHeight;\n                if (length || that.options.noDataTemplate) {\n                    popups = list.add(list.parent('.k-animation-container')).show();\n                    if (!list.is(':visible')) {\n                        popups.hide();\n                        return;\n                    }\n                    height = that.listView.content[0].scrollHeight > height ? height : 'auto';\n                    popups.height(height);\n                    if (height !== 'auto') {\n                        offsetTop = that._offsetHeight();\n                        footerHeight = outerHeight($(that.footer)) || 0;\n                        height = height - offsetTop - footerHeight;\n                    }\n                    that.listView.content.height(height);\n                    if (!visible) {\n                        popups.hide();\n                    }\n                }\n                return height;\n            },\n            _adjustListWidth: function () {\n                var list = this.list, width = list[0].style.width, wrapper = this.wrapper, computedStyle, computedWidth;\n                if (!list.data(WIDTH) && width) {\n                    return;\n                }\n                computedStyle = window.getComputedStyle ? window.getComputedStyle(wrapper[0], null) : 0;\n                computedWidth = parseFloat(computedStyle && computedStyle.width) || outerWidth(wrapper);\n                if (computedStyle && browser.msie) {\n                    computedWidth += parseFloat(computedStyle.paddingLeft) + parseFloat(computedStyle.paddingRight) + parseFloat(computedStyle.borderLeftWidth) + parseFloat(computedStyle.borderRightWidth);\n                }\n                if (list.css('box-sizing') !== 'border-box') {\n                    width = computedWidth - (outerWidth(list) - list.width());\n                } else {\n                    width = computedWidth;\n                }\n                list.css({\n                    fontFamily: wrapper.css('font-family'),\n                    width: this.options.autoWidth ? 'auto' : width,\n                    minWidth: width\n                }).data(WIDTH, width);\n                return true;\n            },\n            _openHandler: function (e) {\n                this._adjustListWidth();\n                if (this.trigger(OPEN)) {\n                    e.preventDefault();\n                } else {\n                    this._focused.attr('aria-expanded', true);\n                    this.ul.attr('aria-hidden', false);\n                }\n            },\n            _closeHandler: function (e) {\n                if (this.trigger(CLOSE)) {\n                    e.preventDefault();\n                } else {\n                    this._focused.attr('aria-expanded', false);\n                    this.ul.attr('aria-hidden', true);\n                }\n            },\n            _focusItem: function () {\n                var listView = this.listView;\n                var noFocusedItem = !listView.focus();\n                var index = last(listView.select());\n                if (index === undefined && this.options.highlightFirst && noFocusedItem) {\n                    index = 0;\n                }\n                if (index !== undefined) {\n                    listView.focus(index);\n                } else if (noFocusedItem) {\n                    listView.scrollToIndex(0);\n                }\n            },\n            _calculateGroupPadding: function (height) {\n                var li = this.ul.children('.k-first:first');\n                var groupHeader = this.listView.content.prev('.k-group-header');\n                var padding = 0;\n                if (groupHeader[0] && groupHeader[0].style.display !== 'none') {\n                    if (height !== 'auto') {\n                        padding = kendo.support.scrollbar();\n                    }\n                    padding += parseFloat(li.css('border-right-width'), 10) + parseFloat(li.children('.k-group').css('padding-right'), 10);\n                    groupHeader.css('padding-right', padding);\n                }\n            },\n            _calculatePopupHeight: function (force) {\n                var height = this._height(this.dataSource.flatView().length || force);\n                this._calculateGroupPadding(height);\n            },\n            _resizePopup: function (force) {\n                if (this.options.virtual) {\n                    return;\n                }\n                if (!this.popup.element.is(':visible')) {\n                    this.popup.one('open', function (force) {\n                        return proxy(function () {\n                            this._calculatePopupHeight(force);\n                        }, this);\n                    }.call(this, force));\n                } else {\n                    this._calculatePopupHeight(force);\n                }\n            },\n            _popup: function () {\n                var that = this;\n                that.popup = new ui.Popup(that.list, extend({}, that.options.popup, {\n                    anchor: that.wrapper,\n                    open: proxy(that._openHandler, that),\n                    close: proxy(that._closeHandler, that),\n                    animation: that.options.animation,\n                    isRtl: support.isRtl(that.wrapper)\n                }));\n            },\n            _makeUnselectable: function () {\n                if (isIE8) {\n                    this.list.find('*').not('.k-textbox').attr('unselectable', 'on');\n                }\n            },\n            _toggleHover: function (e) {\n                $(e.currentTarget).toggleClass(HOVER, e.type === 'mouseenter');\n            },\n            _toggle: function (open, preventFocus) {\n                var that = this;\n                var touchEnabled = support.mobileOS && (support.touch || support.MSPointers || support.pointers);\n                open = open !== undefined ? open : !that.popup.visible();\n                if (!preventFocus && !touchEnabled && that._focused[0] !== activeElement()) {\n                    that._prevent = true;\n                    that._focused.focus();\n                    that._prevent = false;\n                }\n                that[open ? OPEN : CLOSE]();\n            },\n            _triggerCascade: function () {\n                var that = this;\n                if (!that._cascadeTriggered || that._old !== that.value() || that._oldIndex !== that.selectedIndex) {\n                    that._cascadeTriggered = true;\n                    that.trigger(CASCADE, { userTriggered: that._userTriggered });\n                }\n            },\n            _triggerChange: function () {\n                if (this._valueBeforeCascade !== this.value()) {\n                    this.trigger(CHANGE);\n                }\n            },\n            _unbindDataSource: function () {\n                var that = this;\n                that.dataSource.unbind(REQUESTSTART, that._requestStartHandler).unbind(REQUESTEND, that._requestEndHandler).unbind('error', that._errorHandler);\n            },\n            requireValueMapper: function (options, value) {\n                var hasValue = (options.value instanceof Array ? options.value.length : options.value) || (value instanceof Array ? value.length : value);\n                if (hasValue && options.virtual && typeof options.virtual.valueMapper !== 'function') {\n                    throw new Error('ValueMapper is not provided while the value is being set. See http://docs.telerik.com/kendo-ui/controls/editors/combobox/virtualization#the-valuemapper-function');\n                }\n            }\n        });\n        function unifyType(value, type) {\n            if (value !== undefined && value !== '' && value !== null) {\n                if (type === 'boolean') {\n                    value = Boolean(value);\n                } else if (type === 'number') {\n                    value = Number(value);\n                } else if (type === 'string') {\n                    value = value.toString();\n                }\n            }\n            return value;\n        }\n        extend(List, {\n            inArray: function (node, parentNode) {\n                var idx, length, siblings = parentNode.children;\n                if (!node || node.parentNode !== parentNode) {\n                    return -1;\n                }\n                for (idx = 0, length = siblings.length; idx < length; idx++) {\n                    if (node === siblings[idx]) {\n                        return idx;\n                    }\n                }\n                return -1;\n            },\n            unifyType: unifyType\n        });\n        kendo.ui.List = List;\n        ui.Select = List.extend({\n            init: function (element, options) {\n                List.fn.init.call(this, element, options);\n                this._initial = this.element.val();\n            },\n            setDataSource: function (dataSource) {\n                var that = this;\n                var parent;\n                that.options.dataSource = dataSource;\n                that._dataSource();\n                if (that.listView.bound()) {\n                    that._initialIndex = null;\n                }\n                that.listView.setDataSource(that.dataSource);\n                if (that.options.autoBind) {\n                    that.dataSource.fetch();\n                }\n                parent = that._parentWidget();\n                if (parent) {\n                    that._cascadeSelect(parent);\n                }\n            },\n            close: function () {\n                this.popup.close();\n            },\n            select: function (candidate) {\n                var that = this;\n                if (candidate === undefined) {\n                    return that.selectedIndex;\n                } else {\n                    return that._select(candidate).done(function () {\n                        that._old = that._accessor();\n                        that._oldIndex = that.selectedIndex;\n                    });\n                }\n            },\n            _accessor: function (value, idx) {\n                return this[this._isSelect ? '_accessorSelect' : '_accessorInput'](value, idx);\n            },\n            _accessorInput: function (value) {\n                var element = this.element[0];\n                if (value === undefined) {\n                    return element.value;\n                } else {\n                    if (value === null) {\n                        value = '';\n                    }\n                    element.value = value;\n                }\n            },\n            _accessorSelect: function (value, idx) {\n                var element = this.element[0];\n                var hasValue;\n                if (value === undefined) {\n                    return getSelectedOption(element).value || '';\n                }\n                getSelectedOption(element).selected = false;\n                if (idx === undefined) {\n                    idx = -1;\n                }\n                hasValue = value !== null && value !== '';\n                if (hasValue && idx == -1) {\n                    this._custom(value);\n                } else {\n                    if (value) {\n                        element.value = value;\n                    } else {\n                        element.selectedIndex = idx;\n                    }\n                }\n            },\n            _custom: function (value) {\n                var that = this;\n                var element = that.element;\n                var custom = that._customOption;\n                if (!custom) {\n                    custom = $('<option/>');\n                    that._customOption = custom;\n                    element.append(custom);\n                }\n                custom.text(value);\n                custom[0].selected = true;\n            },\n            _hideBusy: function () {\n                var that = this;\n                clearTimeout(that._busy);\n                that._arrow.removeClass(LOADING);\n                that._focused.attr('aria-busy', false);\n                that._busy = null;\n                that._showClear();\n            },\n            _showBusy: function () {\n                var that = this;\n                that._request = true;\n                if (that._busy) {\n                    return;\n                }\n                that._busy = setTimeout(function () {\n                    if (that._arrow) {\n                        that._focused.attr('aria-busy', true);\n                        that._arrow.addClass(LOADING);\n                        that._hideClear();\n                    }\n                }, 100);\n            },\n            _requestEnd: function () {\n                this._request = false;\n                this._hideBusy();\n            },\n            _dataSource: function () {\n                var that = this, element = that.element, options = that.options, dataSource = options.dataSource || {}, idx;\n                dataSource = $.isArray(dataSource) ? { data: dataSource } : dataSource;\n                if (that._isSelect) {\n                    idx = element[0].selectedIndex;\n                    if (idx > -1) {\n                        options.index = idx;\n                    }\n                    dataSource.select = element;\n                    dataSource.fields = [\n                        { field: options.dataTextField },\n                        { field: options.dataValueField }\n                    ];\n                }\n                if (that.dataSource) {\n                    that._unbindDataSource();\n                } else {\n                    that._requestStartHandler = proxy(that._showBusy, that);\n                    that._requestEndHandler = proxy(that._requestEnd, that);\n                    that._errorHandler = proxy(that._hideBusy, that);\n                }\n                that.dataSource = kendo.data.DataSource.create(dataSource).bind(REQUESTSTART, that._requestStartHandler).bind(REQUESTEND, that._requestEndHandler).bind('error', that._errorHandler);\n            },\n            _firstItem: function () {\n                this.listView.focusFirst();\n            },\n            _lastItem: function () {\n                this.listView.focusLast();\n            },\n            _nextItem: function () {\n                this.listView.focusNext();\n            },\n            _prevItem: function () {\n                this.listView.focusPrev();\n            },\n            _move: function (e) {\n                var that = this;\n                var listView = that.listView;\n                var key = e.keyCode;\n                var down = key === keys.DOWN;\n                var dataItem;\n                var pressed;\n                var current;\n                if (key === keys.UP || down) {\n                    if (e.altKey) {\n                        that.toggle(down);\n                    } else {\n                        if (!listView.bound()) {\n                            if (!that._fetch) {\n                                that.dataSource.one(CHANGE, function () {\n                                    that._fetch = false;\n                                    that._move(e);\n                                });\n                                that._fetch = true;\n                                that._filterSource();\n                            }\n                            e.preventDefault();\n                            return true;\n                        }\n                        current = that._focus();\n                        if (!that._fetch && (!current || current.hasClass('k-state-selected'))) {\n                            if (down) {\n                                that._nextItem();\n                                if (!that._focus()) {\n                                    that._lastItem();\n                                }\n                            } else {\n                                that._prevItem();\n                                if (!that._focus()) {\n                                    that._firstItem();\n                                }\n                            }\n                        }\n                        dataItem = listView.dataItemByIndex(listView.getElementIndex(that._focus()));\n                        if (that.trigger(SELECT, {\n                                dataItem: dataItem,\n                                item: that._focus()\n                            })) {\n                            that._focus(current);\n                            return;\n                        }\n                        that._select(that._focus(), true).done(function () {\n                            if (!that.popup.visible()) {\n                                that._blur();\n                            }\n                        });\n                    }\n                    e.preventDefault();\n                    pressed = true;\n                } else if (key === keys.ENTER || key === keys.TAB) {\n                    if (that.popup.visible()) {\n                        e.preventDefault();\n                    }\n                    current = that._focus();\n                    dataItem = that.dataItem();\n                    if (!that.popup.visible() && (!dataItem || that.text() !== that._text(dataItem))) {\n                        current = null;\n                    }\n                    var activeFilter = that.filterInput && that.filterInput[0] === activeElement();\n                    if (current) {\n                        dataItem = listView.dataItemByIndex(listView.getElementIndex(current));\n                        if (that.trigger(SELECT, {\n                                dataItem: dataItem,\n                                item: current\n                            })) {\n                            return;\n                        }\n                        that._select(current);\n                    } else if (that.input) {\n                        that._accessor(that.input.val());\n                        that.listView.value(that.input.val());\n                    }\n                    if (that._focusElement) {\n                        that._focusElement(that.wrapper);\n                    }\n                    if (activeFilter && key === keys.TAB) {\n                        that.wrapper.focusout();\n                    } else {\n                        that._blur();\n                    }\n                    that.close();\n                    pressed = true;\n                } else if (key === keys.ESC) {\n                    if (that.popup.visible()) {\n                        e.preventDefault();\n                    }\n                    that.close();\n                    pressed = true;\n                } else if (that.popup.visible() && (key === keys.PAGEDOWN || key === keys.PAGEUP)) {\n                    e.preventDefault();\n                    var direction = key === keys.PAGEDOWN ? 1 : -1;\n                    listView.scrollWith(direction * listView.screenHeight());\n                    pressed = true;\n                }\n                return pressed;\n            },\n            _fetchData: function () {\n                var that = this;\n                var hasItems = !!that.dataSource.view().length;\n                if (that._request || that.options.cascadeFrom) {\n                    return;\n                }\n                if (!that.listView.bound() && !that._fetch && !hasItems) {\n                    that._fetch = true;\n                    that.dataSource.fetch().done(function () {\n                        that._fetch = false;\n                    });\n                }\n            },\n            _options: function (data, optionLabel, value) {\n                var that = this, element = that.element, htmlElement = element[0], length = data.length, options = '', option, dataItem, dataText, dataValue, idx = 0;\n                if (optionLabel) {\n                    options = optionLabel;\n                }\n                for (; idx < length; idx++) {\n                    option = '<option';\n                    dataItem = data[idx];\n                    dataText = that._text(dataItem);\n                    dataValue = that._value(dataItem);\n                    if (dataValue !== undefined) {\n                        dataValue += '';\n                        if (dataValue.indexOf('\"') !== -1) {\n                            dataValue = dataValue.replace(quotRegExp, '&quot;');\n                        }\n                        option += ' value=\"' + dataValue + '\"';\n                    }\n                    option += '>';\n                    if (dataText !== undefined) {\n                        option += htmlEncode(dataText);\n                    }\n                    option += '</option>';\n                    options += option;\n                }\n                element.html(options);\n                if (value !== undefined) {\n                    htmlElement.value = value;\n                    if (htmlElement.value && !value) {\n                        htmlElement.selectedIndex = -1;\n                    }\n                }\n                if (htmlElement.selectedIndex !== -1) {\n                    option = getSelectedOption(htmlElement);\n                    if (option) {\n                        option.setAttribute(SELECTED, SELECTED);\n                    }\n                }\n            },\n            _reset: function () {\n                var that = this, element = that.element, formId = element.attr('form'), form = formId ? $('#' + formId) : element.closest('form');\n                if (form[0]) {\n                    that._resetHandler = function () {\n                        setTimeout(function () {\n                            that.value(that._initial);\n                        });\n                    };\n                    that._form = form.on('reset', that._resetHandler);\n                }\n            },\n            _parentWidget: function () {\n                var name = this.options.name;\n                if (!this.options.cascadeFrom) {\n                    return;\n                }\n                var parentElement = $('#' + this.options.cascadeFrom);\n                var parent = parentElement.data('kendo' + name);\n                if (!parent) {\n                    parent = parentElement.data('kendo' + alternativeNames[name]);\n                }\n                return parent;\n            },\n            _cascade: function () {\n                var that = this;\n                var options = that.options;\n                var cascade = options.cascadeFrom;\n                var parent;\n                if (cascade) {\n                    parent = that._parentWidget();\n                    if (!parent) {\n                        return;\n                    }\n                    that._cascadeHandlerProxy = proxy(that._cascadeHandler, that);\n                    that._cascadeFilterRequests = [];\n                    options.autoBind = false;\n                    parent.bind('set', function () {\n                        that.one('set', function (e) {\n                            that._selectedValue = e.value;\n                        });\n                    });\n                    parent.first(CASCADE, that._cascadeHandlerProxy);\n                    if (parent.listView.bound()) {\n                        that._toggleCascadeOnFocus();\n                        that._cascadeSelect(parent);\n                    } else {\n                        parent.one('dataBound', function () {\n                            that._toggleCascadeOnFocus();\n                        });\n                        if (!parent.value()) {\n                            that.enable(false);\n                        }\n                    }\n                }\n            },\n            _toggleCascadeOnFocus: function () {\n                var that = this;\n                var parent = that._parentWidget();\n                var focusout = isIE ? 'blur' : 'focusout';\n                parent._focused.add(parent.filterInput).bind('focus', function () {\n                    parent.unbind(CASCADE, that._cascadeHandlerProxy);\n                    parent.first(CHANGE, that._cascadeHandlerProxy);\n                });\n                parent._focused.add(parent.filterInput).bind(focusout, function () {\n                    parent.unbind(CHANGE, that._cascadeHandlerProxy);\n                    parent.first(CASCADE, that._cascadeHandlerProxy);\n                });\n            },\n            _cascadeHandler: function (e) {\n                var parent = this._parentWidget();\n                var valueBeforeCascade = this.value();\n                this._userTriggered = e.userTriggered;\n                if (this.listView.bound()) {\n                    this._clearSelection(parent, true);\n                }\n                this._cascadeSelect(parent, valueBeforeCascade);\n            },\n            _cascadeChange: function (parent) {\n                var that = this;\n                var value = that._accessor() || that._selectedValue;\n                if (!that._cascadeFilterRequests.length) {\n                    that._selectedValue = null;\n                }\n                if (that._userTriggered) {\n                    that._clearSelection(parent, true);\n                } else if (value) {\n                    if (value !== that.listView.value()[0]) {\n                        that.value(value);\n                    }\n                    if (!that.dataSource.view()[0] || that.selectedIndex === -1) {\n                        that._clearSelection(parent, true);\n                    }\n                } else if (that.dataSource.flatView().length) {\n                    that.select(that.options.index);\n                }\n                that.enable();\n                that._triggerCascade();\n                that._triggerChange();\n                that._userTriggered = false;\n            },\n            _cascadeSelect: function (parent, valueBeforeCascade) {\n                var that = this;\n                var dataItem = parent.dataItem();\n                var filterValue = dataItem ? parent._value(dataItem) : null;\n                var valueField = that.options.cascadeFromField || parent.options.dataValueField;\n                var expressions;\n                that._valueBeforeCascade = valueBeforeCascade !== undefined ? valueBeforeCascade : that.value();\n                if (filterValue || filterValue === 0) {\n                    expressions = that.dataSource.filter() || {};\n                    removeFiltersForField(expressions, valueField);\n                    var handler = function () {\n                        var currentHandler = that._cascadeFilterRequests.shift();\n                        if (currentHandler) {\n                            that.unbind('dataBound', currentHandler);\n                        }\n                        currentHandler = that._cascadeFilterRequests[0];\n                        if (currentHandler) {\n                            that.first('dataBound', currentHandler);\n                        }\n                        that._cascadeChange(parent);\n                    };\n                    that._cascadeFilterRequests.push(handler);\n                    if (that._cascadeFilterRequests.length === 1) {\n                        that.first('dataBound', handler);\n                    }\n                    that._cascading = true;\n                    that._filterSource({\n                        field: valueField,\n                        operator: 'eq',\n                        value: filterValue\n                    });\n                    that._cascading = false;\n                } else {\n                    that.enable(false);\n                    that._clearSelection(parent);\n                    that._triggerCascade();\n                    that._triggerChange();\n                    that._userTriggered = false;\n                }\n            }\n        });\n        var STATIC_LIST_NS = '.StaticList';\n        var StaticList = kendo.ui.DataBoundWidget.extend({\n            init: function (element, options) {\n                Widget.fn.init.call(this, element, options);\n                this.element.attr('role', 'listbox').on('click' + STATIC_LIST_NS, 'li', proxy(this._click, this)).on('mouseenter' + STATIC_LIST_NS, 'li', function () {\n                    $(this).addClass(HOVER);\n                }).on('mouseleave' + STATIC_LIST_NS, 'li', function () {\n                    $(this).removeClass(HOVER);\n                });\n                this.content = this.element.wrap('<div class=\\'k-list-scroller\\' unselectable=\\'on\\'></div>').parent();\n                this.header = this.content.before('<div class=\"k-group-header\" style=\"display:none\"></div>').prev();\n                this.bound(false);\n                this._optionID = kendo.guid();\n                this._selectedIndices = [];\n                this._view = [];\n                this._dataItems = [];\n                this._values = [];\n                var value = this.options.value;\n                if (value) {\n                    this._values = $.isArray(value) ? value.slice(0) : [value];\n                }\n                this._getter();\n                this._templates();\n                this.setDataSource(this.options.dataSource);\n                this._onScroll = proxy(function () {\n                    var that = this;\n                    clearTimeout(that._scrollId);\n                    that._scrollId = setTimeout(function () {\n                        that._renderHeader();\n                    }, 50);\n                }, this);\n            },\n            options: {\n                name: 'StaticList',\n                dataValueField: null,\n                valuePrimitive: false,\n                selectable: true,\n                template: null,\n                groupTemplate: null,\n                fixedGroupTemplate: null\n            },\n            events: [\n                'click',\n                CHANGE,\n                'activate',\n                'deactivate',\n                'dataBinding',\n                'dataBound',\n                'selectedItemChange'\n            ],\n            setDataSource: function (source) {\n                var that = this;\n                var dataSource = source || {};\n                var value;\n                dataSource = $.isArray(dataSource) ? { data: dataSource } : dataSource;\n                dataSource = kendo.data.DataSource.create(dataSource);\n                if (that.dataSource) {\n                    that.dataSource.unbind(CHANGE, that._refreshHandler);\n                    value = that.value();\n                    that.value([]);\n                    that.bound(false);\n                    that.value(value);\n                } else {\n                    that._refreshHandler = proxy(that.refresh, that);\n                }\n                that.setDSFilter(dataSource.filter());\n                that.dataSource = dataSource.bind(CHANGE, that._refreshHandler);\n                that._fixedHeader();\n            },\n            skip: function () {\n                return this.dataSource.skip();\n            },\n            setOptions: function (options) {\n                Widget.fn.setOptions.call(this, options);\n                this._getter();\n                this._templates();\n                this._render();\n            },\n            destroy: function () {\n                this.element.off(STATIC_LIST_NS);\n                if (this._refreshHandler) {\n                    this.dataSource.unbind(CHANGE, this._refreshHandler);\n                }\n                clearTimeout(this._scrollId);\n                Widget.fn.destroy.call(this);\n            },\n            dataItemByIndex: function (index) {\n                return this.dataSource.flatView()[index];\n            },\n            screenHeight: function () {\n                return this.content[0].clientHeight;\n            },\n            scrollToIndex: function (index) {\n                var item = this.element[0].children[index];\n                if (item) {\n                    this.scroll(item);\n                }\n            },\n            scrollWith: function (value) {\n                this.content.scrollTop(this.content.scrollTop() + value);\n            },\n            scroll: function (item) {\n                if (!item) {\n                    return;\n                }\n                if (item[0]) {\n                    item = item[0];\n                }\n                var content = this.content[0], itemOffsetTop = item.offsetTop, itemOffsetHeight = item.offsetHeight, contentScrollTop = content.scrollTop, contentOffsetHeight = content.clientHeight, bottomDistance = itemOffsetTop + itemOffsetHeight;\n                if (contentScrollTop > itemOffsetTop) {\n                    contentScrollTop = itemOffsetTop;\n                } else if (bottomDistance > contentScrollTop + contentOffsetHeight) {\n                    contentScrollTop = bottomDistance - contentOffsetHeight;\n                }\n                content.scrollTop = contentScrollTop;\n            },\n            selectedDataItems: function (dataItems) {\n                if (dataItems === undefined) {\n                    return this._dataItems.slice();\n                }\n                this._dataItems = dataItems;\n                this._values = this._getValues(dataItems);\n            },\n            _getValues: function (dataItems) {\n                var getter = this._valueGetter;\n                return $.map(dataItems, function (dataItem) {\n                    return getter(dataItem);\n                });\n            },\n            focusNext: function () {\n                var current = this.focus();\n                if (!current) {\n                    current = 0;\n                } else {\n                    current = current.next();\n                }\n                this.focus(current);\n            },\n            focusPrev: function () {\n                var current = this.focus();\n                if (!current) {\n                    current = this.element[0].children.length - 1;\n                } else {\n                    current = current.prev();\n                }\n                this.focus(current);\n            },\n            focusFirst: function () {\n                this.focus(this.element[0].children[0]);\n            },\n            focusLast: function () {\n                this.focus(last(this.element[0].children));\n            },\n            focus: function (candidate) {\n                var that = this;\n                var id = that._optionID;\n                var hasCandidate;\n                if (candidate === undefined) {\n                    return that._current;\n                }\n                candidate = last(that._get(candidate));\n                candidate = $(this.element[0].children[candidate]);\n                if (that._current) {\n                    that._current.removeClass(FOCUSED).removeAttr('aria-selected').removeAttr(ID);\n                    that.trigger('deactivate');\n                }\n                hasCandidate = !!candidate[0];\n                if (hasCandidate) {\n                    candidate.addClass(FOCUSED);\n                    that.scroll(candidate);\n                    candidate.attr('id', id);\n                }\n                that._current = hasCandidate ? candidate : null;\n                that.trigger('activate');\n            },\n            focusIndex: function () {\n                return this.focus() ? this.focus().index() : undefined;\n            },\n            skipUpdate: function (skipUpdate) {\n                this._skipUpdate = skipUpdate;\n            },\n            select: function (indices) {\n                var that = this;\n                var selectable = that.options.selectable;\n                var singleSelection = selectable !== 'multiple' && selectable !== false;\n                var selectedIndices = that._selectedIndices;\n                var added = [];\n                var removed = [];\n                var result;\n                if (indices === undefined) {\n                    return selectedIndices.slice();\n                }\n                indices = that._get(indices);\n                if (indices.length === 1 && indices[0] === -1) {\n                    indices = [];\n                }\n                var deferred = $.Deferred().resolve();\n                var filtered = that.isFiltered();\n                if (filtered && !singleSelection && that._deselectFiltered(indices)) {\n                    return deferred;\n                }\n                if (singleSelection && !filtered && $.inArray(last(indices), selectedIndices) !== -1) {\n                    if (that._dataItems.length && that._view.length) {\n                        that._dataItems = [that._view[selectedIndices[0]].item];\n                    }\n                    return deferred;\n                }\n                result = that._deselect(indices);\n                removed = result.removed;\n                indices = result.indices;\n                if (indices.length) {\n                    if (singleSelection) {\n                        indices = [last(indices)];\n                    }\n                    added = that._select(indices);\n                }\n                if (added.length || removed.length) {\n                    that._valueComparer = null;\n                    that.trigger(CHANGE, {\n                        added: added,\n                        removed: removed\n                    });\n                }\n                return deferred;\n            },\n            removeAt: function (position) {\n                this._selectedIndices.splice(position, 1);\n                this._values.splice(position, 1);\n                this._valueComparer = null;\n                return {\n                    position: position,\n                    dataItem: this._dataItems.splice(position, 1)[0]\n                };\n            },\n            setValue: function (value) {\n                value = $.isArray(value) || value instanceof ObservableArray ? value.slice(0) : [value];\n                this._values = value;\n                this._valueComparer = null;\n            },\n            value: function (value) {\n                var that = this;\n                var deferred = that._valueDeferred;\n                var indices;\n                if (value === undefined) {\n                    return that._values.slice();\n                }\n                that.setValue(value);\n                if (!deferred || deferred.state() === 'resolved') {\n                    that._valueDeferred = deferred = $.Deferred();\n                }\n                if (that.bound()) {\n                    indices = that._valueIndices(that._values);\n                    if (that.options.selectable === 'multiple') {\n                        that.select(-1);\n                    }\n                    that.select(indices);\n                    deferred.resolve();\n                }\n                that._skipUpdate = false;\n                return deferred;\n            },\n            items: function () {\n                return this.element.children('.k-item');\n            },\n            _click: function (e) {\n                if (!e.isDefaultPrevented()) {\n                    if (!this.trigger('click', { item: $(e.currentTarget) })) {\n                        this.select(e.currentTarget);\n                    }\n                }\n            },\n            _valueExpr: function (type, values) {\n                var that = this;\n                var idx = 0;\n                var body;\n                var comparer;\n                var normalized = [];\n                if (!that._valueComparer || that._valueType !== type) {\n                    that._valueType = type;\n                    for (; idx < values.length; idx++) {\n                        normalized.push(unifyType(values[idx], type));\n                    }\n                    body = 'for (var idx = 0; idx < ' + normalized.length + '; idx++) {' + ' if (current === values[idx]) {' + '   return idx;' + ' }' + '} ' + 'return -1;';\n                    comparer = new Function('current', 'values', body);\n                    that._valueComparer = function (current) {\n                        return comparer(current, normalized);\n                    };\n                }\n                return that._valueComparer;\n            },\n            _dataItemPosition: function (dataItem, values) {\n                var value = this._valueGetter(dataItem);\n                var valueExpr = this._valueExpr(typeof value, values);\n                return valueExpr(value);\n            },\n            _getter: function () {\n                this._valueGetter = kendo.getter(this.options.dataValueField);\n            },\n            _deselect: function (indices) {\n                var that = this;\n                var children = that.element[0].children;\n                var selectable = that.options.selectable;\n                var selectedIndices = that._selectedIndices;\n                var dataItems = that._dataItems;\n                var values = that._values;\n                var removed = [];\n                var i = 0;\n                var j;\n                var index, selectedIndex;\n                var removedIndices = 0;\n                indices = indices.slice();\n                if (selectable === true || !indices.length) {\n                    for (; i < selectedIndices.length; i++) {\n                        $(children[selectedIndices[i]]).removeClass('k-state-selected');\n                        removed.push({\n                            position: i,\n                            dataItem: dataItems[i]\n                        });\n                    }\n                    that._values = [];\n                    that._dataItems = [];\n                    that._selectedIndices = [];\n                } else if (selectable === 'multiple') {\n                    for (; i < indices.length; i++) {\n                        index = indices[i];\n                        if (!$(children[index]).hasClass('k-state-selected')) {\n                            continue;\n                        }\n                        for (j = 0; j < selectedIndices.length; j++) {\n                            selectedIndex = selectedIndices[j];\n                            if (selectedIndex === index) {\n                                $(children[selectedIndex]).removeClass('k-state-selected');\n                                removed.push({\n                                    position: j + removedIndices,\n                                    dataItem: dataItems.splice(j, 1)[0]\n                                });\n                                selectedIndices.splice(j, 1);\n                                indices.splice(i, 1);\n                                values.splice(j, 1);\n                                removedIndices += 1;\n                                i -= 1;\n                                j -= 1;\n                                break;\n                            }\n                        }\n                    }\n                }\n                return {\n                    indices: indices,\n                    removed: removed\n                };\n            },\n            _deselectFiltered: function (indices) {\n                var children = this.element[0].children;\n                var dataItem, index, position;\n                var removed = [];\n                var idx = 0;\n                for (; idx < indices.length; idx++) {\n                    index = indices[idx];\n                    dataItem = this._view[index].item;\n                    position = this._dataItemPosition(dataItem, this._values);\n                    if (position > -1) {\n                        removed.push(this.removeAt(position));\n                        $(children[index]).removeClass('k-state-selected');\n                    }\n                }\n                if (removed.length) {\n                    this.trigger(CHANGE, {\n                        added: [],\n                        removed: removed\n                    });\n                    return true;\n                }\n                return false;\n            },\n            _select: function (indices) {\n                var that = this;\n                var children = that.element[0].children;\n                var data = that._view;\n                var dataItem, index;\n                var added = [];\n                var idx = 0;\n                if (last(indices) !== -1) {\n                    that.focus(indices);\n                }\n                for (; idx < indices.length; idx++) {\n                    index = indices[idx];\n                    dataItem = data[index];\n                    if (index === -1 || !dataItem) {\n                        continue;\n                    }\n                    dataItem = dataItem.item;\n                    that._selectedIndices.push(index);\n                    that._dataItems.push(dataItem);\n                    that._values.push(that._valueGetter(dataItem));\n                    $(children[index]).addClass('k-state-selected').attr('aria-selected', true);\n                    added.push({ dataItem: dataItem });\n                }\n                return added;\n            },\n            getElementIndex: function (element) {\n                return $(element).data('offset-index');\n            },\n            _get: function (candidate) {\n                if (typeof candidate === 'number') {\n                    candidate = [candidate];\n                } else if (!isArray(candidate)) {\n                    candidate = this.getElementIndex(candidate);\n                    candidate = [candidate !== undefined ? candidate : -1];\n                }\n                return candidate;\n            },\n            _template: function () {\n                var that = this;\n                var options = that.options;\n                var template = options.template;\n                if (!template) {\n                    template = kendo.template('<li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-item\">${' + kendo.expr(options.dataTextField, 'data') + '}</li>', { useWithBlock: false });\n                } else {\n                    template = kendo.template(template);\n                    template = function (data) {\n                        return '<li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-item\">' + template(data) + '</li>';\n                    };\n                }\n                return template;\n            },\n            _templates: function () {\n                var template;\n                var options = this.options;\n                var templates = {\n                    template: options.template,\n                    groupTemplate: options.groupTemplate,\n                    fixedGroupTemplate: options.fixedGroupTemplate\n                };\n                for (var key in templates) {\n                    template = templates[key];\n                    if (template && typeof template !== 'function') {\n                        templates[key] = kendo.template(template);\n                    }\n                }\n                this.templates = templates;\n            },\n            _normalizeIndices: function (indices) {\n                var newIndices = [];\n                var idx = 0;\n                for (; idx < indices.length; idx++) {\n                    if (indices[idx] !== undefined) {\n                        newIndices.push(indices[idx]);\n                    }\n                }\n                return newIndices;\n            },\n            _valueIndices: function (values, indices) {\n                var data = this._view;\n                var idx = 0;\n                var index;\n                indices = indices ? indices.slice() : [];\n                if (!values.length) {\n                    return [];\n                }\n                for (; idx < data.length; idx++) {\n                    index = this._dataItemPosition(data[idx].item, values);\n                    if (index !== -1) {\n                        indices[index] = idx;\n                    }\n                }\n                return this._normalizeIndices(indices);\n            },\n            _firstVisibleItem: function () {\n                var element = this.element[0];\n                var content = this.content[0];\n                var scrollTop = content.scrollTop;\n                var itemHeight = $(element.children[0]).height();\n                var itemIndex = Math.floor(scrollTop / itemHeight) || 0;\n                var item = element.children[itemIndex] || element.lastChild;\n                var forward = item.offsetTop < scrollTop;\n                while (item) {\n                    if (forward) {\n                        if (item.offsetTop + itemHeight > scrollTop || !item.nextSibling) {\n                            break;\n                        }\n                        item = item.nextSibling;\n                    } else {\n                        if (item.offsetTop <= scrollTop || !item.previousSibling) {\n                            break;\n                        }\n                        item = item.previousSibling;\n                    }\n                }\n                return this._view[$(item).data('offset-index')];\n            },\n            _fixedHeader: function () {\n                if (this.isGrouped() && this.templates.fixedGroupTemplate) {\n                    this.header.show();\n                    this.content.scroll(this._onScroll);\n                } else {\n                    this.header.hide();\n                    this.content.off('scroll', this._onScroll);\n                }\n            },\n            _renderHeader: function () {\n                var template = this.templates.fixedGroupTemplate;\n                if (!template) {\n                    return;\n                }\n                var visibleItem = this._firstVisibleItem();\n                if (visibleItem) {\n                    this.header.html(template(visibleItem.group));\n                }\n            },\n            _renderItem: function (context) {\n                var item = '<li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-item';\n                var dataItem = context.item;\n                var notFirstItem = context.index !== 0;\n                var selected = context.selected;\n                if (notFirstItem && context.newGroup) {\n                    item += ' k-first';\n                }\n                if (selected) {\n                    item += ' k-state-selected';\n                }\n                item += '\"' + (selected ? ' aria-selected=\"true\"' : '') + ' data-offset-index=\"' + context.index + '\">';\n                item += this.templates.template(dataItem);\n                if (notFirstItem && context.newGroup) {\n                    item += '<div class=\"k-group\">' + this.templates.groupTemplate(context.group) + '</div>';\n                }\n                return item + '</li>';\n            },\n            _render: function () {\n                var html = '';\n                var i = 0;\n                var idx = 0;\n                var context;\n                var dataContext = [];\n                var view = this.dataSource.view();\n                var values = this.value();\n                var group, newGroup, j;\n                var isGrouped = this.isGrouped();\n                if (isGrouped) {\n                    for (i = 0; i < view.length; i++) {\n                        group = view[i];\n                        newGroup = true;\n                        for (j = 0; j < group.items.length; j++) {\n                            context = {\n                                selected: this._selected(group.items[j], values),\n                                item: group.items[j],\n                                group: group.value,\n                                newGroup: newGroup,\n                                index: idx\n                            };\n                            dataContext[idx] = context;\n                            idx += 1;\n                            html += this._renderItem(context);\n                            newGroup = false;\n                        }\n                    }\n                } else {\n                    for (i = 0; i < view.length; i++) {\n                        context = {\n                            selected: this._selected(view[i], values),\n                            item: view[i],\n                            index: i\n                        };\n                        dataContext[i] = context;\n                        html += this._renderItem(context);\n                    }\n                }\n                this._view = dataContext;\n                this.element[0].innerHTML = html;\n                if (isGrouped && dataContext.length) {\n                    this._renderHeader();\n                }\n            },\n            _selected: function (dataItem, values) {\n                var select = !this.isFiltered() || this.options.selectable === 'multiple';\n                return select && this._dataItemPosition(dataItem, values) !== -1;\n            },\n            setDSFilter: function (filter) {\n                this._lastDSFilter = extend({}, filter);\n            },\n            isFiltered: function () {\n                if (!this._lastDSFilter) {\n                    this.setDSFilter(this.dataSource.filter());\n                }\n                return !kendo.data.Query.compareFilters(this.dataSource.filter(), this._lastDSFilter);\n            },\n            refresh: function (e) {\n                var that = this;\n                var action = e && e.action;\n                var skipUpdateOnBind = that.options.skipUpdateOnBind;\n                var isItemChange = action === 'itemchange';\n                var result;\n                that.trigger('dataBinding');\n                that._angularItems('cleanup');\n                that._fixedHeader();\n                that._render();\n                that.bound(true);\n                if (isItemChange || action === 'remove') {\n                    result = mapChangedItems(that._dataItems, e.items);\n                    if (result.changed.length) {\n                        if (isItemChange) {\n                            that.trigger('selectedItemChange', { items: result.changed });\n                        } else {\n                            that.value(that._getValues(result.unchanged));\n                        }\n                    }\n                } else if (that.isFiltered() || that._skipUpdate) {\n                    that.focus(0);\n                    if (that._skipUpdate) {\n                        that._skipUpdate = false;\n                        that._selectedIndices = that._valueIndices(that._values, that._selectedIndices);\n                    }\n                } else if (!skipUpdateOnBind && (!action || action === 'add')) {\n                    that.value(that._values);\n                }\n                if (that._valueDeferred) {\n                    that._valueDeferred.resolve();\n                }\n                that._angularItems('compile');\n                that.trigger('dataBound');\n            },\n            bound: function (bound) {\n                if (bound === undefined) {\n                    return this._bound;\n                }\n                this._bound = bound;\n            },\n            isGrouped: function () {\n                return (this.dataSource.group() || []).length;\n            }\n        });\n        ui.plugin(StaticList);\n        function last(list) {\n            return list[list.length - 1];\n        }\n        function getSelectedOption(select) {\n            var index = select.selectedIndex;\n            return index > -1 ? select.options[index] : {};\n        }\n        function mapChangedItems(selected, itemsToMatch) {\n            var itemsLength = itemsToMatch.length;\n            var selectedLength = selected.length;\n            var dataItem;\n            var found;\n            var i, j;\n            var changed = [];\n            var unchanged = [];\n            if (selectedLength) {\n                for (i = 0; i < selectedLength; i++) {\n                    dataItem = selected[i];\n                    found = false;\n                    for (j = 0; j < itemsLength; j++) {\n                        if (dataItem === itemsToMatch[j]) {\n                            found = true;\n                            changed.push({\n                                index: i,\n                                item: dataItem\n                            });\n                            break;\n                        }\n                    }\n                    if (!found) {\n                        unchanged.push(dataItem);\n                    }\n                }\n            }\n            return {\n                changed: changed,\n                unchanged: unchanged\n            };\n        }\n        function removeFiltersForField(expression, field) {\n            var filters;\n            var found = false;\n            if (expression.filters) {\n                filters = $.grep(expression.filters, function (filter) {\n                    found = removeFiltersForField(filter, field);\n                    if (filter.filters) {\n                        return filter.filters.length;\n                    } else {\n                        return filter.field != field;\n                    }\n                });\n                if (!found && expression.filters.length !== filters.length) {\n                    found = true;\n                }\n                expression.filters = filters;\n            }\n            return found;\n        }\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"],"sourceRoot":"/source/"}