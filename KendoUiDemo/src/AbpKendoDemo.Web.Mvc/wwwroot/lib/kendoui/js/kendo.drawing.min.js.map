{"version":3,"sources":["kendo.drawing.js"],"names":["f","define","defined","value","UNDEFINED","round","precision","power","pow","math","p","limitValue","min","max","rad","degrees","DEG_TO_RAD","deg","radians","isNumber","val","isNaN","valueOrDefault","defaultValue","sqr","objectKey","object","key","parts","push","sort","join","hashKey","str","i","hash","length","charCodeAt","hashObject","arrayLimits","arr","MAX_NUM","MIN_NUM","arrayMin","arrayMax","sparseArrayMin","sparseArrayLimits","sparseArrayMax","n","isFinite","undefined","last","array","append","first","second","apply","renderTemplate","text","kendo","template","useWithBlock","paramName","renderAttr","name","renderAllAttr","attrs","output","renderStyle","renderSize","size","renderPos","pos","result","toHyphens","split","isTransparent","color","arabicToRoman","literals","1","10","100","2","20","200","3","30","300","4","40","400","5","50","500","6","60","600","7","70","700","8","80","800","9","90","900","1000","values","roman","shift","romanToArabic","r","digits","prev","v","toLowerCase","x","l","c","d","m","charAt","memoize","cache","Object","create","id","arguments","this","ucs2decode","string","extra","counter","ucs2encode","map","String","fromCharCode","mergeSort","a","cmp","merge","b","ai","bi","slice","left","right","Math","floor","window","deepExtend","PI","Number","MAX_VALUE","now","Date","getTime","util","drawing","dataviz","amd","a1","a2","a3","$","zeroSize","width","height","baseline","measureText","style","measureBox","TextMetrics","current","measure","loadFonts","fonts","callback","promises","document","font","load","e","logToConsole","Promise","all","then","doc","Class","LRUCache","extend","init","_size","_length","_map","put","lru","entry","_head","_tail","newer","older","get","defaultMeasureBox","options","_cache","_initOptions","baselineMarkerSize","box","styleKey","cacheKey","cachedResult","baselineMarker","_baselineMarker","cloneNode","appendChild","body","offsetWidth","offsetHeight","offsetTop","parentNode","removeChild","jQuery","encodeBase64","input","chr1","chr2","chr3","enc1","enc2","enc3","enc4","encodeUTF8","KEY_STR","inArray","ObserversMixin","observers","_observers","addObserver","element","removeObserver","index","splice","trigger","methodName","event","observer","idx","_suspended","optionsChange","geometryChange","suspend","resume","_observerField","field","mixins","transform","matrix","Transformation","toMatrix","isFunction","ellipseExtremeAngles","center","rx","ry","extremeX","extremeY","atan2","y","bboxStartAngle","angle","start","defineAccessors","fn","fields","capitalized","toUpperCase","substring","setAccessor","getAccessor","elipseAngle","end","swipe","alpha","abs","calculateAngle","cx","cy","cos","sin","normalizeArcParameters","x1","y1","x2","y2","largeArc","cx1","cy1","sqrt","x21","y21","rx2","ry2","k","yk2","Point","startAngle","endAngle","solveCubic","solveQuadratic","y3","z1","z2","q","Q","ComplexNumber","b3a","nthRoot","numberSign","add","multiplyConstant","negate","multiply","isReal","real","PRECISION","toCubicPolynomial","points","calculateCurveAt","t","t1","curveIntersectionsCount","point","bbox","rayIntersection","intersectsRay","polynomial","roots","count","close","bottomRight","lineIntersectionsCount","intersects","minX","maxX","minY","maxY","inRange","lineIntersection","p0","p1","p2","p3","s1x","s2x","s1y","s2y","nx","ny","s","tolerance","closeOrLess","isOutOfEndPoint","endPoint","controlPoint","rotatedPoint","transformCopy","rotate","hasRootsInRange","rootField","range","intersection","squareRoot","Size","Rect","Circle","Arc","Matrix","PI_DIV_2","equals","other","clone","origin","translate","translateWith","move","scale","scaleX","scaleY","scaleCopy","transformation","mx","distanceTo","dx","dy","toArray","doRound","toString","separator","arg0","arg1","pt","minPoint","maxPoint","ZERO","setOrigin","setSize","getOrigin","getSize","topLeft","topRight","bottomLeft","tl","tr","br","bl","fromPoints","expand","expandCopy","containsPoint","_isOnPath","rectOuter","rectInner","union","intersect","top","bottom","radius","setCenter","setRadius","getCenter","pointAt","_pointAt","currentPointX","currentPointY","currentPoint","extremeAngles","inCircle","pointDistance","radiusX","radiusY","anticlockwise","MAX_INTERVAL","radian","curvePoints","nextAngle","dir","currentAngle","interval","_arcInterval","intervalAngle","subIntervalsCount","ceil","subIntervalAngle","_intervalCurvePoints","cp1","cp2","arc","currentAngleX","currentAngleY","oldStart","p1Derivative","_derivativeAt","p2Derivative","inAngleRange","distance","angleRad","pointRadius","startPoint","arcParameters","multiplyCopy","invert","g","h","det","unit","IDENTITY","_matrix","_optionsChange","img","prototype","cNumber","addConstant","nthR","geometry","eventCoordinates","touch","location","pageX","clientX","pageY","clientY","BaseNode","OptionsStore","SurfaceFactory","SurfaceTooltip","noop","outerWidth","_outerWidth","outerHeight","_outerHeight","Widget","ui","proxy","NS","TOOLTIP_TEMPLATE","TOOLTIP_CLOSE_TEMPLATE","Surface","call","_click","_handler","_mouseenter","_mouseleave","_mousemove","_visual","Group","css","_enableTracking","tooltip","events","draw","children","clear","hideTooltip","destroy","_tooltip","exportVisual","_resize","eventTarget","node","domNode","initialTouch","target","_kendoNode","is","parent","srcElement","showTooltip","shape","show","hide","suspendTracking","_suspendedTracking","resumeTracking","surface","originalEvent","type","Popup","_elementOffset","offset","paddingLeft","parseInt","paddingTop","_surfacePoint","coord","plugin","childNodes","observe","insertAt","remove","removeSelf","invalidate","childrenChange","action","items","prefix","member","_wrap","getter","set","composite","_set","path","obj","indexOf","_clear","setter","_items","register","order","unshift","preferred","match","navigator","userAgent","content","_tooltipOptions","popup","appendTo","animation","copyAnchorStyles","collision","_openPopupHandler","_openPopup","_bindEvents","position","showOn","autoHide","hideDelay","showAfter","_showHandler","_showEvent","_surfaceLeaveHandler","_surfaceLeave","_mouseleaveHandler","_mousemoveHandler","bind","on","_hideClick","unbind","off","clearTimeout","_timeout","shared","_tooltipShape","_updateContent","html","_position","elementSize","tooltipOffset","surfaceOffset","_offset","_show","_current","_showTimeout","visible","preventDefault","delay","_autoHide","_measure","setTimeout","open","_closeButton","removeClass","addClass","prependTo","wrapper","_popupRelatedTarget","relatedTarget","closest","DASH_ARRAYS","dot","dash","longdash","dashdot","longdashdot","longdashdotdot","Color","GRADIENT","IDENTITY_MATRIX_HASH","Paintable","proto","fill","stroke","opacity","newFill","nodeType","Traversable","childrenField","traverse","child","Measurable","strokeWidth","combinedMatrix","currentTransform","matrixHash","_bboxCache","_matrixHash","_bbox","elementsBoundingBox","elements","applyTransform","boundingBox","elementBoundingBox","rawBBox","elementsClippedBoundingBox","clippedBBox","defineGeometryAccessors","names","geometryAccessor","fieldName","definePointAccessors","pointAccessor","defineOptionsAccessors","optionsAccessor","generateDefinitionId","defId","align","rect","alignment","alignElements","vAlign","stack","stackElements","getStackElements","vStack","wrap","wrapElements","vWrap","axis","otherAxis","sizeField","startElement","elementIdx","stacks","getStacks","translateToPoint","fit","rectSize","maxSize","stackSize","addElementToStack","stackAxis","previousBBox","alignStart","START","END","transofrm","ElementsArray","Text","GeometryElementsArray","Segment","Path","MultiPath","Image","GradientStop","StopsArray","Gradient","LinearGradient","RadialGradient","Layout","pop","HORIZONTAL","Element","clip","parentTransform","parentMatrix","elementTransform","elementMatrix","_clippedBBox","_hasFill","_containsPoint","_hasStroke","_splice","_change","_add","_remove","howMany","that","concat","_clearObserver","_setObserver","_reparent","insert","removeAt","newParent","metrics","_geometry","toPath","moveTo","curveTo","anchor","controlIn","controlOut","bboxTo","toSegment","segmentAnchor","toSegmentAnchor","_curveBoundingBox","_lineBoundingBox","extremesX","_curveExtremesFor","extremesY","xLimits","yLimits","extremes","_curveExtremes","_calculateCurveAt","x3","x4","t2","_intersectionsTo","segment","intersectionsCount","_isOnCurveTo","endSegment","p4","rotation","rotatedPoints","_isOnLineTo","_isOnPathTo","isOnPath","segments","lineJoin","lineTo","lastSegment","_addArcSegments","arcTo","closed","previous","segmentBox","fromRect","fromArc","paths","src","_rect","arg","stop","stops","_createStops","_userSpace","userSpace","addStop","removeStop","_radius","_fallbackFill","fallbackFill","_defaults","_fieldMap","alignContent","justifyContent","alignItems","spacing","orientation","lineSpacing","_initMap","fieldMap","groupsSizeField","groupAxis","groupsAxis","reflow","groupOptions","groups","groupsSize","groupStart","groupOrigin","elementOrigin","elementStart","group","groupBox","groupIdx","scaledStart","scaledSize","newStart","_initGroups","lineSize","bboxes","_newGroup","addGroup","_addToGroup","parseParameters","parameters","replace","SPLIT_REGEX","number","parseFloat","toLineParamaters","isVertical","insertPosition","reflectionPoint","quadraticToCubicControlPoints","third","trim","SEGMENT_REGEX","MOVE","CLOSE","PathParser","parse","previousCommand","multiPath","params","closePath","command","isRelative","ShapeMap","Error","lastControlIn","cubicControlPoints","zIndexComparer","_zIndex","isArray","LEVEL_STEP","MAX_LEVEL","QuadRoot","shapes","_quadNode","pointShapes","QuadNode","inBounds","nodeRect","nodeBottomRight","inserted","_initChildren","halfWidth","halfHeight","ShapesQuadTree","ROOT_SIZE","initRoots","rootMap","root","rootElements","pointShape","sectorRoot","assignZindex","levelWeight","zIndex","parents","bboxChange","_insertShape","elementsArray","_insert","Array","rootSize","sectors","getSectors","inRoot","bottomX","bottomY","alignToScreen","ctm","getScreenCTM","baseUrl","base","getElementsByTagName","url","href","hashIndex","support","browser","msie","refUrl","exportGroup","exportRoot","svg","RootNode","SVG_NS","render","exportSVG","raw","Deferred","resolve","promise","isDefinition","decodeEntities","_element","innerHTML","textContent","innerText","DefinitionMap","BUTT","NONE","SOLID","SPACE","TRANSFORM","_root","renderSVG","_template","_rootElement","firstElementChild","attachTo","resize","viewBox","format","setAttribute","visual","Node","definitions","clearDefinitions","childNode","nodeMap","createDefinitions","domElement","container","createElement","firstChild","insertBefore","setElement","childElement","nodes","renderChildren","updateDefinition","attr","allAttr","allCss","styles","removeAttr","removeAttribute","mapTransform","renderTransform","transformChange","mapStyle","cursor","renderOpacity","definition","hasDefinitions","definitionChange","renderDefinitions","mapDefinitions","defs","DefinitionNode","definitionMap","addDefinitions","removeDefinitions","createDefinition","item","ClipNode","LinearGradientNode","RadialGradientNode","addDefinition","mapItem","removeDefinition","GroupNode","PathNode","renderData","mapFill","mapStroke","attributeMap","fill.opacity","stroke.color","stroke.width","stroke.opacity","printPath","segmentType","currentType","printPoints","segmentStart","segmentEnd","renderLinecap","dashType","renderDashType","renderStroke","dashArray","lineCap","renderFill","ArcNode","MultiPathNode","CircleNode","TextNode","encode","htmlEncode","setY","renderContent","ImageNode","mapPosition","mapSource","renderPosition","renderSource","GradientStopNode","renderOffset","GradientNode","loadStops","stopNode","mapCoordinates","renderCoordinates","mapSpace","RectNode","testFragment","testContainer","hasParser","DOMParser","namespaceURI","parser","chartDoc","parseFromString","importedDoc","adoptNode","documentElement","implementation","hasFeature","_exportGroup","exportImage","defaults","cors","display","image","always","addGradientStops","gradient","parseColor","addColorStop","toCssRgba","FRAME_DELAY","canvas","_searchTree","defer","rootElement","loadingStates","loading","when","done","_invalidate","data","toDataURL","reject","fail","_mouseTrackHandler","_trackMouse","currentShape","_currentShape","initClip","clearClip","setClip","ctx","beginPath","renderPoints","setTransform","loadElements","setOpacity","globalAlpha","renderTo","save","restore","getContext","invalidateHandler","throttle","animationFrame","clearRect","setLineDash","setLineCap","setLineJoin","setFill","setStroke","hasFill","setGradientFill","fillStyle","createLinearGradient","createRadialGradient","strokeStyle","lineWidth","mozDash","webkitLineDash","seg","prevSeg","prevOut","bezierCurveTo","fillText","strokeText","onLoad","onError","test","crossOrigin","complete","onload","onerror","state","drawImage","enableVML","namespaces","kvml","stylesheet","styleSheets","createStyleSheet","addRule","createElementVML","className","COORDINATE_MULTIPLE","fillField","stopColor","baseColor","baseOpacity","blendColors","overlay","overlayColor","blendChannel","toHex","EMPTY_CLIP","COORDINATE_SIZE","TRANSFORM_PRECISION","empty","attachReference","combinedTransform","currentOpacity","setStyle","mapOpacityTo","multiplier","ClipObserver","ObserverNode","clipRect","clipBBox","_attachTo","frag","createDocumentFragment","refreshTransform","refreshOpacity","StrokeNode","FillNode","mapGradient","mapFillColor","mapLinearGradient","supportVML","mapRadialGradient","addColors","focusx","focusy","stopColors","colorsField","colors","color2","TransformNode","refresh","transformOrigin","ShapeNode","createFillNode","createTransformNode","setCoordsize","PathDataNode","setPathData","pathData","createDataNode","MultiPathDataNode","CircleTransformNode","originX","originY","diameter","ArcDataNode","TextPathDataNode","TextPathNode","setString","ImagePathDataNode","ImageFillNode","setSrc","sx","sy","ax","ay","rawbbox","rawcenter","fillOrigin","fillSize","RectDataNode","vml","version","getXY","thing","drawDOM","doOne","getBoundingClientRect","nodeInfo","_clipbox","geo","_stackingContext","_avoidLinks","avoidLinks","renderElement","makeTemplate","el","cloneNodes","$el","$clone","tagName","nextSibling","handlePageBreaks","forceBreak","pageWidth","pageHeight","margin","doPageBreak","next","whenImagesAreActuallyLoaded","pages","page","splitElement","copy","makePage","forEach","pageNum","totalPages","cacheImages","keepTogether","jqel","adjust","tag","isFirst","fall","getComputedStyle","bottomPadding","getPropertyValue","bottomBorder","saveAdjust","breakAtElement","fallsOnMargin","splitText","firstInParent","table","colgroup","thead","grid","gridHead","find","repeatHeaders","querySelector","createRange","setStartBefore","setEndBefore","extractContents","boxSizing","padding","overflow","pageClassName","available","len","nextnode","selectNodeContents","findEOP","setEnd","endOffset","ownerDocument","_destructive","each","paddingRight","beforePageBreak","pdf","defineFont","getFontFaces","forcePageBreak","hasPaperSize","paperSize","paperOptions","getPaperOptions","def","hasMargin","multiPage","_ignoreMargin","progress","canceled","cancel","doStylesheet","ss","rules","cssRules","ex","addRules","findFonts","rule","splitProperty","reduce","getFontURL","cssText","styleSheet","family","bold","italic","hasOwnProperty","getCounter","getAllCounters","getPrototypeOf","reverse","incCounter","inc","resetCounter","doCounters","toRGB","pending","images","querySelectorAll","IMAGE_CACHE","urls","dive","parseBackgroundImage","bg","alphaNumeral","pushNodeInfo","decoration","createsStackingContext","popNodeInfo","updateClipbox","emptyClipbox","cb","prop","pseudoElt","webkit","mozilla","opera","pleaseSetPropertyValue","important","setProperty","getBorder","side","saveStyle","func","getBorderRadius","sanitizeRadius","getContentBox","innerBox","wt","wr","wb","wl","getTransform","exec","radiansToDegrees","parseAngle","num","setClipping","clipPath","addArcToPath","adjustBorderRadiusForBox","rTL","rTR","rBR","rBL","tl_x","tl_y","tr_x","tr_y","br_x","br_y","bl_x","bl_y","elementRoundBox","bt","bb","pr","pb","pl","roundBox","rTL0","rTR0","rBR0","rBL0","tmp","formatCounter","romanNumeral","evalPseudoElementContent","displayCounter","getAttribute","getCssText","_renderWithPseudoElements","pseudo","kind","place","psel","KENDO_PSEUDO_ELEMENT","fake","saveClass","_renderElement","adjustBoxes","boxes","tableBorderLeft","tableBorderTop","tableBox","firstCell","firstCellBox","rows","cells","drawEdge","Wtop","Wleft","Wright","rl","rr","drawRoundCorner","ri","edge","drawBackground","background","_pdfLink","backgroundColor","backgroundImage","drawOneBackground","backgroundRepeat","backgroundPosition","backgroundOrigin","backgroundSize","drawBackgroundImage","img_width","img_height","renderBG","rewX","rewY","repeatX","aspect_ratio","orgBox","gradientRenderer","drawBullet","_drawBullet","bullet","listStylePosition","textAlign","elementIndex","listStyleType","fontSize","lineHeight","fontFamily","disc","circle","square","drawOneBox","isLast","inv","shouldDrawLeft","shouldDrawRight","innerbox","currentStyle","getClientRects","clipit","isFormField","maybeRenderWidget","renderContents","pxlen","scaledAngle","implicit","to","atan","tan","percent","console","log","widget","widgetInstance","exportDOMVisual","renderImage","zIndexSort","sa","sb","za","zb","pa","getSelectedOption","selectedOptions","selectedIndex","renderCheckbox","checked","renderFormField","option","whiteSpace","multiple","scrollLeft","scrollTop","blocks","floats","inline","positioned","floating","renderText","actuallyGetRangeBoundingRect","rectangles","chrome","Infinity","prevLineBottom","doChunk","found","cc","code","indent","origStart","substr","search","setStart","isJustified","findEOL","eol","estimateLineLength","startOffset","drawText","getFontHeight","TextRect","decorate","line","ypos","textOverflow","saveTextOverflow","groupInStackingContext","main","_dom_zIndex","counterIncrement","visibility","counterReset","mmul","b1","c1","d1","e1","f1","b2","c2","d2","e2","f2","_pdfRect","skip_ws","tok_whitespace","read","token","read_stop","tok_length","tok_percent","read_linear_gradient","propName","to1","to2","tok_popen","tok_angle","tok_comma","tok_keyword","tok_pclose","read_url","tok_content","tok","orig","cache1","tok_linear_gradient","tok_url","cache2","looking_at","ret","in_paren","in_string","Animation","anim","duration","easing","setup","step","play","finish","abort","loop","wallTime","time","easingPos","_stopped","AnimationFactory"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;CAwBC,SAAUA,EAAGC,QACVA,OAAO,aAAc,cAAeD,IACtC,WA6WE,MA5WC,YAGG,QAASE,GAAQC,GACb,aAAcA,KAAUC,EAE5B,QAASC,GAAMF,EAAOG,GAClB,GAAIC,GAAQC,EAAIF,EAChB,OAAOG,GAAKJ,MAAMF,EAAQI,GAASA,EAEvC,QAASC,GAAIE,GACT,MAAIA,GACOD,EAAKD,IAAI,GAAIE,GAEb,EAGf,QAASC,GAAWR,EAAOS,EAAKC,GAC5B,MAAOJ,GAAKI,IAAIJ,EAAKG,IAAIT,EAAOU,GAAMD,GAE1C,QAASE,GAAIC,GACT,MAAOA,GAAUC,EAErB,QAASC,GAAIC,GACT,MAAOA,GAAUF,EAErB,QAASG,GAASC,GACd,MAAsB,gBAARA,KAAqBC,MAAMD,GAE7C,QAASE,GAAenB,EAAOoB,GAC3B,MAAOrB,GAAQC,GAASA,EAAQoB,EAEpC,QAASC,GAAIrB,GACT,MAAOA,GAAQA,EAEnB,QAASsB,GAAUC,GAAnB,GAEaC,GADLC,IACJ,KAASD,IAAOD,GACZE,EAAMC,KAAKF,EAAMD,EAAOC,GAE5B,OAAOC,GAAME,OAAOC,KAAK,IAE7B,QAASC,GAAQC,GAAjB,GAEaC,GADLC,EAAO,UACX,KAASD,EAAI,EAAGA,EAAID,EAAIG,SAAUF,EAC9BC,IAASA,GAAQ,IAAMA,GAAQ,IAAMA,GAAQ,IAAMA,GAAQ,IAAMA,GAAQ,IACzEA,GAAQF,EAAII,WAAWH,EAE3B,OAAOC,KAAS,EAEpB,QAASG,GAAWZ,GAChB,MAAOM,GAAQP,EAAUC,IAQ7B,QAASa,GAAYC,GACjB,GAAyBN,GAArBE,EAASI,EAAIJ,OAAWxB,EAAM6B,EAAS5B,EAAM6B,CACjD,KAAKR,EAAI,EAAGA,EAAIE,EAAQF,IACpBrB,EAAMJ,EAAKI,IAAIA,EAAK2B,EAAIN,IACxBtB,EAAMH,EAAKG,IAAIA,EAAK4B,EAAIN,GAE5B,QACItB,IAAKA,EACLC,IAAKA,GAGb,QAAS8B,GAASH,GACd,MAAOD,GAAYC,GAAK5B,IAE5B,QAASgC,GAASJ,GACd,MAAOD,GAAYC,GAAK3B,IAE5B,QAASgC,GAAeL,GACpB,MAAOM,GAAkBN,GAAK5B,IAElC,QAASmC,GAAeP,GACpB,MAAOM,GAAkBN,GAAK3B,IAElC,QAASiC,GAAkBN,GAA3B,GAEaN,GAAOE,EACRY,EAFJpC,EAAM6B,EAAS5B,EAAM6B,CACzB,KAASR,EAAI,EAAGE,EAASI,EAAIJ,OAAQF,EAAIE,EAAQF,IACzCc,EAAIR,EAAIN,GACF,OAANc,GAAcC,SAASD,KACvBpC,EAAMH,EAAKG,IAAIA,EAAKoC,GACpBnC,EAAMJ,EAAKI,IAAIA,EAAKmC,GAG5B,QACIpC,IAAKA,IAAQ6B,EAAUS,OAAYtC,EACnCC,IAAKA,IAAQ6B,EAAUQ,OAAYrC,GAG3C,QAASsC,GAAKC,GACV,GAAIA,EACA,MAAOA,GAAMA,EAAMhB,OAAS,GAGpC,QAASiB,GAAOC,EAAOC,GAEnB,MADAD,GAAMzB,KAAK2B,MAAMF,EAAOC,GACjBD,EAEX,QAASG,GAAeC,GACpB,MAAOC,GAAMC,SAASF,GAClBG,cAAc,EACdC,UAAW,MAGnB,QAASC,GAAWC,EAAM7D,GACtB,MAAOD,GAAQC,IAAoB,OAAVA,EAAiB,IAAM6D,EAAO,KAAQ7D,EAAQ,KAAQ,GAEnF,QAAS8D,GAAcC,GAAvB,GAEahC,GADLiC,EAAS,EACb,KAASjC,EAAI,EAAGA,EAAIgC,EAAM9B,OAAQF,IAC9BiC,GAAUJ,EAAWG,EAAMhC,GAAG,GAAIgC,EAAMhC,GAAG,GAE/C,OAAOiC,GAEX,QAASC,GAAYF,GAArB,GAEahC,GACD/B,EAFJgE,EAAS,EACb,KAASjC,EAAI,EAAGA,EAAIgC,EAAM9B,OAAQF,IAC1B/B,EAAQ+D,EAAMhC,GAAG,GACjBhC,EAAQC,KACRgE,GAAUD,EAAMhC,GAAG,GAAK,IAAM/B,EAAQ,IAG9C,IAAe,KAAXgE,EACA,MAAOA,GAGf,QAASE,GAAWC,GAIhB,MAHoB,gBAATA,KACPA,GAAQ,MAELA,EAEX,QAASC,GAAUC,GAAnB,GAGY5C,GACKM,EAHTuC,IACJ,IAAID,EAEA,IADI5C,EAAQ+B,EAAMe,UAAUF,GAAKG,MAAM,KAC9BzC,EAAI,EAAGA,EAAIN,EAAMQ,OAAQF,IAC9BuC,EAAO5C,KAAK,SAAWD,EAAMM,GAGrC,OAAOuC,GAAO1C,KAAK,KAEvB,QAAS6C,GAAcC,GACnB,MAAiB,KAAVA,GAA0B,OAAVA,GAA4B,SAAVA,GAA8B,gBAAVA,IAA4B3E,EAAQ2E,GAErG,QAASC,GAAc9B,GA8DnB,IA9DJ,GACQ+B,IACAC,EAAG,IACHC,GAAI,IACJC,IAAK,IACLC,EAAG,KACHC,GAAI,KACJC,IAAK,KACLC,EAAG,MACHC,GAAI,MACJC,IAAK,MACLC,EAAG,KACHC,GAAI,KACJC,IAAK,KACLC,EAAG,IACHC,GAAI,IACJC,IAAK,IACLC,EAAG,KACHC,GAAI,KACJC,IAAK,KACLC,EAAG,MACHC,GAAI,MACJC,IAAK,MACLC,EAAG,OACHC,GAAI,OACJC,IAAK,OACLC,EAAG,KACHC,GAAI,KACJC,IAAK,KACLC,IAAM,KAENC,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GAEAC,EAAQ,GACL7D,EAAI,GACHA,EAAI4D,EAAO,GACXA,EAAOE,SAEPD,GAAS9B,EAAS6B,EAAO,IACzB5D,GAAK4D,EAAO,GAGpB,OAAOC,GAEX,QAASE,GAAcC,GAAvB,GAEQC,GASA9G,EAAW+G,EACNhF,EACDiF,CADR,KAXAH,EAAIA,EAAEI,cACFH,GACA/E,EAAG,EACHiF,EAAG,EACHE,EAAG,GACHC,EAAG,GACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAEHtH,EAAQ,EAAG+G,EAAO,EACbhF,EAAI,EAAGA,EAAI8E,EAAE5E,SAAUF,EAAG,CAE/B,GADIiF,EAAIF,EAAOD,EAAEU,OAAOxF,KACnBiF,EACD,MAAO,KAEXhH,IAASgH,EACLA,EAAID,IACJ/G,GAAS,EAAI+G,GAEjBA,EAAOC,EAEX,MAAOhH,GAEX,QAASwH,GAAQ3H,GACb,GAAI4H,GAAQC,OAAOC,OAAO,KAC1B,OAAO,YAAA,GAEM5F,GADL6F,EAAK,EACT,KAAS7F,EAAI8F,UAAU5F,SAAUF,GAAK,GAClC6F,GAAM,IAAMC,UAAU9F,EAE1B,OAAO6F,KAAMH,GAAQA,EAAMG,GAAMH,EAAMG,GAAM/H,EAAEwD,MAAMyE,KAAMD,YAGnE,QAASE,GAAWC,GAEhB,IADA,GAAsDhI,GAAOiI,EAAzDjE,KAAakE,EAAU,EAAGjG,EAAS+F,EAAO/F,OACvCiG,EAAUjG,GACbjC,EAAQgI,EAAO9F,WAAWgG,KACtBlI,GAAS,OAASA,GAAS,OAASkI,EAAUjG,GAC9CgG,EAAQD,EAAO9F,WAAWgG,KACH,QAAV,MAARD,GACDjE,EAAOtC,OAAe,KAAR1B,IAAiB,KAAe,KAARiI,GAAgB,QAEtDjE,EAAOtC,KAAK1B,GACZkI,MAGJlE,EAAOtC,KAAK1B,EAGpB,OAAOgE,GAEX,QAASmE,GAAWlF,GAChB,MAAOA,GAAMmF,IAAI,SAAUpI,GACvB,GAAIgE,GAAS,EAOb,OANIhE,GAAQ,QACRA,GAAS,MACTgE,GAAUqE,OAAOC,aAAatI,IAAU,GAAK,KAAO,OACpDA,EAAQ,MAAgB,KAARA,GAEpBgE,GAAUqE,OAAOC,aAAatI,KAE/B4B,KAAK,IAEZ,QAAS2G,GAAUC,EAAGC,GAIlB,QAASC,GAAMF,EAAGG,GAEd,IADA,GAAI9B,MAAQ+B,EAAK,EAAGC,EAAK,EAAG9G,EAAI,EACzB6G,EAAKJ,EAAEvG,QAAU4G,EAAKF,EAAE1G,QACvBwG,EAAID,EAAEI,GAAKD,EAAEE,KAAQ,EACrBhC,EAAE9E,KAAOyG,EAAEI,KAEX/B,EAAE9E,KAAO4G,EAAEE,IASnB,OANID,GAAKJ,EAAEvG,QACP4E,EAAEnF,KAAK2B,MAAMwD,EAAG2B,EAAEM,MAAMF,IAExBC,EAAKF,EAAE1G,QACP4E,EAAEnF,KAAK2B,MAAMwD,EAAG8B,EAAEG,MAAMD,IAErBhC,EAlBX,MAAI2B,GAAEvG,OAAS,EACJuG,EAAEM,QAmBN,QAASnH,GAAK6G,GAAd,GAIClB,GACAyB,EACAC,CALJ,OAAIR,GAAEvG,QAAU,EACLuG,GAEPlB,EAAI2B,KAAKC,MAAMV,EAAEvG,OAAS,GAC1B8G,EAAOP,EAAEM,MAAM,EAAGxB,GAClB0B,EAAQR,EAAEM,MAAMxB,GACpByB,EAAOpH,EAAKoH,GACZC,EAAQrH,EAAKqH,GACNN,EAAMK,EAAMC,KACrBR,GAhUT,GACOlI,GAAO2I,KAAMzF,EAAQ2F,OAAO3F,MAAO4F,EAAa5F,EAAM4F,WACtDvI,EAAaP,EAAK+I,GAAK,IAAK/G,EAAUgH,OAAOC,UAAWhH,GAAW+G,OAAOC,UAAWtJ,EAAY,YAmDjGuJ,EAAMC,KAAKD,GACVA,KACDA,EAAM,WACF,OAAO,GAAIC,OAAOC,YA0Q1BN,EAAW5F,GACPmG,MACIrH,QAASA,EACTC,QAASA,EACTW,OAAQA,EACRd,YAAaA,EACbI,SAAUA,EACVC,SAAUA,EACV1C,QAASA,EACTe,IAAKA,EACLe,QAASA,EACTM,WAAYA,EACZnB,SAAUA,EACVyD,cAAeA,EACfzB,KAAMA,EACNxC,WAAYA,EACZgJ,IAAKA,EACLlI,UAAWA,EACXpB,MAAOA,EACPS,IAAKA,EACLiD,WAAYA,EACZE,cAAeA,EACfM,UAAWA,EACXF,WAAYA,EACZD,YAAaA,EACbX,eAAgBA,EAChBX,kBAAmBA,EACnBD,eAAgBA,EAChBE,eAAgBA,EAChBvB,IAAKA,EACLF,eAAgBA,EAChByF,cAAeA,EACfjC,cAAeA,EACf6C,QAASA,EACTW,WAAYA,EACZJ,WAAYA,EACZQ,UAAWA,KAGnB/E,EAAMoG,QAAQD,KAAOnG,EAAMmG,KAC3BnG,EAAMqG,QAAQF,KAAOnG,EAAMmG,QAExBR,OAAO3F,OACE,kBAAV1D,SAAwBA,OAAOgK,IAAMhK,OAAS,SAAUiK,EAAIC,EAAIC,IACrEA,GAAMD,OAEV,SAAUnK,EAAGC,QACVA,OAAO,qBACH,aACA,aACDD,IACL,YACG,SAAUqK,GAmDP,QAASC,KACL,OACIC,MAAO,EACPC,OAAQ,EACRC,SAAU,GA6ClB,QAASC,GAAYhH,EAAMiH,EAAOC,GAC9B,MAAOC,GAAYC,QAAQC,QAAQrH,EAAMiH,EAAOC,GAEpD,QAASI,GAAUC,EAAOC,GACtB,GAAIC,KACJ,IAAIF,EAAM7I,OAAS,GAAKgJ,SAASH,MAAO,CACpC,IACIE,EAAWF,EAAM1C,IAAI,SAAU8C,GAC3B,MAAOD,UAASH,MAAMK,KAAKD,KAEjC,MAAOE,GACL5H,EAAM6H,aAAaD,GAEvBE,QAAQC,IAAIP,GAAUQ,KAAKT,EAAUA,OAErCA,KAnHX,GACOU,GAAMR,SAAUzH,EAAQ2F,OAAO3F,MAAOkI,EAAQlI,EAAMkI,MAAO/B,EAAOnG,EAAMmG,KAAM5J,EAAU4J,EAAK5J,QAC7F4L,EAAWD,EAAME,QACjBC,KAAM,SAAU1H,GACZ2D,KAAKgE,MAAQ3H,EACb2D,KAAKiE,QAAU,EACfjE,KAAKkE,SAETC,IAAK,SAAUzK,EAAKxB,GAChB,GAAIkM,GAAMpE,KAAMM,EAAM8D,EAAIF,KAAMG,GACxB3K,IAAKA,EACLxB,MAAOA,EAEfoI,GAAI5G,GAAO2K,EACND,EAAIE,OAGLF,EAAIG,MAAMC,MAAQH,EAClBA,EAAMI,MAAQL,EAAIG,MAClBH,EAAIG,MAAQF,GAJZD,EAAIE,MAAQF,EAAIG,MAAQF,EAMxBD,EAAIH,SAAWG,EAAIJ,OACnB1D,EAAI8D,EAAIE,MAAM5K,KAAO,KACrB0K,EAAIE,MAAQF,EAAIE,MAAME,MACtBJ,EAAIE,MAAMG,MAAQ,MAElBL,EAAIH,WAGZS,IAAK,SAAUhL,GACX,GAAI0K,GAAMpE,KAAMqE,EAAQD,EAAIF,KAAKxK,EACjC,IAAI2K,EAeA,MAdIA,KAAUD,EAAIE,OAASD,IAAUD,EAAIG,QACrCH,EAAIE,MAAQD,EAAMG,MAClBJ,EAAIE,MAAMG,MAAQ,MAElBJ,IAAUD,EAAIG,QACVF,EAAMI,QACNJ,EAAMI,MAAMD,MAAQH,EAAMG,MAC1BH,EAAMG,MAAMC,MAAQJ,EAAMI,OAE9BJ,EAAMI,MAAQL,EAAIG,MAClBF,EAAMG,MAAQ,KACdJ,EAAIG,MAAMC,MAAQH,EAClBD,EAAIG,MAAQF,GAETA,EAAMnM,SAIrByM,EAAoBvC,EAAE,2RAAuS,GAQ7TQ,EAAcgB,EAAME,QACpBC,KAAM,SAAUa,GACZ5E,KAAK6E,OAAS,GAAIhB,GAAS,KAC3B7D,KAAK8E,aAAaF,IAEtBA,SAAWG,mBAAoB,GAC/BjC,QAAS,SAAUrH,EAAMiH,EAAOsC,GAAvB,GAIDC,GAAkCC,EAA0CC,EAI5E9I,EACAsG,EACAyC,EACK1L,EACDxB,CAXR,KAAKuD,EACD,MAAO4G,IAGX,IADI4C,EAAWpD,EAAKrI,UAAUkJ,GAAQwC,EAAWrD,EAAK9H,QAAQ0B,EAAOwJ,GAAWE,EAAenF,KAAK6E,OAAOH,IAAIQ,GAC3GC,EACA,MAAOA,EAEP9I,GAAOgG,IACPM,EAAaqC,EAAMA,EAAML,EACzBS,EAAiBpF,KAAKqF,kBAAkBC,WAAU,EACtD,KAAS5L,IAAOgJ,GACRxK,EAAQwK,EAAMhJ,GACdzB,EAAQC,KACRyK,EAAWD,MAAMhJ,GAAOxB,EAehC,OAZAkK,GAAEO,GAAYlH,KAAKA,GACnBkH,EAAW4C,YAAYH,GACvBzB,EAAI6B,KAAKD,YAAY5C,IAChBlH,EAAO,IAAItB,SACZkC,EAAKiG,MAAQK,EAAW8C,YAAczF,KAAK4E,QAAQG,mBACnD1I,EAAKkG,OAASI,EAAW+C,aACzBrJ,EAAKmG,SAAW4C,EAAeO,UAAY3F,KAAK4E,QAAQG,oBAExD1I,EAAKiG,MAAQ,GAAKjG,EAAKkG,OAAS,GAChCvC,KAAK6E,OAAOV,IAAIe,EAAU7I,GAE9BsG,EAAWiD,WAAWC,YAAYlD,GAC3BtG,GAEXgJ,gBAAiB,WACb,MAAOjD,GAAE,gGAA+GpC,KAAK4E,QAAQG,mBAAqB,eAAiB/E,KAAK4E,QAAQG,mBAAqB,4BAAkC,KAGvPnC,GAAYC,QAAU,GAAID,GAmB1BlH,EAAMmG,KAAKe,YAAcA,EACzBlH,EAAMmG,KAAKgC,SAAWA,EACtBnI,EAAMmG,KAAKkB,UAAYA,EACvBrH,EAAMmG,KAAKY,YAAcA,GAC3BpB,OAAO3F,MAAMoK,SACC,kBAAV9N,SAAwBA,OAAOgK,IAAMhK,OAAS,SAAUiK,EAAIC,EAAIC,IACrEA,GAAMD,OAEV,SAAUnK,EAAGC,QACVA,OAAO,eAAgB,aAAcD,IACvC,WAgDE,MA/CC,YAGG,QAASgO,GAAaC,GAAtB,GAEQC,GAAMC,EAAMC,EAAMC,EAAMC,EAAMC,EAAMC,EADpCrK,EAAS,GAETjC,EAAI,CAER,KADA+L,EAAQQ,EAAWR,GACZ/L,EAAI+L,EAAM7L,QACb8L,EAAOD,EAAM5L,WAAWH,KACxBiM,EAAOF,EAAM5L,WAAWH,KACxBkM,EAAOH,EAAM5L,WAAWH,KACxBmM,EAAOH,GAAQ,EACfI,GAAe,EAAPJ,IAAa,EAAIC,GAAQ,EACjCI,GAAe,GAAPJ,IAAc,EAAIC,GAAQ,EAClCI,EAAc,GAAPJ,EACH/M,MAAM8M,GACNI,EAAOC,EAAO,GACPnN,MAAM+M,KACbI,EAAO,IAEXrK,EAASA,EAASuK,EAAQhH,OAAO2G,GAAQK,EAAQhH,OAAO4G,GAAQI,EAAQhH,OAAO6G,GAAQG,EAAQhH,OAAO8G,EAE1G,OAAOrK,GAEX,QAASsK,GAAWR,GAApB,GAEa/L,GACDqF,EAFJpD,EAAS,EACb,KAASjC,EAAI,EAAGA,EAAI+L,EAAM7L,OAAQF,IAC1BqF,EAAI0G,EAAM5L,WAAWH,GACrBqF,EAAI,IACJpD,GAAUsE,EAAalB,GAChBA,EAAI,MACXpD,GAAUsE,EAAa,IAAMlB,IAAM,GACnCpD,GAAUsE,EAAa,IAAU,GAAJlB,IACtBA,EAAI,QACXpD,GAAUsE,EAAa,IAAMlB,IAAM,IACnCpD,GAAUsE,EAAa,IAAMlB,IAAM,EAAI,IACvCpD,GAAUsE,EAAa,IAAU,GAAJlB,GAGrC,OAAOpD,GAxCd,GACOR,GAAQ2F,OAAO3F,MAAO4F,EAAa5F,EAAM4F,WAAYd,EAAeD,OAAOC,aAC3EiG,EAAU,mEAwCdnF,GAAW5F,EAAMmG,MACbkE,aAAcA,EACdS,WAAYA,OAGbnF,OAAO3F,OACE,kBAAV1D,SAAwBA,OAAOgK,IAAMhK,OAAS,SAAUiK,EAAIC,EAAIC,IACrEA,GAAMD,OAEV,SAAUnK,EAAGC,QACVA,OAAO,oBAAqB,cAAeD,IAC7C,WAgEE,MA/DC,UAAUqK,GAAV,GACO5J,GAAO2I,KAAMzF,EAAQ2F,OAAO3F,MAAO4F,EAAa5F,EAAM4F,WAAYoF,EAAUtE,EAAEsE,QAC9EC,GACAC,UAAW,WAEP,MADA5G,MAAK6G,WAAa7G,KAAK6G,gBAG3BC,YAAa,SAAUC,GAMnB,MALK/G,MAAK6G,WAGN7G,KAAK6G,WAAWjN,KAAKmN,GAFrB/G,KAAK6G,YAAcE,GAIhB/G,MAEXgH,eAAgB,SAAUD,GAAV,GACRH,GAAY5G,KAAK4G,YACjBK,EAAQP,EAAQK,EAASH,EAI7B,OAHIK,QACAL,EAAUM,OAAOD,EAAO,GAErBjH,MAEXmH,QAAS,SAAUC,EAAYC,GAAtB,GAEDC,GACAC,EAFAX,EAAY5G,KAAK6G,UAGrB,IAAID,IAAc5G,KAAKwH,WACnB,IAAKD,EAAM,EAAGA,EAAMX,EAAUzM,OAAQoN,IAClCD,EAAWV,EAAUW,GACjBD,EAASF,IACTE,EAASF,GAAYC,EAIjC,OAAOrH,OAEXyH,cAAe,SAAUnE,GACrBA,EAAIA,MACJA,EAAEyD,QAAU/G,KACZA,KAAKmH,QAAQ,gBAAiB7D,IAElCoE,eAAgB,WACZ1H,KAAKmH,QAAQ,kBAAoBJ,QAAS/G,QAE9C2H,QAAS,WAEL,MADA3H,MAAKwH,YAAcxH,KAAKwH,YAAc,GAAK,EACpCxH,MAEX4H,OAAQ,WAEJ,MADA5H,MAAKwH,WAAahP,EAAKI,KAAKoH,KAAKwH,YAAc,GAAK,EAAG,GAChDxH,MAEX6H,eAAgB,SAAUC,EAAO5P,GACzB8H,KAAK8H,IACL9H,KAAK8H,GAAOd,eAAehH,MAE/BA,KAAK8H,GAAS5P,EACdA,EAAM4O,YAAY9G,OAG1BsB,GAAW5F,GAASqM,QAAUpB,eAAgBA,MAChDtF,OAAO3F,MAAMoK,QACRzE,OAAO3F,OACE,kBAAV1D,SAAwBA,OAAOgK,IAAMhK,OAAS,SAAUiK,EAAIC,EAAIC,IACrEA,GAAMD,OAEV,SAAUnK,EAAGC,QACVA,OAAO,oBACH,YACA,oBACDD,IACL,WA05BE,MAz5BC,YA+nBG,QAASiQ,GAAUC,GACf,MAAe,QAAXA,EACO,KAEPA,YAAkBC,GACXD,EAEJ,GAAIC,GAAeD,GAE9B,QAASE,GAASjQ,GACd,MAAIA,IAASwD,EAAM0M,WAAWlQ,EAAM+P,QACzB/P,EAAM+P,SAEV/P,EAEX,QAASmQ,GAAqBC,EAAQC,EAAIC,EAAIP,GAC1C,GAAIQ,GAAW,EAAGC,EAAW,CAO7B,OANIT,KACAQ,EAAWjQ,EAAKmQ,MAAMV,EAAO3I,EAAIkJ,EAAIP,EAAOvH,EAAI6H,GAC/B,IAAbN,EAAOpH,IACP6H,EAAWlQ,EAAKmQ,MAAMV,EAAO1I,EAAIiJ,EAAIP,EAAOpH,EAAI0H,MAIpDnJ,EAAGqJ,EACHG,EAAGF,GAGX,QAASG,GAAeC,EAAOC,GAC3B,KAAOD,EAAQC,GACXD,GAAS,EAEb,OAAOA,GAEX,QAASE,GAAgBC,EAAIC,GAA7B,GACajP,GACD8B,EACAoN,CAFR,KAASlP,EAAI,EAAGA,EAAIiP,EAAO/O,OAAQF,IAC3B8B,EAAOmN,EAAOjP,GACdkP,EAAcpN,EAAK0D,OAAO,GAAG2J,cAAgBrN,EAAKsN,UAAU,EAAGtN,EAAK5B,QACxE8O,EAAG,MAAQE,GAAeG,EAAYvN,GACtCkN,EAAG,MAAQE,GAAeI,EAAYxN,GAG9C,QAASuN,GAAYxB,GACjB,MAAO,UAAU5P,GAKb,MAJI8H,MAAK8H,KAAW5P,IAChB8H,KAAK8H,GAAS5P,EACd8H,KAAK0H,kBAEF1H,MAGf,QAASuJ,GAAYzB,GACjB,MAAO,YACH,MAAO9H,MAAK8H,IAGpB,QAAS0B,GAAYT,EAAOU,EAAKC,GACzBX,EAAQU,IACRA,GAAO,IAEX,IAAIE,GAAQnR,EAAKoR,IAAIH,EAAMV,EAI3B,OAHKW,KACDC,EAAQ,IAAMA,GAEXA,EAEX,QAASE,GAAeC,EAAIC,EAAIxB,EAAIC,EAAIpJ,EAAGwJ,GAA3C,GACQoB,GAAM5R,GAAOgH,EAAI0K,GAAMvB,EAAI,GAC3B0B,EAAM7R,GAAOwQ,EAAImB,GAAMvB,EAAI,EAC/B,OAAOpQ,GAAMY,EAAIR,EAAKmQ,MAAMsB,EAAKD,KAErC,QAASE,GAAuBC,EAAIC,EAAIC,EAAIC,EAAI/B,EAAIC,EAAI+B,EAAUb,GAAlE,GACQI,GAAIC,EACJS,EAAKC,EACL/J,EAAGG,EAAGvB,EAAGoL,EAELC,EACAC,EACAC,EAAkBC,EAClBC,EACAC,EACA3L,EAmBJ0J,EACAU,EACAE,CA3BJ,IAAIS,IAAOE,EACHK,EAAMN,EAAKF,EACXS,EAAMN,EAAKF,EACXS,EAAMtS,EAAIgQ,EAAI,GAAIuC,EAAMvS,EAAIiQ,EAAI,GAChCuC,GAAKD,EAAMH,GAAOR,EAAKE,GAAMQ,EAAMD,GAAOR,EAAKE,KAAQ,EAAIO,EAAMD,GACjEI,EAAMD,EAAIT,EACVjL,IAAMsL,EAAMG,IAAQD,EAAMD,GAC9BlK,EAAI,EAAImK,EAAMtS,EAAI8G,EAAG,GAAKyL,EAC1BjK,EAAI,GAAKxB,EAAI2L,EAAMF,EAAMT,EAAKQ,GAC9BvL,EAAI/G,EAAI8R,EAAI,GAAKQ,EAAMtS,EAAIyS,EAAK,GAAKF,EAAM,EAC3CJ,EAAOlS,EAAKkS,KAAKnS,EAAIsI,EAAG,GAAK,EAAIH,EAAIpB,GACrCwK,IAAOjJ,EAAI6J,IAAS,EAAIhK,GACxBqJ,EAAKgB,EAAI1L,EAAIyK,EACbU,IAAQ3J,EAAI6J,IAAS,EAAIhK,GACzB+J,EAAMM,EAAI1L,EAAImL,MACX,CAAA,GAAIL,IAAOE,EAQd,OAAO,CAPPxJ,MAASyJ,EACThL,EAAI/G,GAAK8R,EAAKF,GAAM3B,GAAM,EAAID,GAAK,GAAKhQ,EAAI+R,EAAI,GAAK/R,EAAIiQ,EAAI,GAC7DkC,EAAOlS,EAAKkS,KAAKnS,EAAIsI,EAAG,GAAK,EAAIvB,GACjCwK,EAAKU,GAAOL,EAAKE,GAAM,EACvBN,IAAOlJ,EAAI6J,GAAQ,EACnBD,IAAQ5J,EAAI6J,GAAQ,EAaxB,MATI3B,GAAQc,EAAeC,EAAIC,EAAIxB,EAAIC,EAAI2B,EAAIC,GAC3CX,EAAMI,EAAeC,EAAIC,EAAIxB,EAAIC,EAAI6B,EAAIC,GACzCX,EAAQH,EAAYT,EAAOU,EAAKC,IAChCa,GAAYZ,GAAS,MAAQY,GAAYZ,EAAQ,OACjDG,EAAKU,EACLT,EAAKU,EACL1B,EAAQc,EAAeC,EAAIC,EAAIxB,EAAIC,EAAI2B,EAAIC,GAC3CX,EAAMI,EAAeC,EAAIC,EAAIxB,EAAIC,EAAI6B,EAAIC,KAGzChC,OAAQ,GAAI2C,GAAMnB,EAAIC,GACtBmB,WAAYnC,EACZoC,SAAU1B,GAkClB,QAAS2B,GAAW1K,EAAGG,EAAGvB,EAAGC,GACzB,GAAU,IAANmB,EACA,MAAO2K,GAAexK,EAAGvB,EAAGC,EAEhC,IAAuP4K,GAAIE,EAAID,EAAIE,EAAIgB,EAAiBC,EAAIC,EAAxR/S,GAAK,EAAIiI,EAAIpB,EAAI9G,EAAKD,IAAIsI,EAAG,KAAO,EAAIrI,EAAKD,IAAImI,EAAG,IAAK+K,GAAK,EAAIjT,EAAKD,IAAIsI,EAAG,GAAK,EAAIH,EAAIG,EAAIvB,EAAI,GAAK9G,EAAKD,IAAImI,EAAG,GAAKnB,IAAM,GAAK/G,EAAKD,IAAImI,EAAG,IAAKgL,EAAIlT,EAAKD,IAAIE,EAAI,EAAG,GAAKD,EAAKD,IAAIkT,EAAI,EAAG,GAAIxR,EAAI,GAAI0R,GAAc,EAAG,GAAIC,GAAO/K,GAAK,EAAIH,GAAwBlE,IAwB3Q,OAvBIkP,GAAI,GACJvB,EAAK,GAAIwB,IAAeF,EAAI,EAAGjT,EAAKkS,MAAMgB,IAAIG,QAAQ,GACtDxB,EAAK,GAAIsB,IAAeF,EAAI,IAAIjT,EAAKkS,MAAMgB,KAAIG,QAAQ,KAEvD1B,GAAMsB,EAAI,EAAIjT,EAAKkS,KAAKgB,GACxBvB,EAAK,GAAIwB,GAAcG,EAAW3B,GAAM3R,EAAKD,IAAIC,EAAKoR,IAAIO,GAAK,EAAI,IACnEE,GAAMoB,EAAI,EAAIjT,EAAKkS,KAAKgB,GACxBrB,EAAK,GAAIsB,GAAcG,EAAWzB,GAAM7R,EAAKD,IAAIC,EAAKoR,IAAIS,GAAK,EAAI,KAEvED,EAAKD,EAAG4B,IAAI1B,GACZkB,EAAKpB,EAAG4B,IAAI1B,GAAI2B,sBAChBR,EAAKrB,EAAG4B,IAAI1B,EAAG4B,UAAUD,iBAAiBxT,EAAKkS,KAAK,GAAK,GACzDJ,EAAKiB,EAAGQ,IAAI9R,EAAEiS,SAASV,IACvBF,EAAKC,EAAGQ,IAAI9R,EAAEgS,SAASC,SAASV,IAC5BpB,EAAG+B,UACH3P,EAAO5C,KAAKxB,EAAMgS,EAAGgC,KAAOR,EAAKS,IAEjC/B,EAAG6B,UACH3P,EAAO5C,KAAKxB,EAAMkS,EAAG8B,KAAOR,EAAKS,IAEjCf,EAAGa,UACH3P,EAAO5C,KAAKxB,EAAMkT,EAAGc,KAAOR,EAAKS,IAE9B7P,EAEX,QAAS8P,GAAkBC,EAAQzE,GAC/B,QACKyE,EAAO,GAAGzE,GAAS,EAAIyE,EAAO,GAAGzE,GAAS,EAAIyE,EAAO,GAAGzE,GAASyE,EAAO,GAAGzE,GAC5E,GAAKyE,EAAO,GAAGzE,GAAS,EAAIyE,EAAO,GAAGzE,GAASyE,EAAO,GAAGzE,IACzD,IAAMyE,EAAO,GAAGzE,GAASyE,EAAO,GAAGzE,IACnCyE,EAAO,GAAGzE,IAGlB,QAAS0E,GAAiBC,EAAG3E,EAAOyE,GAChC,GAAIG,GAAK,EAAID,CACb,OAAOjU,GAAKD,IAAImU,EAAI,GAAKH,EAAO,GAAGzE,GAAS,EAAItP,EAAKD,IAAImU,EAAI,GAAKD,EAAIF,EAAO,GAAGzE,GAAS,EAAItP,EAAKD,IAAIkU,EAAG,GAAKC,EAAKH,EAAO,GAAGzE,GAAStP,EAAKD,IAAIkU,EAAG,GAAKF,EAAO,GAAGzE,GAErK,QAAS6E,GAAwBJ,EAAQK,EAAOC,GAAhD,GAIQC,GACAC,EACK9S,EALL+S,EAAaV,EAAkBC,EAAQ,KACvCU,EAAQ7B,EAAW4B,EAAW,GAAIA,EAAW,GAAIA,EAAW,GAAIA,EAAW,GAAKJ,EAAMxN,GACtF8N,EAAQ,CAGZ,KAASjT,EAAI,EAAGA,EAAIgT,EAAM9S,OAAQF,IAC9B6S,EAAkBN,EAAiBS,EAAMhT,GAAI,IAAKsS,GAClDQ,EAAgBI,EAAML,EAAiBF,EAAMhE,IAAMkE,EAAkBF,EAAMhE,EACvEmE,KAAgC,IAAbE,EAAMhT,IAAyB,IAAbgT,EAAMhT,KAAa4S,EAAKO,cAAchO,EAAIwN,EAAMxN,GAAK,EAAI6N,EAAMhT,IAAMgT,EAAMhT,GAAK,IACrHiT,GAGR,OAAOA,GAEX,QAASG,GAAuB3M,EAAGG,EAAG+L,GAAtC,GACQU,GAEIC,EAA2BC,EAA2BC,EAA2BC,EAA2BC,CAOpH,OARIjN,GAAEtB,GAAKyB,EAAEzB,IACLmO,EAAO/U,EAAKG,IAAI+H,EAAEtB,EAAGyB,EAAEzB,GAAIoO,EAAOhV,EAAKI,IAAI8H,EAAEtB,EAAGyB,EAAEzB,GAAIqO,EAAOjV,EAAKG,IAAI+H,EAAEkI,EAAG/H,EAAE+H,GAAI8E,EAAOlV,EAAKI,IAAI8H,EAAEkI,EAAG/H,EAAE+H,GAAI+E,EAAUJ,GAAQX,EAAMxN,GAAKwN,EAAMxN,EAAIoO,EAEnJF,EADAG,GAAQC,EACKd,EAAMhE,GAAK6E,GAAQE,EAEnBA,IAAYD,EAAOD,KAAU/M,EAAEtB,EAAIyB,EAAEzB,IAAMsB,EAAEkI,EAAI/H,EAAE+H,GAAK,EAAIgE,EAAMxN,EAAImO,EAAOC,EAAOZ,EAAMxN,IAAMoO,EAAOD,GAAQE,EAAOb,EAAMhE,GAAK,GAG/I0E,EAAa,EAAI,EAE5B,QAASM,GAAiBC,EAAIC,EAAIC,EAAIC,GAAtC,GACQC,GAAMH,EAAG1O,EAAIyO,EAAGzO,EAChB8O,EAAMF,EAAG5O,EAAI2O,EAAG3O,EAChB+O,EAAML,EAAGlF,EAAIiF,EAAGjF,EAChBwF,EAAMJ,EAAGpF,EAAImF,EAAGnF,EAChByF,EAAKR,EAAGzO,EAAI2O,EAAG3O,EACfkP,EAAKT,EAAGjF,EAAImF,EAAGnF,EACfrJ,EAAI0O,EAAMG,EAAMF,EAAMC,EACtBI,GAAKN,EAAMK,EAAKH,EAAME,GAAM9O,EAC5BkN,GAAKyB,EAAMI,EAAKF,EAAMC,GAAM9O,CAChC,IAAIgP,GAAK,GAAKA,GAAK,GAAK9B,GAAK,GAAKA,GAAK,EACnC,MAAO,IAAIxB,GAAM4C,EAAGzO,EAAIqN,EAAIwB,EAAKJ,EAAGjF,EAAI6D,EAAI0B,GAGpD,QAAShB,GAAMzM,EAAGG,EAAG2N,GACjB,MAA0D,KAAnDpW,EAAMI,EAAKoR,IAAIlJ,EAAIG,GAAI2N,GAAanC,GAE/C,QAASoC,GAAY/N,EAAGG,EAAG2N,GACvB,MAAO9N,GAAIG,GAAKsM,EAAMzM,EAAGG,EAAG2N,GAEhC,QAAS1C,GAAW1M,GAChB,MAAOA,GAAI,KAAS,EAExB,QAASsP,GAAgBC,EAAUC,EAAchC,GAAjD,GACQ9D,GAAQjH,EAAK7I,IAAIR,EAAKmQ,MAAMiG,EAAahG,EAAI+F,EAAS/F,EAAGgG,EAAaxP,EAAIuP,EAASvP,IACnFyP,EAAejC,EAAMkC,cAAc9G,IAAY+G,QAAQjG,EAAO6F,GAClE,OAAOE,GAAazP,EAAIuP,EAASvP,EAErC,QAAS4P,GAAgBzC,EAAQK,EAAO9E,EAAOmH,EAAWC,GAA1D,GAGQC,GACK5H,EAHLyF,EAAaV,EAAkBC,EAAQ0C,GACvChC,EAAQ7B,EAAW4B,EAAW,GAAIA,EAAW,GAAIA,EAAW,GAAIA,EAAW,GAAKJ,EAAMqC,GAE1F,KAAS1H,EAAM,EAAGA,EAAM0F,EAAM9S,OAAQoN,IAClC,GAAI,GAAK0F,EAAM1F,IAAQ0F,EAAM1F,IAAQ,IACjC4H,EAAe3C,EAAiBS,EAAM1F,GAAMO,EAAOyE,GAC/C/T,EAAKoR,IAAIuF,EAAevC,EAAM9E,KAAWoH,GACzC,OAAO,EAKvB,QAAS7D,GAAe3K,EAAGG,EAAGvB,GAC1B,GAAI8P,GAAa5W,EAAKkS,KAAKlS,EAAKD,IAAIsI,EAAG,GAAK,EAAIH,EAAIpB,EACpD,UACMuB,EAAIuO,IAAe,EAAI1O,KACvBG,EAAIuO,IAAe,EAAI1O,IAn4BpC,GAiIO2O,GAsCAC,EA4GAC,EAsDAC,EA2KAC,EAgFAvH,EA8KAyD,EAjvBAnT,EAAO2I,KAAM5I,EAAMC,EAAKD,IAAKmD,EAAQ2F,OAAO3F,MAAOkI,EAAQlI,EAAMkI,MAAOtC,EAAa5F,EAAM4F,WAAYqF,EAAiBjL,EAAMqM,OAAOpB,eAAgB9E,EAAOnG,EAAMmG,KAAM5J,EAAU4J,EAAK5J,QAASY,EAAMgJ,EAAKhJ,IAAKG,EAAM6I,EAAK7I,IAAKZ,EAAQyJ,EAAKzJ,MAC7OsX,EAAWlX,EAAK+I,GAAK,EAAG9G,EAAUoH,EAAKpH,QAASD,EAAUqH,EAAKrH,QAAS6R,EAAY,GACpFpB,EAAQrH,EAAME,QACdC,KAAM,SAAU3E,EAAGwJ,GACf5I,KAAKZ,EAAIA,GAAK,EACdY,KAAK4I,EAAIA,GAAK,GAElB+G,OAAQ,SAAUC,GACd,MAAOA,IAASA,EAAMxQ,IAAMY,KAAKZ,GAAKwQ,EAAMhH,IAAM5I,KAAK4I,GAE3DiH,MAAO,WACH,MAAO,IAAI5E,GAAMjL,KAAKZ,EAAGY,KAAK4I,IAElCmG,OAAQ,SAAUjG,EAAOgH,GACrB,MAAO9P,MAAKgI,UAAUA,IAAY+G,OAAOjG,EAAOgH,KAEpDC,UAAW,SAAU3Q,EAAGwJ,GAIpB,MAHA5I,MAAKZ,GAAKA,EACVY,KAAK4I,GAAKA,EACV5I,KAAK0H,iBACE1H,MAEXgQ,cAAe,SAAUpD,GACrB,MAAO5M,MAAK+P,UAAUnD,EAAMxN,EAAGwN,EAAMhE,IAEzCqH,KAAM,SAAU7Q,EAAGwJ,GAEf,MADA5I,MAAKZ,EAAIY,KAAK4I,EAAI,EACX5I,KAAK+P,UAAU3Q,EAAGwJ,IAE7BsH,MAAO,SAAUC,EAAQC,GAOrB,MANKnY,GAAQmY,KACTA,EAASD,GAEbnQ,KAAKZ,GAAK+Q,EACVnQ,KAAK4I,GAAKwH,EACVpQ,KAAK0H,iBACE1H,MAEXqQ,UAAW,SAAUF,EAAQC,GACzB,MAAOpQ,MAAK6P,QAAQK,MAAMC,EAAQC,IAEtCpI,UAAW,SAAUsI,GACjB,GAAIC,GAAKpI,EAASmI,GAAiBlR,EAAIY,KAAKZ,EAAGwJ,EAAI5I,KAAK4I,CAIxD,OAHA5I,MAAKZ,EAAImR,EAAG7P,EAAItB,EAAImR,EAAGjR,EAAIsJ,EAAI2H,EAAGjN,EAClCtD,KAAK4I,EAAI2H,EAAG1P,EAAIzB,EAAImR,EAAGhR,EAAIqJ,EAAI2H,EAAGxY,EAClCiI,KAAK0H,iBACE1H,MAEX8O,cAAe,SAAUwB,GACrB,GAAI1D,GAAQ5M,KAAK6P,OAIjB,OAHIS,IACA1D,EAAM5E,UAAUsI,GAEb1D,GAEX4D,WAAY,SAAU5D,GAAV,GACJ6D,GAAKzQ,KAAKZ,EAAIwN,EAAMxN,EACpBsR,EAAK1Q,KAAK4I,EAAIgE,EAAMhE,CACxB,OAAOpQ,GAAKkS,KAAK+F,EAAKA,EAAKC,EAAKA,IAEpCtY,MAAO,SAAU4G,GAIb,MAHAgB,MAAKZ,EAAIhH,EAAM4H,KAAKZ,EAAGJ,GACvBgB,KAAK4I,EAAIxQ,EAAM4H,KAAK4I,EAAG5J,GACvBgB,KAAK0H,iBACE1H,MAEX2Q,QAAS,SAAU3R,GAAV,GACD4R,GAAU3Y,EAAQ+G,GAClBI,EAAIwR,EAAUxY,EAAM4H,KAAKZ,EAAGJ,GAAUgB,KAAKZ,EAC3CwJ,EAAIgI,EAAUxY,EAAM4H,KAAK4I,EAAG5J,GAAUgB,KAAK4I,CAC/C,QACIxJ,EACAwJ,KAIZI,GAAgBiC,EAAMhC,IAClB,IACA,MAEJ3H,EAAW2J,EAAMhC,GAAItC,GACrBsE,EAAMhC,GAAG4H,SAAW,SAAU7R,EAAQ8R,GAClC,GAAI1R,GAAIY,KAAKZ,EAAGwJ,EAAI5I,KAAK4I,CAMzB,OALI3Q,GAAQ+G,KACRI,EAAIhH,EAAMgH,EAAGJ,GACb4J,EAAIxQ,EAAMwQ,EAAG5J,IAEjB8R,EAAYA,GAAa,IAClB1R,EAAI0R,EAAYlI,GAE3BqC,EAAMpL,OAAS,SAAUkR,EAAMC,GAC3B,GAAI/Y,EAAQ8Y,GACR,MAAIA,aAAgB9F,GACT8F,EACqB,IAArBhR,UAAU5F,QAAgC,IAAhB4W,EAAK5W,OAC/B,GAAI8Q,GAAM8F,EAAK,GAAIA,EAAK,IAExB,GAAI9F,GAAM8F,EAAMC,IAInC/F,EAAMtS,IAAM,WAAA,GAGCsB,GACDgX,EAHJ1D,EAAO1L,EAAKrH,QACZiT,EAAO5L,EAAKrH,OAChB,KAASP,EAAI,EAAGA,EAAI8F,UAAU5F,OAAQF,IAC9BgX,EAAKlR,UAAU9F,GACnBsT,EAAO/U,EAAKG,IAAIsY,EAAG7R,EAAGmO,GACtBE,EAAOjV,EAAKG,IAAIsY,EAAGrI,EAAG6E,EAE1B,OAAO,IAAIxC,GAAMsC,EAAME,IAE3BxC,EAAMrS,IAAM,WAAA,GAGCqB,GACDgX,EAHJzD,EAAO3L,EAAKpH,QACZiT,EAAO7L,EAAKpH,OAChB,KAASR,EAAI,EAAGA,EAAI8F,UAAU5F,OAAQF,IAC9BgX,EAAKlR,UAAU9F,GACnBuT,EAAOhV,EAAKI,IAAIqY,EAAG7R,EAAGoO,GACtBE,EAAOlV,EAAKI,IAAIqY,EAAGrI,EAAG8E,EAE1B,OAAO,IAAIzC,GAAMuC,EAAME,IAE3BzC,EAAMiG,SAAW,WACb,MAAO,IAAIjG,GAAMxQ,EAASA,IAE9BwQ,EAAMkG,SAAW,WACb,MAAO,IAAIlG,GAAMzQ,EAASA,IAE9ByQ,EAAMmG,KAAO,GAAInG,GAAM,EAAG,GACtBoE,EAAOzL,EAAME,QACbC,KAAM,SAAUzB,EAAOC,GACnBvC,KAAKsC,MAAQA,GAAS,EACtBtC,KAAKuC,OAASA,GAAU,GAE5BoN,OAAQ,SAAUC,GACd,MAAOA,IAASA,EAAMtN,QAAUtC,KAAKsC,OAASsN,EAAMrN,SAAWvC,KAAKuC,QAExEsN,MAAO,WACH,MAAO,IAAIR,GAAKrP,KAAKsC,MAAOtC,KAAKuC,SAErCoO,QAAS,SAAU3R,GAAV,GACD4R,GAAU3Y,EAAQ+G,GAClBsD,EAAQsO,EAAUxY,EAAM4H,KAAKsC,MAAOtD,GAAUgB,KAAKsC,MACnDC,EAASqO,EAAUxY,EAAM4H,KAAKuC,OAAQvD,GAAUgB,KAAKuC,MACzD,QACID,EACAC,MAIZyG,EAAgBqG,EAAKpG,IACjB,QACA,WAEJ3H,EAAW+N,EAAKpG,GAAItC,GACpB0I,EAAKxP,OAAS,SAAUkR,EAAMC,GAC1B,GAAI/Y,EAAQ8Y,GACR,MAAIA,aAAgB1B,GACT0B,EACqB,IAArBhR,UAAU5F,QAAgC,IAAhB4W,EAAK5W,OAC/B,GAAIkV,GAAK0B,EAAK,GAAIA,EAAK,IAEvB,GAAI1B,GAAK0B,EAAMC,IAIlC3B,EAAK+B,KAAO,GAAI/B,GAAK,EAAG,GACpBC,EAAO1L,EAAME,QACbC,KAAM,SAAU+L,EAAQzT,GACpB2D,KAAKqR,UAAUvB,GAAU,GAAI7E,IAC7BjL,KAAKsR,QAAQjV,GAAQ,GAAIgT,KAE7BQ,MAAO,WACH,MAAO,IAAIP,GAAKtP,KAAK8P,OAAOD,QAAS7P,KAAK3D,KAAKwT,UAEnDF,OAAQ,SAAUC,GACd,MAAOA,IAASA,EAAME,OAAOH,OAAO3P,KAAK8P,SAAWF,EAAMvT,KAAKsT,OAAO3P,KAAK3D,OAE/EgV,UAAW,SAAUnZ,GAGjB,MAFA8H,MAAK6H,eAAe,SAAUoD,EAAMpL,OAAO3H,IAC3C8H,KAAK0H,iBACE1H,MAEXuR,UAAW,WACP,MAAOvR,MAAK8P,QAEhBwB,QAAS,SAAUpZ,GAGf,MAFA8H,MAAK6H,eAAe,OAAQwH,EAAKxP,OAAO3H,IACxC8H,KAAK0H,iBACE1H,MAEXwR,QAAS,WACL,MAAOxR,MAAK3D,MAEhBiG,MAAO,WACH,MAAOtC,MAAK3D,KAAKiG,OAErBC,OAAQ,WACJ,MAAOvC,MAAK3D,KAAKkG,QAErBkP,QAAS,WACL,MAAOzR,MAAK8P,OAAOD,SAEvBzC,YAAa,WACT,MAAOpN,MAAK8P,OAAOD,QAAQE,UAAU/P,KAAKsC,QAAStC,KAAKuC,WAE5DmP,SAAU,WACN,MAAO1R,MAAK8P,OAAOD,QAAQE,UAAU/P,KAAKsC,QAAS,IAEvDqP,WAAY,WACR,MAAO3R,MAAK8P,OAAOD,QAAQE,UAAU,EAAG/P,KAAKuC,WAEjD+F,OAAQ,WACJ,MAAOtI,MAAK8P,OAAOD,QAAQE,UAAU/P,KAAKsC,QAAU,EAAGtC,KAAKuC,SAAW,IAE3EsK,KAAM,SAAU5E,GAAV,GACE2J,GAAK5R,KAAKyR,UAAU3C,cAAc7G,GAClC4J,EAAK7R,KAAK0R,WAAW5C,cAAc7G,GACnC6J,EAAK9R,KAAKoN,cAAc0B,cAAc7G,GACtC8J,EAAK/R,KAAK2R,aAAa7C,cAAc7G,EACzC,OAAOqH,GAAK0C,WAAWJ,EAAIC,EAAIC,EAAIC,IAEvCjD,cAAe,SAAUtP,GACrB,MAAO8P,GAAK0C,WAAWhS,KAAKyR,UAAUzJ,UAAUxI,GAAIQ,KAAKoN,cAAcpF,UAAUxI,KAErFyS,OAAQ,SAAU7S,EAAGwJ,GAOjB,MANK3Q,GAAQ2Q,KACTA,EAAIxJ,GAERY,KAAK3D,KAAKiG,OAAS,EAAIlD,EACvBY,KAAK3D,KAAKkG,QAAU,EAAIqG,EACxB5I,KAAK8P,OAAOC,WAAW3Q,GAAIwJ,GACpB5I,MAEXkS,WAAY,SAAU9S,EAAGwJ,GACrB,MAAO5I,MAAK6P,QAAQoC,OAAO7S,EAAGwJ,IAElCuJ,cAAe,SAAUvF,GAAV,GACPkD,GAAS9P,KAAK8P,OACd1C,EAAcpN,KAAKoN,aACvB,SAASR,EAAMxN,EAAI0Q,EAAO1Q,GAAKwN,EAAMhE,EAAIkH,EAAOlH,GAAKwE,EAAYhO,EAAIwN,EAAMxN,GAAKgO,EAAYxE,EAAIgE,EAAMhE,IAE1GwJ,UAAW,SAAUxF,EAAOtK,GAAjB,GACH+P,GAAYrS,KAAKkS,WAAW5P,EAAOA,GACnCgQ,EAAYtS,KAAKkS,YAAY5P,GAAQA,EACzC,OAAO+P,GAAUF,cAAcvF,KAAW0F,EAAUH,cAAcvF,MAG1EtL,EAAWgO,EAAKrG,GAAItC,GACpB2I,EAAK0C,WAAa,WAAA,GACVP,GAAUxG,EAAMtS,IAAI4C,MAAMyE,KAAMD,WAChCqN,EAAcnC,EAAMrS,IAAI2C,MAAMyE,KAAMD,WACpC1D,EAAO,GAAIgT,GAAKjC,EAAYhO,EAAIqS,EAAQrS,EAAGgO,EAAYxE,EAAI6I,EAAQ7I,EACvE,OAAO,IAAI0G,GAAKmC,EAASpV,IAE7BiT,EAAKiD,MAAQ,SAAU7R,EAAGG,GACtB,MAAOyO,GAAK0C,WAAW/G,EAAMtS,IAAI+H,EAAE+Q,UAAW5Q,EAAE4Q,WAAYxG,EAAMrS,IAAI8H,EAAE0M,cAAevM,EAAEuM,iBAE7FkC,EAAKkD,UAAY,SAAU9R,EAAGG,GAa1B,GAZAH,GACIO,KAAMP,EAAE+Q,UAAUrS,EAClBqT,IAAK/R,EAAE+Q,UAAU7I,EACjB1H,MAAOR,EAAE0M,cAAchO,EACvBsT,OAAQhS,EAAE0M,cAAcxE,GAE5B/H,GACII,KAAMJ,EAAE4Q,UAAUrS,EAClBqT,IAAK5R,EAAE4Q,UAAU7I,EACjB1H,MAAOL,EAAEuM,cAAchO,EACvBsT,OAAQ7R,EAAEuM,cAAcxE,GAExBlI,EAAEO,MAAQJ,EAAEK,OAASL,EAAEI,MAAQP,EAAEQ,OAASR,EAAE+R,KAAO5R,EAAE6R,QAAU7R,EAAE4R,KAAO/R,EAAEgS,OAC1E,MAAOpD,GAAK0C,WAAW,GAAI/G,GAAMzS,EAAKI,IAAI8H,EAAEO,KAAMJ,EAAEI,MAAOzI,EAAKI,IAAI8H,EAAE+R,IAAK5R,EAAE4R,MAAO,GAAIxH,GAAMzS,EAAKG,IAAI+H,EAAEQ,MAAOL,EAAEK,OAAQ1I,EAAKG,IAAI+H,EAAEgS,OAAQ7R,EAAE6R,WAGnJnD,EAAS3L,EAAME,QACfC,KAAM,SAAUuE,EAAQqK,GACpB3S,KAAK4S,UAAUtK,GAAU,GAAI2C,IAC7BjL,KAAK6S,UAAUF,GAAU,IAE7BC,UAAW,SAAU1a,GAGjB,MAFA8H,MAAK6H,eAAe,SAAUoD,EAAMpL,OAAO3H,IAC3C8H,KAAK0H,iBACE1H,MAEX8S,UAAW,WACP,MAAO9S,MAAKsI,QAEhBqH,OAAQ,SAAUC,GACd,MAAOA,IAASA,EAAMtH,OAAOqH,OAAO3P,KAAKsI,SAAWsH,EAAM+C,SAAW3S,KAAK2S,QAE9E9C,MAAO,WACH,MAAO,IAAIN,GAAOvP,KAAKsI,OAAOuH,QAAS7P,KAAK2S,SAEhDI,QAAS,SAAUjK,GACf,MAAO9I,MAAKgT,SAASna,EAAIiQ,KAE7B+D,KAAM,SAAU5E,GAAV,GAIOhO,GACDgZ,EACAC,EACAC,EANJjC,EAAWjG,EAAMkG,WACjBA,EAAWlG,EAAMiG,WACjBkC,EAAgB/K,EAAqBrI,KAAKsI,OAAQtI,KAAK2S,OAAQ3S,KAAK2S,OAAQ1K,EAChF,KAAShO,EAAI,EAAGA,EAAI,EAAGA,IACfgZ,EAAgBjT,KAAKgT,SAASI,EAAchU,EAAInF,EAAIyV,GAAUZ,cAAc7G,GAC5EiL,EAAgBlT,KAAKgT,SAASI,EAAcxK,EAAI3O,EAAIyV,GAAUZ,cAAc7G,GAC5EkL,EAAe,GAAIlI,GAAMgI,EAAc7T,EAAG8T,EAActK,GAC5DsI,EAAWjG,EAAMtS,IAAIuY,EAAUiC,GAC/BhC,EAAWlG,EAAMrS,IAAIuY,EAAUgC,EAEnC,OAAO7D,GAAK0C,WAAWd,EAAUC,IAErC6B,SAAU,SAAUlK,GAAV,GACFxJ,GAAIU,KAAKsI,OACTvJ,EAAIiB,KAAK2S,MACb,OAAO,IAAI1H,GAAM3L,EAAEF,EAAIL,EAAIvG,EAAKwR,IAAIlB,GAAQxJ,EAAEsJ,EAAI7J,EAAIvG,EAAKyR,IAAInB,KAEnEqJ,cAAe,SAAUvF,GAAV,GACPtE,GAAStI,KAAKsI,OACd+K,EAAW7a,EAAKD,IAAIqU,EAAMxN,EAAIkJ,EAAOlJ,EAAG,GAAK5G,EAAKD,IAAIqU,EAAMhE,EAAIN,EAAOM,EAAG,IAAMpQ,EAAKD,IAAIyH,KAAK2S,OAAQ,EAC1G,OAAOU,IAEXjB,UAAW,SAAUxF,EAAOtK,GAAjB,GACHgG,GAAStI,KAAKsI,OACdqK,EAAS3S,KAAK2S,OACdW,EAAgBhL,EAAOkI,WAAW5D,EACtC,OAAO+F,GAASrQ,GAASgR,GAAiBA,GAAiBX,EAASrQ,KAG5E0G,EAAgBuG,EAAOtG,IAAK,WAC5B3H,EAAWiO,EAAOtG,GAAItC,GAClB6I,EAAM5L,EAAME,QACZC,KAAM,SAAUuE,EAAQ1D,GACpB5E,KAAK4S,UAAUtK,GAAU,GAAI2C,IAC7BrG,EAAUA,MACV5E,KAAKuT,QAAU3O,EAAQ2O,QACvBvT,KAAKwT,QAAU5O,EAAQ4O,SAAW5O,EAAQ2O,QAC1CvT,KAAKkL,WAAatG,EAAQsG,WAC1BlL,KAAKmL,SAAWvG,EAAQuG,SACxBnL,KAAKyT,cAAgB7O,EAAQ6O,gBAAiB,GAElD5D,MAAO,WACH,MAAO,IAAIL,GAAIxP,KAAKsI,QAChBiL,QAASvT,KAAKuT,QACdC,QAASxT,KAAKwT,QACdtI,WAAYlL,KAAKkL,WACjBC,SAAUnL,KAAKmL,SACfsI,cAAezT,KAAKyT,iBAG5Bb,UAAW,SAAU1a,GAGjB,MAFA8H,MAAK6H,eAAe,SAAUoD,EAAMpL,OAAO3H,IAC3C8H,KAAK0H,iBACE1H,MAEX8S,UAAW,WACP,MAAO9S,MAAKsI,QAEhBoL,aAAc,GACdX,QAAS,SAAUjK,GAAV,GACDR,GAAStI,KAAKsI,OACdqL,EAAS9a,EAAIiQ,EACjB,OAAO,IAAImC,GAAM3C,EAAOlJ,EAAIY,KAAKuT,QAAU/a,EAAKwR,IAAI2J,GAASrL,EAAOM,EAAI5I,KAAKwT,QAAUhb,EAAKyR,IAAI0J,KAEpGC,YAAa,WAAA,GASA3Z,GACD4Z,EACAtH,EAVJrB,EAAalL,KAAKkL,WAClB4I,EAAM9T,KAAKyT,iBAAqB,EAChCG,GAAe5T,KAAK+S,QAAQ7H,IAC5B6I,EAAe7I,EACf8I,EAAWhU,KAAKiU,eAChBC,EAAgBF,EAAS7I,SAAW6I,EAAS9I,WAC7CiJ,EAAoB3b,EAAK4b,KAAKF,EAAgBlU,KAAK0T,cACnDW,EAAmBH,EAAgBC,CACvC,KAASla,EAAI,EAAGA,GAAKka,EAAmBla,IAChC4Z,EAAYE,EAAeD,EAAMO,EACjC9H,EAASvM,KAAKsU,qBAAqBP,EAAcF,GACrDD,EAAYha,KAAK2S,EAAOgI,IAAKhI,EAAOiI,IAAKjI,EAAOwB,IAChDgG,EAAeF,CAEnB,OAAOD,IAEX/G,KAAM,SAAU5E,GAcZ,IAdE,GAeMgL,GAKAC,EAnBJuB,EAAMzU,KACNgU,EAAWS,EAAIR,eACf/I,EAAa8I,EAAS9I,WACtBC,EAAW6I,EAAS7I,SACpBiI,EAAgB/K,EAAqBrI,KAAKsI,OAAQtI,KAAKuT,QAASvT,KAAKwT,QAASvL,GAC9EQ,EAAWzP,EAAIoa,EAAchU,GAC7BsJ,EAAW1P,EAAIoa,EAAcxK,GAC7BuK,EAAesB,EAAI1B,QAAQ7H,GAAY4D,cAAc7G,GACrD0G,EAAW8F,EAAI1B,QAAQ5H,GAAU2D,cAAc7G,GAC/CiJ,EAAWjG,EAAMtS,IAAIwa,EAAcxE,GACnCwC,EAAWlG,EAAMrS,IAAIua,EAAcxE,GACnC+F,EAAgB7L,EAAeJ,EAAUyC,GACzCyJ,EAAgB9L,EAAeH,EAAUwC,GACtCwJ,EAAgBvJ,GAAYwJ,EAAgBxJ,GAE3CuJ,EAAgBvJ,IAChB8H,EAAgBwB,EAAI1B,QAAQ2B,GAAe5F,cAAc7G,GACzDyM,GAAiB,IAGjBC,EAAgBxJ,IAChB+H,EAAgBuB,EAAI1B,QAAQ4B,GAAe7F,cAAc7G,GACzD0M,GAAiB,IAErBxB,EAAe,GAAIlI,GAAMgI,EAAc7T,EAAG8T,EAActK,GACxDsI,EAAWjG,EAAMtS,IAAIuY,EAAUiC,GAC/BhC,EAAWlG,EAAMrS,IAAIuY,EAAUgC,EAEnC,OAAO7D,GAAK0C,WAAWd,EAAUC,IAErC8C,aAAc,WAAA,GAKFW,GAJJ1J,EAAalL,KAAKkL,WAClBC,EAAWnL,KAAKmL,SAChBsI,EAAgBzT,KAAKyT,aASzB,OARIA,KACImB,EAAW1J,EACfA,EAAaC,EACbA,EAAWyJ,IAEX1J,EAAaC,GAAYsI,GAAiBvI,IAAeC,KACzDA,GAAY,MAGZD,WAAYA,EACZC,SAAUA,IAGlBmJ,qBAAsB,SAAUpJ,EAAYC,GAAtB,GACdsJ,GAAMzU,KACN8N,EAAK2G,EAAI1B,QAAQ7H,GACjB6C,EAAK0G,EAAI1B,QAAQ5H,GACjB0J,EAAeJ,EAAIK,cAAc5J,GACjC6J,EAAeN,EAAIK,cAAc3J,GACjCsB,GAAK5T,EAAIsS,GAAYtS,EAAIqS,IAAe,EACxCqJ,EAAM,GAAItJ,GAAM6C,EAAG1O,EAAIqN,EAAIoI,EAAazV,EAAG0O,EAAGlF,EAAI6D,EAAIoI,EAAajM,GACnE4L,EAAM,GAAIvJ,GAAM8C,EAAG3O,EAAIqN,EAAIsI,EAAa3V,EAAG2O,EAAGnF,EAAI6D,EAAIsI,EAAanM,EACvE,QACIkF,GAAIA,EACJyG,IAAKA,EACLC,IAAKA,EACLzG,GAAIA,IAGZ+G,cAAe,SAAUhM,GAAV,GACP2L,GAAMzU,KACN2T,EAAS9a,EAAIiQ,EACjB,OAAO,IAAImC,IAAOwJ,EAAIlB,QAAU/a,EAAKyR,IAAI0J,GAASc,EAAIjB,QAAUhb,EAAKwR,IAAI2J,KAE7ExB,cAAe,SAAUvF,GAAV,GAUPuF,GAIIrJ,EAIAkM,EAjBJhB,EAAWhU,KAAKiU,eAChBC,EAAgBF,EAAS7I,SAAW6I,EAAS9I,WAC7C5C,EAAStI,KAAKsI,OACd2M,EAAW3M,EAAOkI,WAAW5D,GAC7BsI,EAAW1c,EAAKmQ,MAAMiE,EAAMhE,EAAIN,EAAOM,EAAGgE,EAAMxN,EAAIkJ,EAAOlJ,GAC3D+V,EAAcnV,KAAKuT,QAAUvT,KAAKwT,QAAUhb,EAAKkS,KAAKlS,EAAKD,IAAIyH,KAAKuT,QAAS,GAAK/a,EAAKD,IAAIC,EAAKyR,IAAIiL,GAAW,GAAK1c,EAAKD,IAAIyH,KAAKwT,QAAS,GAAKhb,EAAKD,IAAIC,EAAKwR,IAAIkL,GAAW,IAC7KE,EAAapV,KAAK+S,QAAQ/S,KAAKkL,YAAY9S,MAAMiU,GACjDsC,EAAW3O,KAAK+S,QAAQ/S,KAAKmL,UAAU/S,MAAMiU,GAC7C8C,EAAevB,EAAiBtF,EAAQsE,EAAMxU,MAAMiU,GAAY+I,EAAYzG,EAYhF,OAVIuF,GAAgB,IAChB/B,EAAgBhD,GAAgBV,EAAYnG,EAAOkI,WAAWrB,GAAe8F,IAAaxG,EAAYwG,EAAUE,IAE5GrM,EAAQe,EAAevB,EAAOlJ,EAAGkJ,EAAOM,EAAG5I,KAAKuT,QAASvT,KAAKwT,QAAS5G,EAAMxN,EAAGwN,EAAMhE,GAC7E,KAATE,IACAA,GAAS,IAAMA,GAAS,KAExBkM,EAAehB,EAAS9I,YAAcpC,GAASA,GAASkL,EAAS7I,SACrEgH,EAAgB6C,GAAgBvG,EAAYwG,EAAUE,KAAiBH,KAAkB7F,GAAgBA,EAAaQ,OAAO/C,KAE1HuF,GAEXC,UAAW,SAAUxF,EAAOtK,GAAjB,GAOH0S,GANAhB,EAAWhU,KAAKiU,eAChB3L,EAAStI,KAAKsI,OACdQ,EAAQe,EAAevB,EAAOlJ,EAAGkJ,EAAOM,EAAG5I,KAAKuT,QAASvT,KAAKwT,QAAS5G,EAAMxN,EAAGwN,EAAMhE,EAK1F,OAJa,MAATE,IACAA,GAAS,IAAMA,GAAS,KAExBkM,EAAehB,EAAS9I,YAAcpC,GAASA,GAASkL,EAAS7I,SAC9D6J,GAAgBhV,KAAK+S,QAAQjK,GAAO0H,WAAW5D,IAAUtK,KAGxE0G,EAAgBwG,EAAIvG,IAChB,UACA,UACA,aACA,WACA,kBAEJ3H,EAAWkO,EAAIvG,GAAItC,GACnB6I,EAAIwC,WAAa,SAAUjJ,EAAOU,EAAKlB,EAAIC,EAAI+B,EAAUb,GACrD,GAAI2L,GAAgBnL,EAAuBnB,EAAM3J,EAAG2J,EAAMH,EAAGa,EAAIrK,EAAGqK,EAAIb,EAAGL,EAAIC,EAAI+B,EAAUb,EAC7F,OAAO,IAAI8F,GAAI6F,EAAc/M,QACzB4C,WAAYmK,EAAcnK,WAC1BC,SAAUkK,EAAclK,SACxBoI,QAAShL,EACTiL,QAAShL,EACTiL,cAAyB,IAAV/J,KAGnB+F,EAAS7L,EAAME,QACfC,KAAM,SAAUrD,EAAGG,EAAGvB,EAAGC,EAAG+D,EAAGvL,GAC3BiI,KAAKU,EAAIA,GAAK,EACdV,KAAKa,EAAIA,GAAK,EACdb,KAAKV,EAAIA,GAAK,EACdU,KAAKT,EAAIA,GAAK,EACdS,KAAKsD,EAAIA,GAAK,EACdtD,KAAKjI,EAAIA,GAAK,GAElBud,aAAc,SAAU9V,GACpB,MAAO,IAAIiQ,GAAOzP,KAAKU,EAAIlB,EAAEkB,EAAIV,KAAKV,EAAIE,EAAEqB,EAAGb,KAAKa,EAAIrB,EAAEkB,EAAIV,KAAKT,EAAIC,EAAEqB,EAAGb,KAAKU,EAAIlB,EAAEF,EAAIU,KAAKV,EAAIE,EAAED,EAAGS,KAAKa,EAAIrB,EAAEF,EAAIU,KAAKT,EAAIC,EAAED,EAAGS,KAAKU,EAAIlB,EAAE8D,EAAItD,KAAKV,EAAIE,EAAEzH,EAAIiI,KAAKsD,EAAGtD,KAAKa,EAAIrB,EAAE8D,EAAItD,KAAKT,EAAIC,EAAEzH,EAAIiI,KAAKjI,IAEnNwd,OAAQ,WAAA,GACA7U,GAAIV,KAAKU,EAAGG,EAAIb,KAAKa,EACrBtB,EAAIS,KAAKV,EAAGgE,EAAItD,KAAKT,EACrBiW,EAAIxV,KAAKsD,EAAGmS,EAAIzV,KAAKjI,EACrB2d,EAAMhV,EAAI4C,EAAIzC,EAAItB,CACtB,OAAY,KAARmW,EACO,KAEJ,GAAIjG,GAAOnM,EAAIoS,GAAM7U,EAAI6U,GAAMnW,EAAImW,EAAKhV,EAAIgV,GAAMnW,EAAIkW,EAAInS,EAAIkS,GAAKE,GAAM7U,EAAI2U,EAAI9U,EAAI+U,GAAKC,IAErG7F,MAAO,WACH,MAAO,IAAIJ,GAAOzP,KAAKU,EAAGV,KAAKa,EAAGb,KAAKV,EAAGU,KAAKT,EAAGS,KAAKsD,EAAGtD,KAAKjI,IAEnE4X,OAAQ,SAAUC,GACd,QAAKA,IAGE5P,KAAKU,IAAMkP,EAAMlP,GAAKV,KAAKa,IAAM+O,EAAM/O,GAAKb,KAAKV,IAAMsQ,EAAMtQ,GAAKU,KAAKT,IAAMqQ,EAAMrQ,GAAKS,KAAKsD,IAAMsM,EAAMtM,GAAKtD,KAAKjI,IAAM6X,EAAM7X,IAE1IK,MAAO,SAAUC,GAOb,MANA2H,MAAKU,EAAItI,EAAM4H,KAAKU,EAAGrI,GACvB2H,KAAKa,EAAIzI,EAAM4H,KAAKa,EAAGxI,GACvB2H,KAAKV,EAAIlH,EAAM4H,KAAKV,EAAGjH,GACvB2H,KAAKT,EAAInH,EAAM4H,KAAKT,EAAGlH,GACvB2H,KAAKsD,EAAIlL,EAAM4H,KAAKsD,EAAGjL,GACvB2H,KAAKjI,EAAIK,EAAM4H,KAAKjI,EAAGM,GAChB2H,MAEX2Q,QAAS,SAAUtY,GAAV,GAUQ4B,GATTM,GACAyF,KAAKU,EACLV,KAAKa,EACLb,KAAKV,EACLU,KAAKT,EACLS,KAAKsD,EACLtD,KAAKjI,EAET,IAAIE,EAAQI,GACR,IAAS4B,EAAI,EAAGA,EAAIM,EAAIJ,OAAQF,IAC5BM,EAAIN,GAAK7B,EAAMmC,EAAIN,GAAI5B,EAG/B,OAAOkC,MAGfkV,EAAOxG,GAAG4H,SAAW,SAAUxY,EAAWyY,GACtC,MAAO9Q,MAAK2Q,QAAQtY,GAAWyB,KAAKgX,GAAa,MAErDrB,EAAOM,UAAY,SAAU3Q,EAAGwJ,GAC5B,MAAO,IAAI6G,GAAO,EAAG,EAAG,EAAG,EAAGrQ,EAAGwJ,IAErC6G,EAAOkG,KAAO,WACV,MAAO,IAAIlG,GAAO,EAAG,EAAG,EAAG,EAAG,EAAG,IAErCA,EAAOV,OAAS,SAAUjG,EAAO1J,EAAGwJ,GAChC,GAAIpJ,GAAI,GAAIiQ,EAOZ,OANAjQ,GAAEkB,EAAIlI,EAAKwR,IAAInR,EAAIiQ,IACnBtJ,EAAEqB,EAAIrI,EAAKyR,IAAIpR,EAAIiQ,IACnBtJ,EAAEF,GAAKE,EAAEqB,EACTrB,EAAED,EAAIC,EAAEkB,EACRlB,EAAE8D,EAAIlE,EAAIA,EAAII,EAAEkB,EAAIkI,EAAIpJ,EAAEqB,GAAK,EAC/BrB,EAAEzH,EAAI6Q,EAAIA,EAAIpJ,EAAEkB,EAAItB,EAAII,EAAEqB,GAAK,EACxBrB,GAEXiQ,EAAOS,MAAQ,SAAUC,EAAQC,GAC7B,MAAO,IAAIX,GAAOU,EAAQ,EAAG,EAAGC,EAAQ,EAAG,IAE/CX,EAAOmG,SAAWnG,EAAOkG,OACrBzN,EAAiBtE,EAAME,QACvBC,KAAM,SAAUkE,GACZjI,KAAK6V,QAAU5N,GAAUwH,EAAOkG,QAEpC9F,MAAO,WACH,MAAO,IAAI3H,GAAelI,KAAK6V,QAAQhG,UAE3CF,OAAQ,SAAUC,GACd,MAAOA,IAASA,EAAMiG,QAAQlG,OAAO3P,KAAK6V,UAE9CC,eAAgB,WACZ9V,KAAKyH,eACDK,MAAO,YACP5P,MAAO8H,QAGf+P,UAAW,SAAU3Q,EAAGwJ,GAGpB,MAFA5I,MAAK6V,QAAU7V,KAAK6V,QAAQP,aAAa7F,EAAOM,UAAU3Q,EAAGwJ,IAC7D5I,KAAK8V,iBACE9V,MAEXkQ,MAAO,SAAUC,EAAQC,EAAQN,GAa7B,MAZK7X,GAAQmY,KACTA,EAASD,GAETL,IACAA,EAAS7E,EAAMpL,OAAOiQ,GACtB9P,KAAK6V,QAAU7V,KAAK6V,QAAQP,aAAa7F,EAAOM,UAAUD,EAAO1Q,EAAG0Q,EAAOlH,KAE/E5I,KAAK6V,QAAU7V,KAAK6V,QAAQP,aAAa7F,EAAOS,MAAMC,EAAQC,IAC1DN,IACA9P,KAAK6V,QAAU7V,KAAK6V,QAAQP,aAAa7F,EAAOM,WAAWD,EAAO1Q,GAAI0Q,EAAOlH,KAEjF5I,KAAK8V,iBACE9V,MAEX+O,OAAQ,SAAUjG,EAAOgH,GAIrB,MAHAA,GAAS7E,EAAMpL,OAAOiQ,IAAW7E,EAAMmG,KACvCpR,KAAK6V,QAAU7V,KAAK6V,QAAQP,aAAa7F,EAAOV,OAAOjG,EAAOgH,EAAO1Q,EAAG0Q,EAAOlH,IAC/E5I,KAAK8V,iBACE9V,MAEXkM,SAAU,SAAUoE,GAChB,GAAIrI,GAASE,EAASmI,EAGtB,OAFAtQ,MAAK6V,QAAU7V,KAAK6V,QAAQP,aAAarN,GACzCjI,KAAK8V,iBACE9V,MAEXiI,OAAQ,SAAUA,GACd,MAAIA,IACAjI,KAAK6V,QAAU5N,EACfjI,KAAK8V,iBACE9V,MAEAA,KAAK6V,WAIxBvU,EAAW4G,EAAee,GAAItC,GAoH1BgF,EAAgB,SAAUS,EAAM2J,GAChC/V,KAAKoM,KAAOA,GAAQ,EACpBpM,KAAK+V,IAAMA,GAAO,GAEtBpK,EAAc1C,GAAK0C,EAAcqK,WAC7BjK,IAAK,SAAUkK,GACX,MAAO,IAAItK,GAAcvT,EAAM4H,KAAKoM,KAAO6J,EAAQ7J,KAAMC,GAAYjU,EAAM4H,KAAK+V,IAAME,EAAQF,IAAK1J,KAEvG6J,YAAa,SAAUhe,GACnB,MAAO,IAAIyT,GAAc3L,KAAKoM,KAAOlU,EAAO8H,KAAK+V,MAErD9J,OAAQ,WACJ,MAAO,IAAIN,KAAe3L,KAAKoM,QAAOpM,KAAK+V,OAE/C7J,SAAU,SAAU+J,GAChB,MAAO,IAAItK,GAAc3L,KAAKoM,KAAO6J,EAAQ7J,KAAOpM,KAAK+V,IAAME,EAAQF,IAAK/V,KAAKoM,KAAO6J,EAAQF,IAAM/V,KAAK+V,IAAME,EAAQ7J,OAE7HJ,iBAAkB,SAAU9T,GACxB,MAAO,IAAIyT,GAAc3L,KAAKoM,KAAOlU,EAAO8H,KAAK+V,IAAM7d,IAE3D2T,QAAS,SAAU9Q,GACf,GAAIlC,GAAML,EAAKmQ,MAAM3I,KAAK+V,IAAK/V,KAAKoM,MAAOrN,EAAIvG,EAAKkS,KAAKlS,EAAKD,IAAIyH,KAAK+V,IAAK,GAAKvd,EAAKD,IAAIyH,KAAKoM,KAAM,IAAK+J,EAAO3d,EAAKD,IAAIwG,EAAG,EAAIhE,EACjI,OAAO,IAAI4Q,GAAcwK,EAAO3d,EAAKwR,IAAInR,EAAMkC,GAAIob,EAAO3d,EAAKyR,IAAIpR,EAAMkC,KAE7E4U,OAAQ,SAAUsG,GACd,MAAOjW,MAAKoM,OAAS6J,EAAQ7J,MAAQpM,KAAK+V,MAAQE,EAAQF,KAE9D5J,OAAQ,WACJ,MAAoB,KAAbnM,KAAK+V,MAwHpBzU,EAAW5F,GACP0a,UACI5G,IAAKA,EACLD,OAAQA,EACR5C,wBAAyBA,EACzBU,uBAAwBA,EACxBoC,OAAQA,EACRxE,MAAOA,EACPqE,KAAMA,EACND,KAAMA,EACNnH,eAAgBA,EAChBF,UAAWA,EACXG,SAAUA,EACVuG,gBAAiBA,EACjBM,gBAAiBA,KAGzBtT,EAAMqG,QAAQqU,SAAW1a,EAAM0a,YAE5B/U,OAAO3F,OACE,kBAAV1D,SAAwBA,OAAOgK,IAAMhK,OAAS,SAAUiK,EAAIC,EAAIC,IACrEA,GAAMD,OAEV,SAAUnK,EAAGC,QACVA,OAAO,gBACH,mBACA,eACDD,IACL,YACG,SAAUqK,GAojBP,QAASiU,GAAiBhP,GACtB,GAAIjI,GAAGwJ,CAQP,OAPIvB,GAAMiP,OACNlX,EAAIiI,EAAMjI,EAAEmX,SACZ3N,EAAIvB,EAAMuB,EAAE2N,WAEZnX,EAAIiI,EAAMmP,OAASnP,EAAMoP,SAAW,EACpC7N,EAAIvB,EAAMqP,OAASrP,EAAMsP,SAAW,IAGpCvX,EAAGA,EACHwJ,EAAGA,GA/jBd,GAwIOgO,GAmEAC,EAkEAC,EAkCAC,EA9SAC,EAAO5U,EAAE4U,KAAMnG,EAAWjR,OAAOoW,UAAUnF,SAAUnV,EAAQ2F,OAAO3F,MAAOub,EAAavb,EAAMwb,YAAaC,EAAczb,EAAM0b,aAAcxT,EAAQlI,EAAMkI,MAAOyT,EAAS3b,EAAM4b,GAAGD,OAAQ/V,EAAa5F,EAAM4F,WAAYO,EAAOnG,EAAMmG,KAAM5J,EAAU4J,EAAK5J,QAASS,EAAamJ,EAAKnJ,WAAY8c,EAAI9Z,EAAM0a,SAAUmB,EAAQnV,EAAEmV,MAAOC,EAAK,SAAUC,EAAmB,qEAAgFC,EAAyB,uFACpdC,EAAUN,EAAOvT,QACjBC,KAAM,SAAUgD,EAASnC,GACrB5E,KAAK4E,QAAUtD,KAAetB,KAAK4E,QAASA,GAC5CyS,EAAOpO,GAAGlF,KAAK6T,KAAK5X,KAAM+G,EAAS/G,KAAK4E,SACxC5E,KAAK6X,OAAS7X,KAAK8X,SAAS,SAC5B9X,KAAK+X,YAAc/X,KAAK8X,SAAS,cACjC9X,KAAKgY,YAAchY,KAAK8X,SAAS,cACjC9X,KAAKiY,WAAajY,KAAK8X,SAAS,aAChC9X,KAAKkY,QAAU,GAAIxc,GAAMoG,QAAQqW,MAC7BnY,KAAK4E,QAAQtC,OACbtC,KAAK+G,QAAQqR,IAAI,QAASpY,KAAK4E,QAAQtC,OAEvCtC,KAAK4E,QAAQrC,QACbvC,KAAK+G,QAAQqR,IAAI,SAAUpY,KAAK4E,QAAQrC,QAE5CvC,KAAKqY,mBAETzT,SACI7I,KAAM,UACNuc,YAEJC,QACI,QACA,aACA,aACA,YACA,SACA,cACA,gBAEJC,KAAM,SAAUzR,GACZ/G,KAAKkY,QAAQO,SAAS7e,KAAKmN,IAE/B2R,MAAO,WACH1Y,KAAKkY,QAAQO,YACbzY,KAAK2Y,eAETC,QAAS,WACL5Y,KAAKkY,QAAU,KACXlY,KAAK6Y,WACL7Y,KAAK6Y,SAASD,gBACP5Y,MAAK6Y,UAEhBxB,EAAOpO,GAAG2P,QAAQhB,KAAK5X,OAE3B8Y,aAAc,WACV,MAAO9Y,MAAKkY,SAEhB1G,QAAS,WACL,OACIlP,MAAOtC,KAAK+G,QAAQzE,QACpBC,OAAQvC,KAAK+G,QAAQxE,WAG7B+O,QAAS,SAAUjV,GACf2D,KAAK+G,QAAQqR,KACT9V,MAAOjG,EAAKiG,MACZC,OAAQlG,EAAKkG,SAEjBvC,KAAKgE,MAAQ3H,EACb2D,KAAK+Y,WAETC,YAAa,SAAU1V,GAGnB,IAHS,GAEL2V,GADAC,EAAU9W,EAAEkB,EAAEgT,MAAQhT,EAAEgT,MAAM6C,aAAe7V,EAAE8V,SAE3CH,GAAQC,EAAQ/e,OAAS,IAC7B8e,EAAOC,EAAQ,GAAGG,YACdH,EAAQI,GAAGtZ,KAAK+G,UAA+B,IAAnBmS,EAAQ/e,SAGxC+e,EAAUA,EAAQK,QAEtB,IAAIN,EACA,MAAOA,GAAKO,YAGpBC,YAAa,SAAUC,EAAO9U,GACtB5E,KAAK6Y,UACL7Y,KAAK6Y,SAASc,KAAKD,EAAO9U,IAGlC+T,YAAa,WACL3Y,KAAK6Y,UACL7Y,KAAK6Y,SAASe,QAGtBC,gBAAiB,WACb7Z,KAAK8Z,oBAAqB,EAC1B9Z,KAAK2Y,eAEToB,eAAgB,WACZ/Z,KAAK8Z,oBAAqB,GAE9Bf,QAAS/B,EACTc,SAAU,SAAUzQ,GAChB,GAAI2S,GAAUha,IACd,OAAO,UAAUsD,GACb,GAAI2V,GAAOe,EAAQhB,YAAY1V,EAC3B2V,KAASe,EAAQF,oBACjBE,EAAQ7S,QAAQE,GACZN,QAASkS,EACTgB,cAAe3W,EACf4W,KAAM7S,MAKtBgR,gBAAiB,WACT3c,EAAM4b,GAAG6C,QACTna,KAAK6Y,SAAW,GAAI9B,GAAe/W,KAAMA,KAAK4E,QAAQ0T,eAG9D8B,eAAgB,WAAA,GACRrT,GAAU/G,KAAK+G,QACfsT,EAAStT,EAAQsT,SACjBC,EAAcC,SAASxT,EAAQqR,IAAI,eAAgB,IACnDoC,EAAaD,SAASxT,EAAQqR,IAAI,cAAe,GACrD,QACInX,KAAMoZ,EAAOpZ,KAAOqZ,EACpB7H,IAAK4H,EAAO5H,IAAM+H,IAG1BC,cAAe,SAAUpT,GAAV,GACPgT,GAASra,KAAKoa,iBACdM,EAAQrE,EAAiBhP,GACzBjI,EAAIsb,EAAMtb,EAAIib,EAAOpZ,KACrB2H,EAAI8R,EAAM9R,EAAIyR,EAAO5H,GACzB,OAAO,IAAI+C,GAAEvK,MAAM7L,EAAGwJ,KAG9BlN,GAAM4b,GAAGqD,OAAOhD,GAChBA,EAAQ9X,OAAS,SAAUkH,EAASnC,GAChC,MAAOkS,GAAejU,QAAQhD,OAAOkH,EAASnC,IAE9CgS,EAAWhT,EAAME,QACjBC,KAAM,SAAUyV,GACZxZ,KAAK4a,cACL5a,KAAKuZ,OAAS,KACVC,IACAxZ,KAAKwZ,WAAaA,EAClBxZ,KAAK6a,YAGbjC,QAAS,WAAA,GAIDH,GACKxe,CAAT,KAJI+F,KAAKwZ,YACLxZ,KAAKwZ,WAAWxS,eAAehH,MAE/ByY,EAAWzY,KAAK4a,WACX3gB,EAAI,EAAGA,EAAIwe,EAASte,OAAQF,IACjC+F,KAAK4a,WAAW3gB,GAAG2e,SAEvB5Y,MAAKuZ,OAAS,MAElBlW,KAAM2T,EACN6D,QAAS,WACD7a,KAAKwZ,YACLxZ,KAAKwZ,WAAW1S,YAAY9G,OAGpC5E,OAAQ,SAAU6d,GACdjZ,KAAK4a,WAAWhhB,KAAKqf,GACrBA,EAAKM,OAASvZ,MAElB8a,SAAU,SAAU7B,EAAM1c,GACtByD,KAAK4a,WAAW1T,OAAO3K,EAAK,EAAG0c,GAC/BA,EAAKM,OAASvZ,MAElB+a,OAAQ,SAAU9T,EAAOiG,GAAjB,GAEKjT,GADLwP,EAAMxC,EAAQiG,CAClB,KAASjT,EAAIgN,EAAOhN,EAAIwP,EAAKxP,IACzB+F,KAAK4a,WAAW3gB,GAAG+gB,YAEvBhb,MAAK4a,WAAW1T,OAAOD,EAAOiG,IAElC8N,WAAY,WACRhb,KAAK0Y,QACL1Y,KAAK4Y,WAETF,MAAO,WACH1Y,KAAK+a,OAAO,EAAG/a,KAAK4a,WAAWzgB,SAEnC8gB,WAAY,WACJjb,KAAKuZ,QACLvZ,KAAKuZ,OAAO0B,cAGpBvT,eAAgB,WACZ1H,KAAKib,cAETxT,cAAe,WACXzH,KAAKib,cAETC,eAAgB,SAAU5X,GACL,QAAbA,EAAE6X,OACFnb,KAAKqD,KAAKC,EAAE8X,MAAO9X,EAAE2D,OACD,WAAb3D,EAAE6X,QACTnb,KAAK+a,OAAOzX,EAAE2D,MAAO3D,EAAE8X,MAAMjhB,QAEjC6F,KAAKib,gBAGTpE,EAAejT,EAAME,QACrBC,KAAM,SAAUa,EAASyW,GACrB,GAAIvT,GAAOwT,CACXtb,MAAKqb,OAASA,GAAU,EACxB,KAAKvT,IAASlD,GACV0W,EAAS1W,EAAQkD,GACjBwT,EAAStb,KAAKub,MAAMD,EAAQxT,GAC5B9H,KAAK8H,GAASwT,GAGtB5W,IAAK,SAAUoD,GACX,MAAOpM,GAAM8f,OAAO1T,GAAO,GAAM9H,OAErCyb,IAAK,SAAU3T,EAAO5P,GAAjB,GAGOwjB,GAFJ7Y,EAAUnH,EAAM8f,OAAO1T,GAAO,GAAM9H,KACpC6C,KAAY3K,IACRwjB,EAAY1b,KAAK2b,KAAK7T,EAAO9H,KAAKub,MAAMrjB,EAAO4P,IAC9C4T,GACD1b,KAAKyH,eACDK,MAAO9H,KAAKqb,OAASvT,EACrB5P,MAAOA,MAKvByjB,KAAM,SAAU7T,EAAO5P,GAAjB,GAGMyB,GAA0BiiB,EAAWC,EAFzCH,EAAY5T,EAAMgU,QAAQ,MAAQ,CACtC,IAAIJ,EAEA,IADI/hB,EAAQmO,EAAMpL,MAAM,KAAMkf,EAAO,GAC9BjiB,EAAMQ,OAAS,GAAG,CAQrB,GAPAyhB,GAAQjiB,EAAMkF,QACdgd,EAAMngB,EAAM8f,OAAOI,GAAM,GAAM5b,MAC1B6b,IACDA,EAAM,GAAIhF,MAAiB+E,EAAO,KAClCC,EAAI/U,YAAY9G,MAChBA,KAAK4b,GAAQC,GAEbA,YAAehF,GAEf,MADAgF,GAAIJ,IAAI9hB,EAAMG,KAAK,KAAM5B,GAClBwjB,CAEXE,IAAQ,IAKhB,MAFA5b,MAAK+b,OAAOjU,GACZpM,EAAMsgB,OAAOlU,GAAO9H,KAAM9H,GACnBwjB,GAEXK,OAAQ,SAAUjU,GACd,GAAIjF,GAAUnH,EAAM8f,OAAO1T,GAAO,GAAM9H,KACpC6C,IAAWA,EAAQmE,gBACnBnE,EAAQmE,eAAehH,OAG/Bub,MAAO,SAAU9hB,EAAQqO,GACrB,GAAIoS,GAAOrJ,EAAS+G,KAAKne,EAOzB,OANe,QAAXA,GAAmBxB,EAAQwB,IAAoB,oBAATygB,IAChCzgB,YAAkBod,IAAmBpd,YAAkBmK,KACzDnK,EAAS,GAAIod,GAAapd,EAAQuG,KAAKqb,OAASvT,EAAQ,MAE5DrO,EAAOqN,YAAY9G,OAEhBvG,KAGf6H,EAAWuV,EAAa5N,GAAIvN,EAAMqM,OAAOpB,gBACrCmQ,EAAiB,WACjB9W,KAAKic,WAETnF,EAAed,WACXkG,SAAU,SAAUngB,EAAMme,EAAMiC,GAC5B,GAAIf,GAAQpb,KAAKic,OAAQ5gB,EAAQ+f,EAAM,GAAI/W,GACnCtI,KAAMA,EACNme,KAAMA,EACNiC,MAAOA,IAEV9gB,GAAS8gB,EAAQ9gB,EAAM8gB,MACxBf,EAAMgB,QAAQ/X,GAEd+W,EAAMxhB,KAAKyK,IAGnBxE,OAAQ,SAAUkH,EAASnC,GAAnB,GAGIyX,GACKpiB,EAHTmhB,EAAQpb,KAAKic,OAAQK,EAAQlB,EAAM,EACvC,IAAIxW,GAAWA,EAAQsV,KAEnB,IADImC,EAAYzX,EAAQsV,KAAK/a,cACpBlF,EAAI,EAAGA,EAAImhB,EAAMjhB,OAAQF,IAC9B,GAAImhB,EAAMnhB,GAAG8B,OAASsgB,EAAW,CAC7BC,EAAQlB,EAAMnhB,EACd,OAIZ,MAAIqiB,GACO,GAAIA,GAAMpC,KAAKnT,EAASnC,OAEnClJ,GAAM6H,aAAa,yIAAgJgZ,UAAUC,UAAY,mDAGjM1F,EAAejU,QAAU,GAAIiU,GACzBC,EAAiBnT,EAAME,QACvBC,KAAM,SAAUiW,EAASpV,GACrB5E,KAAK+G,QAAU3E,EAAEqV,GACjBzX,KAAKyc,QAAUzc,KAAK+G,QAAQ0R,SAAS,sBACrC7T,EAAUA,MACV5E,KAAK4E,QAAUtD,KAAetB,KAAK4E,QAAS5E,KAAK0c,gBAAgB9X,IACjE5E,KAAK2c,MAAQ,GAAIjhB,GAAM4b,GAAG6C,MAAMna,KAAK+G,SACjC6V,SAAUhY,EAAQgY,SAClBC,UAAWjY,EAAQiY,UACnBC,kBAAkB,EAClBC,UAAW,YAEf/c,KAAKgd,kBAAoB5a,EAAEmV,MAAMvX,KAAKid,WAAYjd,MAClDA,KAAKga,QAAUA,EACfha,KAAKkd,eAETtY,SACIuY,SAAU,MACVC,OAAQ,aACR/C,OAAQ,EACRgD,UAAU,EACVC,UAAW,EACXC,UAAW,KAEfL,YAAa,WACTld,KAAKwd,aAAejG,EAAMvX,KAAKyd,WAAYzd,MAC3CA,KAAK0d,qBAAuBnG,EAAMvX,KAAK2d,cAAe3d,MACtDA,KAAK4d,mBAAqBrG,EAAMvX,KAAKgY,YAAahY,MAClDA,KAAK6d,kBAAoBtG,EAAMvX,KAAKiY,WAAYjY,MAChDA,KAAKga,QAAQ8D,KAAK,QAAS9d,KAAKwd,cAChCxd,KAAKga,QAAQ8D,KAAK,aAAc9d,KAAKwd,cACrCxd,KAAKga,QAAQ8D,KAAK,aAAc9d,KAAK4d,oBACrC5d,KAAKga,QAAQ8D,KAAK,YAAa9d,KAAK6d,mBACpC7d,KAAKga,QAAQjT,QAAQgX,GAAG,aAAevG,EAAIxX,KAAK0d,sBAChD1d,KAAK+G,QAAQgX,GAAG,QAAUvG,EAAI,oBAAqBD,EAAMvX,KAAKge,WAAYhe,QAE9E4Y,QAAS,WACL,GAAI+D,GAAQ3c,KAAK2c,KACjB3c,MAAKga,QAAQiE,OAAO,QAASje,KAAKwd,cAClCxd,KAAKga,QAAQiE,OAAO,aAAcje,KAAKwd,cACvCxd,KAAKga,QAAQiE,OAAO,aAAcje,KAAK4d,oBACvC5d,KAAKga,QAAQiE,OAAO,YAAaje,KAAK6d,mBACtC7d,KAAKga,QAAQjT,QAAQmX,IAAI,aAAe1G,EAAIxX,KAAK0d,sBACjD1d,KAAK+G,QAAQmX,IAAI,QAAU1G,GACvBmF,IACAA,EAAM/D,gBACC5Y,MAAK2c,OAEhBwB,aAAane,KAAKoe,gBACXpe,MAAK2c,YACL3c,MAAK+G,cACL/G,MAAKyc,cACLzc,MAAKga,SAEhB0C,gBAAiB,SAAU9X,GAEvB,MADAA,GAAUA,OAENuY,SAAUvY,EAAQuY,SAClBC,OAAQxY,EAAQwY,OAChB/C,OAAQzV,EAAQyV,OAChBgD,SAAUzY,EAAQyY,SAClB/a,MAAOsC,EAAQtC,MACfC,OAAQqC,EAAQrC,OAChBka,QAAS7X,EAAQ6X,QACjB4B,OAAQzZ,EAAQyZ,OAChBf,UAAW1Y,EAAQ0Y,UACnBC,UAAW3Y,EAAQ2Y,YAG3Be,cAAe,SAAU5E,GACrB,KAAOA,IAAUA,EAAM9U,QAAQ0T,SAC3BoB,EAAQA,EAAMH,MAElB,OAAOG,IAEX6E,eAAgB,SAAUnF,EAAQM,EAAO9U,GACrC,GAAI6X,GAAU7X,EAAQ6X,OAOtB,IANI/gB,EAAM0M,WAAWqU,KACjBA,EAAUA,GACN1V,QAAS2S,EACTN,OAAQA,KAGZqD,EAEA,MADAzc,MAAKyc,QAAQ+B,KAAK/B,IACX,GAGfgC,UAAW,SAAU/E,EAAO9U,EAAS8Z,EAAarX,GAAvC,GAgBCqT,GAfJyC,EAAWvY,EAAQuY,SACnBwB,EAAgB/Z,EAAQyV,QAAU,EAClCL,EAAUha,KAAKga,QACfK,EAASL,EAAQI,iBACjB/d,EAAO2d,EAAQxI,UACfoN,EAAgB5E,EAAQ6E,QACxBhS,EAAO6M,EAAM7M,OACbvK,EAAQoc,EAAYpc,MACpBC,EAASmc,EAAYnc,OACrBtB,EAAO,EAAGwR,EAAM,CAsBpB,OArBA5F,GAAKiD,OAAOC,UAAUsK,EAAOpZ,KAAMoZ,EAAO5H,KACtCmM,GACA/R,EAAKiD,OAAOC,WAAW6O,EAAcxf,GAAIwf,EAAchW,GAE3C,UAAZuU,GAAwB9V,GACpBqT,EAAQrE,EAAiBhP,GAC7BpG,EAAOyZ,EAAMtb,EAAIkD,EAAQ,EACzBmQ,EAAMiI,EAAM9R,EAAIrG,EAASoc,GACN,QAAZxB,GACPlc,EAAO4L,EAAKiD,OAAO1Q,EAAIkD,EAAQqc,EAC/BlM,EAAM5F,EAAKvE,SAASM,EAAIrG,EAAS,GACd,SAAZ4a,GACPlc,EAAO4L,EAAKO,cAAchO,EAAIuf,EAC9BlM,EAAM5F,EAAKvE,SAASM,EAAIrG,EAAS,GACd,UAAZ4a,GACPlc,EAAO4L,EAAKvE,SAASlJ,EAAIkD,EAAQ,EACjCmQ,EAAM5F,EAAKO,cAAcxE,EAAI+V,IAE7B1d,EAAO4L,EAAKvE,SAASlJ,EAAIkD,EAAQ,EACjCmQ,EAAM5F,EAAKiD,OAAOlH,EAAIrG,EAASoc,IAG/B1d,KAAMvI,EAAWuI,EAAMoZ,EAAOpZ,KAAMoZ,EAAOpZ,KAAO5E,EAAKiG,OACvDmQ,IAAK/Z,EAAW+Z,EAAK4H,EAAO5H,IAAK4H,EAAO5H,IAAMpW,EAAKkG,UAG3DoX,KAAM,SAAUD,EAAO9U,GACnB5E,KAAK8e,MAAMpF,EAAOA,EAAOpY,KAAetB,KAAK4E,QAAS5E,KAAK0c,gBAAgBhD,EAAM9U,QAAQ0T,SAAU1T,KAEvGgV,KAAM,WACF,GAAI/W,GAAU7C,KAAK+e,eACZ/e,MAAK+e,SACZZ,aAAane,KAAKgf,cACdhf,KAAK2c,MAAMsC,WAAapc,IAAY7C,KAAKga,QAAQ7S,QAAQ,gBACrDJ,QAASlE,EAAQ6W,MACjBN,OAAQvW,EAAQuW,OAChBuD,MAAO3c,KAAK2c,SAEhB3c,KAAK2c,MAAMxP,SAGnB6Q,WAAY,SAAU1a,GAClBA,EAAE4b,iBACFlf,KAAK4Z,QAETkF,MAAO,SAAU1F,EAAQM,EAAO9U,EAASyC,EAAO8X,GAAzC,GAaKT,GACA/B,EAbJ9Z,EAAU7C,KAAK+e,QACnBZ,cAAane,KAAKoe,UACdvb,IAAYA,EAAQ6W,QAAUA,GAAS9U,EAAQyZ,QAAUxb,EAAQuW,SAAWA,KAGhF+E,aAAane,KAAKgf,eACbhf,KAAKga,QAAQ7S,QAAQ,eAClBJ,QAAS2S,EACTN,OAAQA,EACRuD,MAAO3c,KAAK2c,SACV3c,KAAKue,eAAenF,EAAQM,EAAO9U,KACzC5E,KAAKof,UAAUxa,GACX8Z,EAAc1e,KAAKqf,SAASza,GAC5B+X,EAAQ3c,KAAK2c,MACbA,EAAMsC,WACNtC,EAAMxP,OAAM,GAEhBnN,KAAK+e,UACDna,QAASA,EACT8Z,YAAaA,EACbhF,MAAOA,EACPN,OAAQA,EACR+D,SAAUnd,KAAKye,UAAU7Z,EAAQyZ,OAAS3E,EAAQN,EAAQxU,EAAS8Z,EAAarX,IAEhF8X,EACAnf,KAAKgf,aAAeM,WAAWtf,KAAKgd,kBAAmBpY,EAAQ2Y,WAAa,GAE5Evd,KAAKid,gBAIjBA,WAAY,WAAA,GACJpa,GAAU7C,KAAK+e,SACf5B,EAAWta,EAAQsa,QACvBnd,MAAK2c,MAAM4C,KAAKpC,EAASlc,KAAMkc,EAAS1K,MAE5C2M,UAAW,SAAUxa,GACbA,EAAQyY,UAAYrd,KAAKwf,eACzBxf,KAAK+G,QAAQ0Y,YAAY,sBACzBzf,KAAKwf,aAAazE,eACX/a,MAAKwf;AAEX5a,EAAQyY,UAAard,KAAKwf,eAC3Bxf,KAAK+G,QAAQ2Y,SAAS,sBACtB1f,KAAKwf,aAAepd,EAAEsV,GAAwBiI,UAAU3f,KAAK+G,WAGrE0W,WAAY,SAAUna,GAAV,GAGAsB,GAFJ8U,EAAQ1Z,KAAKse,cAAchb,EAAEyD,QAC7B2S,KACI9U,EAAUtD,KAAetB,KAAK4E,QAAS5E,KAAK0c,gBAAgBhD,EAAM9U,QAAQ0T,UAC1E1T,GAAWA,EAAQwY,QAAU9Z,EAAE4W,MAC/Bla,KAAK8e,MAAMxb,EAAEyD,QAAS2S,EAAO9U,EAAStB,EAAE2W,eAAe,KAInEoF,SAAU,SAAUza,GAAV,GACFtC,GAAOC,EAKP0c,CAaJ,OAjBAjf,MAAK+G,QAAQqR,KACT9V,MAAO,OACPC,OAAQ,SAER0c,EAAUjf,KAAK2c,MAAMsC,UACpBA,GACDjf,KAAK2c,MAAMiD,QAAQjG,OAEvB3Z,KAAK+G,QAAQqR,KACT9V,MAAOrK,EAAQ2M,EAAQtC,OAASsC,EAAQtC,MAAQ,OAChDC,OAAQtK,EAAQ2M,EAAQrC,QAAUqC,EAAQrC,OAAS,SAEvDD,EAAQ2U,EAAWjX,KAAK+G,SACxBxE,EAAS4U,EAAYnX,KAAK+G,SACrBkY,GACDjf,KAAK2c,MAAMiD,QAAQhG,QAGnBtX,MAAOA,EACPC,OAAQA,IAGhByV,YAAa,SAAU1U,GAAV,GAEDgV,GACAzV,CAFH7C,MAAK6f,oBAAoBvc,EAAE2W,iBACxB3B,EAAUtY,KACV6C,EAAUyV,EAAQyG,SAClBlc,GAAWA,EAAQ+B,QAAQyY,WAC3B/E,EAAQ8F,SAAWkB,WAAW,WAC1BnB,aAAa7F,EAAQ0G,cACrB1G,EAAQsB,QACT/W,EAAQ+B,QAAQ0Y,WAAa,MAI5CrF,WAAY,SAAU3U,GAAV,GAGAsB,GAEIuY,EAJRta,EAAU7C,KAAK+e,QACflc,IAAWS,EAAEyD,UACTnC,EAAU/B,EAAQ+B,QACE,UAApBA,EAAQuY,WACJA,EAAWnd,KAAKye,UAAUnb,EAAEyD,QAASnC,EAAS/B,EAAQ6b,YAAapb,EAAE2W,eACzEpX,EAAQsa,SAAWA,EACnBnd,KAAK2c,MAAMiD,QAAQxH,KACfnX,KAAMkc,EAASlc,KACfwR,IAAK0K,EAAS1K,SAK9BkL,cAAe,SAAUra,GAChBtD,KAAK6f,oBAAoBvc,KAC1B6a,aAAane,KAAKgf,cAClBhf,KAAK4Z,SAGbiG,oBAAqB,SAAUvc,GAC3B,MAAOA,GAAEwc,eAAiB1d,EAAEkB,EAAEwc,eAAeC,QAAQ/f,KAAK2c,MAAMiD,SAASzlB,UAiBjFmH,EAAW5F,GACPoG,SACIke,aACIC,KACI,IACA,KAEJC,MACI,EACA,KAEJC,UACI,EACA,KAEJC,SACI,IACA,IACA,IACA,KAEJC,aACI,EACA,IACA,IACA,KAEJC,gBACI,EACA,IACA,IACA,IACA,IACA,MAGRC,MAAO7kB,EAAM6kB,MACb3J,SAAUA,EACVC,aAAcA,EACdc,QAASA,EACTb,eAAgBA,EAChBC,eAAgBA,KAGxBrb,EAAMqG,QAAQD,QAAUpG,EAAMoG,SAChCT,OAAO3F,MAAMoK,SACC,kBAAV9N,SAAwBA,OAAOgK,IAAMhK,OAAS,SAAUiK,EAAIC,EAAIC,IACrEA,GAAMD,OAEV,SAAUnK,EAAGC,QACVA,OAAO,kBAAmB,gBAAiBD,IAC7C,YACG,WAAA,GACO2D,GAAQ2F,OAAO3F,MAAO4F,EAAa5F,EAAM4F,WAAYrJ,EAAUyD,EAAMmG,KAAK5J,QAASud,EAAI9Z,EAAM0a,SAC7FoK,EAAW,WACXC,EAAuBjL,GAAAA,EAAE/F,OAAOmG,SAChC8K,GACA5c,OAAQ,SAAU6c,GACdA,EAAMC,KAAO5gB,KAAK4gB,KAClBD,EAAME,OAAS7gB,KAAK6gB,QAExBD,KAAM,SAAUhkB,EAAOkkB,GAAjB,GAIUC,GAHRnc,EAAU5E,KAAK4E,OACnB,OAAI3M,GAAQ2E,IACJA,GAASA,EAAMokB,UAAYR,GACvBO,GAAYnkB,MAAOA,GACnB3E,EAAQ6oB,KACRC,EAAQD,QAAUA,GAEtBlc,EAAQ6W,IAAI,OAAQsF,IAEpBnc,EAAQ6W,IAAI,OAAQ7e,GAEjBoD,MAEA4E,EAAQF,IAAI,SAG3Bmc,OAAQ,SAAUjkB,EAAO0F,EAAOwe,GAC5B,MAAI7oB,GAAQ2E,IACRoD,KAAK4E,QAAQ6W,IAAI,eAAgB7e,GAC7B3E,EAAQqK,IACRtC,KAAK4E,QAAQ6W,IAAI,eAAgBnZ,GAEjCrK,EAAQ6oB,IACR9gB,KAAK4E,QAAQ6W,IAAI,iBAAkBqF,GAEhC9gB,MAEAA,KAAK4E,QAAQF,IAAI,YAIhCuc,GACAnd,OAAQ,SAAU6c,EAAOO,GACrBP,EAAMQ,SAAW,SAAUle,GAAV,GAEJhJ,GACDmnB,EAFJ3I,EAAWzY,KAAKkhB,EACpB,KAASjnB,EAAI,EAAGA,EAAIwe,EAASte,OAAQF,IAC7BmnB,EAAQ3I,EAASxe,GACjBmnB,EAAMD,SACNC,EAAMD,SAASle,GAEfA,EAASme,EAGjB,OAAOphB,SAIfqhB,GACAvd,OAAQ,SAAU6c,GACdA,EAAM9T,KAAO7M,KAAK6M,KAClB8T,EAAMjZ,eAAiB1H,KAAK0H,gBAEhCmF,KAAM,SAAUyD,GAAV,GAGEzD,GAQAyU,EAVAC,EAAiB/L,EAAErN,SAASnI,KAAKwhB,iBAAiBlR,IAClDmR,EAAaF,EAAiBA,GAAAA,EAA4Bd,CAa9D,OAXIzgB,MAAK0hB,YAAc1hB,KAAK2hB,aAAeF,EACvC5U,EAAO7M,KAAK0hB,WAAW7R,SAEvBhD,EAAO7M,KAAK4hB,MAAML,GAClBvhB,KAAK0hB,WAAa7U,EAAOA,EAAKgD,QAAU,KACxC7P,KAAK2hB,YAAcF,GAEnBH,EAActhB,KAAK4E,QAAQF,IAAI,gBAC/B4c,GAAezU,GACfA,EAAKoF,OAAOqP,EAAc,GAEvBzU,GAEXnF,eAAgB,iBACL1H,MAAK0hB,WACZ1hB,KAAKmH,QAAQ,kBAAoBJ,QAAS/G,QAGlDsB,GAAW5F,EAAMoG,SACbiG,QACI2Y,UAAWA,EACXO,YAAaA,EACbI,WAAYA,SAIR,kBAAVrpB,SAAwBA,OAAOgK,IAAMhK,OAAS,SAAUiK,EAAIC,EAAIC,IACrEA,GAAMD,OAEV,SAAUnK,EAAGC,QACVA,OAAO,kBACH,eACA,iBACA,oBACA,oBACDD,IACL,YACG,SAAUqK,GAkmCP,QAASyf,GAAoBC,EAAUC,EAAgBzR,GAAvD,GACQ0R,GACK/nB,EACD8M,EAEIkb,CAHZ,KAAShoB,EAAI,EAAGA,EAAI6nB,EAAS3nB,OAAQF,IAC7B8M,EAAU+a,EAAS7nB,GACnB8M,EAAQkY,YACJgD,EAAqBF,EAAiBhb,EAAQ8F,KAAKyD,GAAkBvJ,EAAQmb,UAC7ED,IAEID,EADAA,EACcxM,EAAElG,KAAKiD,MAAMyP,EAAaC,GAE1BA,GAK9B,OAAOD,GAEX,QAASG,GAA2BL,EAAUxR,GAA9C,GACQ0R,GACK/nB,EACD8M,EAEIkb,CAHZ,KAAShoB,EAAI,EAAGA,EAAI6nB,EAAS3nB,OAAQF,IAC7B8M,EAAU+a,EAAS7nB,GACnB8M,EAAQkY,YACJgD,EAAqBlb,EAAQqb,YAAY9R,GACzC2R,IAEID,EADAA,EACcxM,EAAElG,KAAKiD,MAAMyP,EAAaC,GAE1BA,GAK9B,OAAOD,GAEX,QAASK,GAAwBpZ,EAAIqZ,GACjC,IAAK,GAAIroB,GAAI,EAAGA,EAAIqoB,EAAMnoB,OAAQF,IAC9BgP,EAAGqZ,EAAMroB,IAAMsoB,EAAiBD,EAAMroB,IAG9C,QAASsoB,GAAiBxmB,GACtB,GAAIymB,GAAY,IAAMzmB,CACtB,OAAO,UAAU7D,GACb,MAAID,IAAQC,IACR8H,KAAK6H,eAAe2a,EAAWtqB,GAC/B8H,KAAK0H,iBACE1H,MAEAA,KAAKwiB,IAIxB,QAASC,GAAqBxZ,EAAIqZ,GAC9B,IAAK,GAAIroB,GAAI,EAAGA,EAAIqoB,EAAMnoB,OAAQF,IAC9BgP,EAAGqZ,EAAMroB,IAAMyoB,EAAcJ,EAAMroB,IAG3C,QAASyoB,GAAc3mB,GACnB,GAAIymB,GAAY,IAAMzmB,CACtB,OAAO,UAAU7D,GACb,MAAID,IAAQC,IACR8H,KAAK6H,eAAe2a,EAAWvX,EAAMpL,OAAO3H,IAC5C8H,KAAK0H,iBACE1H,MAEAA,KAAKwiB,IAIxB,QAASG,GAAuB1Z,EAAIqZ,GAChC,IAAK,GAAIroB,GAAI,EAAGA,EAAIqoB,EAAMnoB,OAAQF,IAC9BgP,EAAGqZ,EAAMroB,IAAM2oB,EAAgBN,EAAMroB,IAG7C,QAAS2oB,GAAgB7mB,GACrB,MAAO,UAAU7D,GACb,MAAID,IAAQC,IACR8H,KAAK4E,QAAQ6W,IAAI1f,EAAM7D,GAChB8H,MAEAA,KAAK4E,QAAQF,IAAI3I,IAIpC,QAAS8mB,KACL,MAAO,OAASC,KAEpB,QAASC,GAAMjB,EAAUkB,EAAMC,GAC3BC,EAAcpB,EAAUkB,EAAMC,EAAW,IAAK,SAElD,QAASE,GAAOrB,EAAUkB,EAAMC,GAC5BC,EAAcpB,EAAUkB,EAAMC,EAAW,IAAK,UAElD,QAASG,GAAMtB,GACXuB,EAAcC,EAAiBxB,GAAW,IAAK,IAAK,SAExD,QAASyB,GAAOzB,GACZuB,EAAcC,EAAiBxB,GAAW,IAAK,IAAK,UAExD,QAAS0B,GAAK1B,EAAUkB,GACpB,MAAOS,GAAa3B,EAAUkB,EAAM,IAAK,IAAK,SAElD,QAASU,GAAM5B,EAAUkB,GACrB,MAAOS,GAAa3B,EAAUkB,EAAM,IAAK,IAAK,UAElD,QAASS,GAAa3B,EAAUkB,EAAMW,EAAMC,EAAWC,GAAvD,GAIQC,GACAC,EACAX,EACA7b,EANA/K,KACAwnB,EAASC,EAAUnC,EAAUkB,EAAMa,GACnC/T,EAASkT,EAAKlT,OAAOD,OAKzB,KAAKtI,EAAM,EAAGA,EAAMyc,EAAO7pB,OAAQoN,IAQ/B,IAPA6b,EAAQY,EAAOzc,GACfuc,EAAeV,EAAM,GACrBtT,EAAO8T,GAAaE,EAAajX,KAAKiD,OAAO8T,GAC7CM,EAAiBpU,EAAQgU,EAAajX,KAAMiX,EAAa/c,SACzD+c,EAAajX,KAAKiD,OAAO6T,GAAQ7T,EAAO6T,GACxCN,EAAcD,EAAOO,EAAMC,EAAWC,GACtCrnB,EAAO5C,SACFmqB,EAAa,EAAGA,EAAaX,EAAMjpB,OAAQ4pB,IAC5CvnB,EAAO+K,GAAK3N,KAAKwpB,EAAMW,GAAYhd,QAG3C,OAAOvK,GAEX,QAAS2nB,GAAIpd,EAASic,GAAtB,GAKY9S,GACAlI,EALJ6E,EAAO9F,EAAQqb,cACf1D,EAAc7R,EAAKxQ,KACnB+nB,EAAWpB,EAAK3mB,MAChB+nB,EAAS9hB,MAAQoc,EAAYpc,OAAS8hB,EAAS7hB,OAASmc,EAAYnc,UAChE2N,EAAQ1X,EAAKG,IAAIyrB,EAAS9hB,MAAQoc,EAAYpc,MAAO8hB,EAAS7hB,OAASmc,EAAYnc,QACnFyF,EAAYjB,EAAQiB,aAAewN,EAAExN,YACzCA,EAAUkI,MAAMA,EAAOA,GACvBnJ,EAAQiB,UAAUA,IAG1B,QAASic,GAAUnC,EAAUkB,EAAMa,GAAnC,GAKQ9c,GACA1K,EACAwQ,EAOKtF,EAbL8c,EAAUrB,EAAK3mB,KAAKwnB,GACpBS,EAAY,EACZN,KACAZ,KAIAmB,EAAoB,WACpBnB,EAAMxpB,MACFmN,QAASA,EACT8F,KAAMA,IAGd,KAAStF,EAAM,EAAGA,EAAMua,EAAS3nB,OAAQoN,IACrCR,EAAU+a,EAASva,GACnBsF,EAAO9F,EAAQqb,cACXvV,IACAxQ,EAAOwQ,EAAKxQ,KAAKwnB,GACbS,EAAYjoB,EAAOgoB,EACfjB,EAAMjpB,QACN6pB,EAAOpqB,KAAKwpB,GACZA,KACAmB,IACAD,EAAYjoB,IAEZkoB,IACAP,EAAOpqB,KAAKwpB,GACZA,KACAkB,EAAY,IAGhBC,IACAD,GAAajoB,GAOzB,OAHI+mB,GAAMjpB,QACN6pB,EAAOpqB,KAAKwpB,GAETY,EAEX,QAASV,GAAiBxB,GAA1B,GAEQ/a,GACA8F,EACKtF,EAHL8b,IAGJ,KAAS9b,EAAM,EAAGA,EAAMua,EAAS3nB,OAAQoN,IACrCR,EAAU+a,EAASva,GACnBsF,EAAO9F,EAAQqb,cACXvV,GACAwW,EAAczpB,MACVmN,QAASA,EACT8F,KAAMA,GAIlB,OAAOwW,GAEX,QAASA,GAAcvB,EAAU0C,EAAWZ,EAAWC,GAAvD,GAEYY,GACA3U,EACA/I,EACA8F,EACKtF,CALb,IAAIua,EAAS3nB,OAAS,EAKlB,IAJIsqB,EAAe3C,EAAS,GAAGjV,KAC3BiD,EAAS,GAAI7E,GAGR1D,EAAM,EAAGA,EAAMua,EAAS3nB,OAAQoN,IACrCR,EAAU+a,EAASva,GAAKR,QACxB8F,EAAOiV,EAASva,GAAKsF,KACrBiD,EAAO0U,GAAaC,EAAa3U,OAAO0U,GAAaC,EAAapoB,KAAKwnB,GACvE/T,EAAO8T,GAAa/W,EAAKiD,OAAO8T,GAChCM,EAAiBpU,EAAQjD,EAAM9F,GAC/B8F,EAAKiD,OAAO0U,GAAa1U,EAAO0U,GAChCC,EAAe5X,EAI3B,QAASqW,GAAcpB,EAAUkB,EAAMC,EAAWU,EAAME,GAAxD,GACQhX,GAAMD,EAEDrF,CAAT,KADA0b,EAAYA,GAAa,QAChB1b,EAAM,EAAGA,EAAMua,EAAS3nB,OAAQoN,IACrCsF,EAAOiV,EAASva,GAAK6a,cACjBvV,IACAD,EAAQC,EAAKiD,OAAOD,QACpBjD,EAAM+W,GAAQe,EAAW7X,EAAKxQ,KAAKwnB,GAAYb,EAAMC,EAAWU,EAAME,GACtEK,EAAiBtX,EAAOC,EAAMiV,EAASva,KAInD,QAASmd,GAAWroB,EAAM2mB,EAAMD,EAAOY,EAAME,GACzC,GAAI9a,EAQJ,OANIA,GADAga,GAAS4B,GACD3B,EAAKlT,OAAO6T,GACbZ,GAAS6B,GACR5B,EAAKlT,OAAO6T,GAAQX,EAAK3mB,KAAKwnB,GAAaxnB,EAE3C2mB,EAAKlT,OAAO6T,IAASX,EAAK3mB,KAAKwnB,GAAaxnB,GAAQ,EAIpE,QAAS0T,GAAU3Q,EAAGwJ,EAAG7B,GAAzB,GACQ8d,GAAY9d,EAAQiB,aAAewN,EAAExN,YACrCC,EAAS4c,EAAU5c,QACvBA,GAAO3E,GAAKlE,EACZ6I,EAAOlQ,GAAK6Q,EACZic,EAAU5c,OAAOA,GACjBlB,EAAQiB,UAAU6c,GAEtB,QAASX,GAAiBtX,EAAOC,EAAM9F,GACnCgJ,EAAUnD,EAAMxN,EAAIyN,EAAKiD,OAAO1Q,EAAGwN,EAAMhE,EAAIiE,EAAKiD,OAAOlH,EAAG7B,GAt1CnE,GAiHO+d,GA4FA3M,EAyFA4M,EA8CAxV,EAyBAC,EAoCAwV,EAKAC,EAyJAC,EAkKAC,EA6EAC,EA8BAC,EA6BAC,EAKAC,EA+CAC,EAYAC,EA4BAnW,EAyBAoW,EA78BAhqB,EAAQ2F,OAAO3F,MAAOkI,EAAQlI,EAAMkI,MAAOtC,EAAa5F,EAAM4F,WAAYkU,EAAI9Z,EAAM0a,SAAUnL,EAAQuK,EAAEvK,MAAOoE,EAAOmG,EAAEnG,KAAMI,EAAS+F,EAAE/F,OAAQtH,EAAWqN,EAAErN,SAAUrG,EAAUpG,EAAMoG,QAAS+U,EAAe/U,EAAQ+U,aAAcre,EAAO2I,KAAM5I,EAAMC,EAAKD,IAAKsJ,GAAOnG,EAAMmG,KAAMzG,GAASyG,GAAKzG,OAAQd,GAAcuH,GAAKvH,YAAarC,GAAU4J,GAAK5J,QAASiD,GAAO2G,GAAK3G,KAAM7B,GAAiBwI,GAAKxI,eAAgBsN,GAAiBjL,EAAMqM,OAAOpB,eAAgBD,GAAUtE,EAAEsE,QAAS9M,MAAUA,KAAM+rB,MAASA,IAAKze,MAAYA,OAAQrI,MAAWA,MAAOmC,MAAWA,MAAOob,MAAaA,QAAS0G,GAAQ,EAAG6B,GAAQ,QAASC,GAAM,MAAOgB,GAAa,aACjoBC,GAAUjiB,EAAME,QAChBkd,SAAU,UACVjd,KAAM,SAAUa,GACZ5E,KAAK8E,aAAaF,IAEtBE,aAAc,SAAUF,GAAV,GAENoD,GACA8d,CAFJlhB,GAAUA,MACNoD,EAAYpD,EAAQoD,UACpB8d,EAAOlhB,EAAQkhB,KACf9d,IACApD,EAAQoD,UAAYwN,EAAExN,UAAUA,IAEhC8d,IAASA,EAAKhmB,KACdgmB,EAAKhmB,GAAK+iB,KAEd7iB,KAAK4E,QAAU,GAAIiS,GAAajS,GAChC5E,KAAK4E,QAAQkC,YAAY9G,OAE7BgI,UAAW,SAAUA,GACjB,MAAI/P,IAAQ+P,OACRhI,MAAK4E,QAAQ6W,IAAI,YAAajG,EAAExN,UAAUA,IAEnChI,KAAK4E,QAAQF,IAAI,cAGhCqhB,gBAAiB,WAEb,IADA,GAAoBzV,GAAgB0V,EAAhCjf,EAAU/G,KACP+G,EAAQwS,QACXxS,EAAUA,EAAQwS,OAClBjJ,EAAiBvJ,EAAQiB,YACrBsI,IACA0V,EAAe1V,EAAerI,SAASqN,aAAa0Q,GAAgBvW,EAAOkG,QAGnF,IAAIqQ,EACA,MAAOxQ,GAAExN,UAAUge,IAG3BxE,iBAAkB,SAAUuE,GACxB,GAAqFC,GAAczE,EAA/F0E,EAAmBjmB,KAAKgI,YAAake,EAAgB/d,EAAS8d,EAUlE,IATKhuB,GAAQ8tB,KACTA,EAAkB/lB,KAAK+lB,mBAE3BC,EAAe7d,EAAS4d,GAEpBxE,EADA2E,GAAiBF,EACAA,EAAa1Q,aAAa4Q,GAE1BA,GAAiBF,EAGlC,MAAOxQ,GAAExN,UAAUuZ,IAG3BtC,QAAS,SAAUA,GACf,MAAIhnB,IAAQgnB,IACRjf,KAAK4E,QAAQ6W,IAAI,UAAWwD,GACrBjf,MAEAA,KAAK4E,QAAQF,IAAI,cAAe,GAG/CohB,KAAM,SAAUA,GACZ,GAAIlhB,GAAU5E,KAAK4E,OACnB,OAAI3M,IAAQ6tB,IACJA,IAASA,EAAKhmB,KACdgmB,EAAKhmB,GAAK+iB,KAEdje,EAAQ6W,IAAI,OAAQqK,GACb9lB,MAEA4E,EAAQF,IAAI,SAG3Boc,QAAS,SAAU5oB,GACf,MAAID,IAAQC,IACR8H,KAAK4E,QAAQ6W,IAAI,UAAWvjB,GACrB8H,MAEA3G,GAAe2G,KAAK4E,QAAQF,IAAI,WAAY,IAG3D0d,YAAa,SAAU9R,GAAV,GAGDwV,GAFJ9gB,EAAMhF,KAAKmmB,aAAa7V,EAC5B,IAAItL,EAEA,MADI8gB,GAAO9lB,KAAK8lB,OACTA,EAAOtQ,EAAElG,KAAKkD,UAAUxN,EAAK8gB,EAAKjZ,KAAKyD,IAAmBtL,GAGzEmN,cAAe,SAAUvF,EAAOmZ,GAC5B,GAAI/lB,KAAKif,UAAW,CAChB,GAAIjX,GAAYhI,KAAKwhB,iBAAiBuE,EAItC,OAHI/d,KACA4E,EAAQA,EAAMkC,cAAc9G,EAAUC,SAASsN,WAE5CvV,KAAKomB,YAAcpmB,KAAKqmB,eAAezZ,IAAU5M,KAAKoS,WAAapS,KAAKsmB,cAAgBtmB,KAAKoS,UAAUxF,GAElH,OAAO,GAEXwZ,SAAU,WACN,GAAIxF,GAAO5gB,KAAK4E,QAAQgc,IACxB,OAAOA,KAAS/e,GAAKlF,cAAcikB,EAAKhkB,QAE5C0pB,WAAY,WACR,GAAIzF,GAAS7gB,KAAK4E,QAAQic,MAC1B,OAAOA,IAAUA,EAAOve,MAAQ,IAAMT,GAAKlF,cAAckkB,EAAOjkB,QAEpEupB,aAAc,SAAU7V,GACpB,MAAOtQ,MAAK6M,KAAKyD,KAGzBhP,GAAWukB,GAAQ5c,GAAItC,IACnBme,EAAgBlhB,EAAME,QACtBC,KAAM,SAAU5I,GACZA,EAAQA,MACR6E,KAAK7F,OAAS,EACd6F,KAAKumB,QAAQ,EAAGprB,EAAMhB,OAAQgB,IAElC2mB,SAAU,SAAUA,GAChB,MAAIA,IACA9hB,KAAKumB,QAAQ,EAAGvmB,KAAK7F,OAAQ2nB,GAC7B9hB,KAAKwmB,UACExmB,MAEAA,KAAKgB,MAAM,IAG1BpH,KAAM,WAAA,GACEkoB,GAAW/hB,UACXvD,EAAS5C,GAAK2B,MAAMyE,KAAM8hB,EAE9B,OADA9hB,MAAKymB,KAAK3E,GACHtlB,GAEXwE,MAAOA,GACP2kB,IAAK,WAAA,GACGxrB,GAAS6F,KAAK7F,OACdqC,EAASmpB,GAAIpqB,MAAMyE,KAIvB,OAHI7F,IACA6F,KAAK0mB,SAASlqB,IAEXA,GAEX0K,OAAQ,SAAUD,EAAO0f,GAAjB,GACA7E,GAAW9gB,GAAM4W,KAAK7X,UAAW,GACjCvD,EAASwD,KAAKumB,QAAQtf,EAAO0f,EAAS7E,EAE1C,OADA9hB,MAAKwmB,UACEhqB,GAEXqC,MAAO,WAAA,GACC1E,GAAS6F,KAAK7F,OACdqC,EAASqC,GAAMtD,MAAMyE,KAIzB,OAHI7F,IACA6F,KAAK0mB,SAASlqB,IAEXA,GAEX4f,QAAS,WAAA,GACD0F,GAAW/hB,UACXvD,EAAS4f,GAAQ7gB,MAAMyE,KAAM8hB,EAEjC,OADA9hB,MAAKymB,KAAK3E,GACHtlB,GAEXsf,QAAS,SAAU/U,GAAV,GAEDQ,GACApN,EAFAysB,EAAO5mB,IAGX,KAAKuH,EAAM,EAAGpN,EAASysB,EAAKzsB,OAAQoN,EAAMpN,EAAQoN,IAC9C,GAAIqf,EAAKrf,KAASR,EACd,MAAOQ,EAGf,WAEJgf,QAAS,SAAUtf,EAAO0f,EAAS7E,GAC/B,GAAItlB,GAAS0K,GAAO3L,MAAMyE,MACtBiH,EACA0f,GACFE,OAAO/E,GAGT,OAFA9hB,MAAK8mB,eAAetqB,GACpBwD,KAAK+mB,aAAajF,GACXtlB,GAEXiqB,KAAM,SAAU3E,GACZ9hB,KAAK+mB,aAAajF,GAClB9hB,KAAKwmB,WAETE,QAAS,SAAU5E,GACf9hB,KAAK8mB,eAAehF,GACpB9hB,KAAKwmB,WAETO,aAAc,SAAUjF,GACpB,IAAK,GAAIva,GAAM,EAAGA,EAAMua,EAAS3nB,OAAQoN,IACrCua,EAASva,GAAKT,YAAY9G,OAGlC8mB,eAAgB,SAAUhF,GACtB,IAAK,GAAIva,GAAM,EAAGA,EAAMua,EAAS3nB,OAAQoN,IACrCua,EAASva,GAAKP,eAAehH,OAGrCwmB,QAAS,eAGbllB,EAAWwjB,EAAc7b,GAAItC,IACzBwR,EAAQ0N,GAAQ/hB,QAChBkd,SAAU,QACVjd,KAAM,SAAUa,GACZihB,GAAQ5c,GAAGlF,KAAK6T,KAAK5X,KAAM4E,GAC3B5E,KAAKyY,aAETyC,eAAgB,SAAUC,EAAQC,EAAOnU,GACrCjH,KAAKmH,QAAQ,kBACTgU,OAAQA,EACRC,MAAOA,EACPnU,MAAOA,KAGf7L,OAAQ,WAIJ,MAHAA,IAAO4E,KAAKyY,SAAU1Y,WACtBC,KAAKgnB,UAAUjnB,UAAWC,MAC1BA,KAAKkb,eAAe,MAAOnb,WACpBC,MAEXinB,OAAQ,SAAUhgB,EAAOF,GAIrB,MAHA/G,MAAKyY,SAASvR,OAAOD,EAAO,EAAGF,GAC/BA,EAAQwS,OAASvZ,KACjBA,KAAKkb,eAAe,OAAQnU,GAAUE,GAC/BjH,MAEX8a,SAAU,SAAU/T,EAASE,GACzB,MAAOjH,MAAKinB,OAAOhgB,EAAOF,IAE9BgU,OAAQ,SAAUhU,GACd,GAAIE,GAAQP,GAAQK,EAAS/G,KAAKyY,SAMlC,OALIxR,IAAS,IACTjH,KAAKyY,SAASvR,OAAOD,EAAO,GAC5BF,EAAQwS,OAAS,KACjBvZ,KAAKkb,eAAe,UAAWnU,GAAUE,IAEtCjH,MAEXknB,SAAU,SAAUjgB,GAChB,GAAI,GAAKA,GAASA,EAAQjH,KAAKyY,SAASte,OAAQ,CAC5C,GAAI4M,GAAU/G,KAAKyY,SAASxR,EAC5BjH,MAAKyY,SAASvR,OAAOD,EAAO,GAC5BF,EAAQwS,OAAS,KACjBvZ,KAAKkb,eAAe,UAAWnU,GAAUE,GAE7C,MAAOjH,OAEX0Y,MAAO,WACH,GAAI0C,GAAQpb,KAAKyY,QAIjB,OAHAzY,MAAKyY,YACLzY,KAAKgnB,UAAU5L,EAAO,MACtBpb,KAAKkb,eAAe,SAAUE,EAAO,GAC9Bpb,MAEX6M,KAAM,SAAUyD,GACZ,MAAOuR,GAAoB7hB,KAAKyY,UAAU,EAAMzY,KAAKwhB,iBAAiBlR,KAE1E4R,QAAS,WACL,MAAOL,GAAoB7hB,KAAKyY,UAAU,IAE9C0N,aAAc,SAAU7V,GACpB,MAAO6R,GAA2BniB,KAAKyY,SAAUzY,KAAKwhB,iBAAiBlR,KAE3EkR,iBAAkB,SAAUlR,GACxB,MAAOuV,IAAQ5c,GAAGuY,iBAAiB5J,KAAK5X,KAAMsQ,IAAmB,MAErE6B,cAAe,SAAUvF,EAAOmZ,GAAjB,GAEHtN,GACAzQ,EACKT,CAHb,IAAIvH,KAAKif,UAGL,IAFIxG,EAAWzY,KAAKyY,SAChBzQ,EAAYhI,KAAKwhB,iBAAiBuE,GAC7Bxe,EAAM,EAAGA,EAAMkR,EAASte,OAAQoN,IACrC,GAAIkR,EAASlR,GAAK4K,cAAcvF,EAAO5E,GACnC,OAAO,CAInB,QAAO,GAEXgf,UAAW,SAAUlF,EAAUqF,GAApB,GACEltB,GACDmnB,EACA7H,CAFR,KAAStf,EAAI,EAAGA,EAAI6nB,EAAS3nB,OAAQF,IAC7BmnB,EAAQU,EAAS7nB,GACjBsf,EAAS6H,EAAM7H,OACfA,GAAUA,GAAUvZ,MAAQuZ,EAAOwB,QACnCxB,EAAOwB,OAAOqG,GAElBA,EAAM7H,OAAS4N,KAI3BrlB,EAAQiG,OAAOkZ,YAAYnd,OAAOqU,EAAMlP,GAAI,YACxC8b,EAAOc,GAAQ/hB,QACfkd,SAAU,OACVjd,KAAM,SAAU0Y,EAASU,EAAUvY,GAC/BihB,GAAQ5c,GAAGlF,KAAK6T,KAAK5X,KAAM4E,GAC3B5E,KAAKyc,QAAQA,GACbzc,KAAKmd,SAASA,GAAY,GAAI3H,GAAEvK,OAC3BjL,KAAK4E,QAAQxB,OACdpD,KAAK4E,QAAQxB,KAAO,mBAEnBnL,GAAQ+H,KAAK4E,QAAQgc,OACtB5gB,KAAK4gB,KAAK,SAGlBnE,QAAS,SAAUvkB,GACf,MAAID,IAAQC,IACR8H,KAAK4E,QAAQ6W,IAAI,UAAWvjB,GACrB8H,MAEAA,KAAK4E,QAAQF,IAAI,YAGhC5B,QAAS,WACL,GAAIskB,GAAUvlB,GAAKY,YAAYzC,KAAKyc,WAAarZ,KAAMpD,KAAK4E,QAAQF,IAAI,SACxE,OAAO0iB,IAEXpE,KAAM,WAAA,GACE3mB,GAAO2D,KAAK8C,UACZvG,EAAMyD,KAAKmd,WAAWtN,OAC1B,OAAO,IAAI2F,GAAElG,KAAK/S,GACdF,EAAKiG,MACLjG,EAAKkG,UAGbsK,KAAM,SAAUyD,GACZ,GAAIiR,GAAiBpZ,EAASnI,KAAKwhB,iBAAiBlR,GACpD,OAAOtQ,MAAKgjB,OAAOnW,KAAK0U,IAE5BW,QAAS,WACL,MAAOliB,MAAKgjB,OAAOnW,QAEvBwZ,eAAgB,SAAUzZ,GACtB,MAAO5M,MAAKgjB,OAAO7Q,cAAcvF,MAGzC9K,EAAQiG,OAAO2Y,UAAU5c,OAAOihB,EAAK9b,IACrCwZ,EAAqBsC,EAAK9b,IAAK,aAC3BsG,EAASsW,GAAQ/hB,QACjBkd,SAAU,SACVjd,KAAM,SAAUqS,EAAUxR,GACtBihB,GAAQ5c,GAAGlF,KAAK6T,KAAK5X,KAAM4E,GAC3B5E,KAAKoW,SAASA,GAAY,GAAIZ,GAAEjG,QAC3BtX,GAAQ+H,KAAK4E,QAAQic,SACtB7gB,KAAK6gB,OAAO,SAGpBe,MAAO,SAAU3Z,GACb,MAAOjI,MAAKqnB,UAAUxa,KAAK5E,IAE/Bia,QAAS,WACL,MAAOliB,MAAKqnB,UAAUxa,QAE1BwZ,eAAgB,SAAUzZ,GACtB,MAAO5M,MAAKoW,WAAWjE,cAAcvF,IAEzCwF,UAAW,SAAUxF,GACjB,MAAO5M,MAAKoW,WAAWhE,UAAUxF,EAAO5M,KAAK4E,QAAQic,OAAOve,MAAQ,MAG5ER,EAAQiG,OAAO2Y,UAAU5c,OAAOyL,EAAOtG,IACvCnH,EAAQiG,OAAOsZ,WAAWvd,OAAOyL,EAAOtG,IACxCoZ,EAAwB9S,EAAOtG,IAAK,aAChCuG,EAAMqW,GAAQ/hB,QACdkd,SAAU,MACVjd,KAAM,SAAUqS,EAAUxR,GACtBihB,GAAQ5c,GAAGlF,KAAK6T,KAAK5X,KAAM4E,GAC3B5E,KAAKoW,SAASA,GAAY,GAAIZ,GAAEhG,KAC3BvX,GAAQ+H,KAAK4E,QAAQic,SACtB7gB,KAAK6gB,OAAO,SAGpBe,MAAO,SAAU3Z,GACb,MAAOjI,MAAKqnB,UAAUxa,KAAK5E,IAE/Bia,QAAS,WACL,MAAOliB,MAAKoW,WAAWvJ,QAE3Bya,OAAQ,WAAA,GAKSrtB,GAJT2hB,EAAO,GAAIsJ,GACXtR,EAAc5T,KAAKoW,WAAWxC,aAClC,IAAIA,EAAYzZ,OAAS,EAErB,IADAyhB,EAAK2L,OAAO3T,EAAY,GAAGxU,EAAGwU,EAAY,GAAGhL,GACpC3O,EAAI,EAAGA,EAAI2Z,EAAYzZ,OAAQF,GAAK,EACzC2hB,EAAK4L,QAAQ5T,EAAY3Z,GAAI2Z,EAAY3Z,EAAI,GAAI2Z,EAAY3Z,EAAI,GAGzE,OAAO2hB,IAEXyK,eAAgB,SAAUzZ,GACtB,MAAO5M,MAAKoW,WAAWjE,cAAcvF,IAEzCwF,UAAW,SAAUxF,GACjB,MAAO5M,MAAKoW,WAAWhE,UAAUxF,EAAO5M,KAAK4E,QAAQic,OAAOve,MAAQ,MAG5ER,EAAQiG,OAAO2Y,UAAU5c,OAAO0L,EAAIvG,IACpCnH,EAAQiG,OAAOsZ,WAAWvd,OAAO0L,EAAIvG,IACrCoZ,EAAwB7S,EAAIvG,IAAK,aAC7B+b,EAAwBF,EAAchhB,QACtC0iB,QAAS,WACLxmB,KAAK0H,oBAGTud,EAAUrhB,EAAME,QAChBC,KAAM,SAAU0jB,EAAQC,EAAWC,GAC/B3nB,KAAKynB,OAAOA,GAAU,GAAIxc,IAC1BjL,KAAK0nB,UAAUA,GACf1nB,KAAK2nB,WAAWA,IAEpBC,OAAQ,SAAUC,EAAW5f,GAArB,GACA+a,GACA8E,EAAgB9nB,KAAKynB,SAAS3Y,cAAc7G,GAC5C8f,EAAkBF,EAAUJ,SAAS3Y,cAAc7G,EAMvD,OAJI+a,GADAhjB,KAAK2nB,cAAgBE,EAAUH,YACxB1nB,KAAKgoB,kBAAkBF,EAAe9nB,KAAK2nB,aAAa7Y,cAAc7G,GAAS4f,EAAUH,YAAY5Y,cAAc7G,GAAS8f,GAE5H/nB,KAAKioB,iBAAiBH,EAAeC,IAIpDE,iBAAkB,SAAUna,EAAIC,GAC5B,MAAOyH,GAAElG,KAAK0C,WAAWlE,EAAIC,IAEjCia,kBAAmB,SAAUla,EAAIyG,EAAKC,EAAKzG,GACvC,GAAIxB,IACIuB,EACAyG,EACAC,EACAzG,GACDma,EAAYloB,KAAKmoB,kBAAkB5b,EAAQ,KAAM6b,EAAYpoB,KAAKmoB,kBAAkB5b,EAAQ,KAAM8b,EAAU/tB,IAC3G4tB,EAAUvvB,IACVuvB,EAAUtvB,IACVkV,EAAG1O,EACH2O,EAAG3O,IACHkpB,EAAUhuB,IACV8tB,EAAUzvB,IACVyvB,EAAUxvB,IACVkV,EAAGlF,EACHmF,EAAGnF,GAEX,OAAO4M,GAAElG,KAAK0C,WAAW,GAAI/G,GAAMod,EAAQ1vB,IAAK2vB,EAAQ3vB,KAAM,GAAIsS,GAAMod,EAAQzvB,IAAK0vB,EAAQ1vB,OAEjGuvB,kBAAmB,SAAU5b,EAAQzE,GACjC,GAAIygB,GAAWvoB,KAAKwoB,eAAejc,EAAO,GAAGzE,GAAQyE,EAAO,GAAGzE,GAAQyE,EAAO,GAAGzE,GAAQyE,EAAO,GAAGzE,GACnG,QACInP,IAAKqH,KAAKyoB,kBAAkBF,EAAS5vB,IAAKmP,EAAOyE,GACjD3T,IAAKoH,KAAKyoB,kBAAkBF,EAAS3vB,IAAKkP,EAAOyE,KAGzDkc,kBAAmB,SAAUhc,EAAG3E,EAAOyE,GACnC,GAAIG,GAAK,EAAID,CACb,OAAOlU,GAAImU,EAAI,GAAKH,EAAO,GAAGzE,GAAS,EAAIvP,EAAImU,EAAI,GAAKD,EAAIF,EAAO,GAAGzE,GAAS,EAAIvP,EAAIkU,EAAG,GAAKC,EAAKH,EAAO,GAAGzE,GAASvP,EAAIkU,EAAG,GAAKF,EAAO,GAAGzE,IAEjJ0gB,eAAgB,SAAUre,EAAIE,EAAIqe,EAAIC,GAAtB,GAeRhwB,GAIAC,EAlBA8H,EAAIyJ,EAAK,EAAIE,EAAK,EAAIqe,EAAKC,EAC3B9nB,MAAUsJ,EAAK,EAAIE,EAAKqe,GACxBppB,EAAI6K,EAAKE,EACTK,EAAOlS,EAAKkS,KAAK7J,EAAIA,EAAI,EAAIH,EAAIpB,GACjCoN,EAAK,EACLkc,EAAK,CAiBT,OAhBU,KAANloB,EACU,IAANG,IACA6L,EAAKkc,GAAMtpB,EAAIuB,GAEXzH,MAAMsR,KACdgC,IAAO7L,EAAI6J,IAAS,EAAIhK,GACxBkoB,IAAO/nB,EAAI6J,IAAS,EAAIhK,IAExB/H,EAAMH,EAAKI,IAAIJ,EAAKG,IAAI+T,EAAIkc,GAAK,IACjCjwB,EAAM,GAAKA,EAAM,KACjBA,EAAM,GAENC,EAAMJ,EAAKG,IAAIH,EAAKI,IAAI8T,EAAIkc,GAAK,IACjChwB,EAAM,GAAKA,EAAM,KACjBA,EAAM,IAGND,IAAKA,EACLC,IAAKA,IAGbiwB,iBAAkB,SAAUC,EAASlc,GACjC,GAAImc,EAWJ,OATIA,GADA/oB,KAAK2nB,cAAgBmB,EAAQpB,YACRlS,EAAE7I,yBACnB3M,KAAKynB,SACLznB,KAAK2nB,aACLmB,EAAQpB,YACRoB,EAAQrB,UACT7a,EAAO5M,KAAK4nB,OAAOkB,IAEDtT,EAAEnI,uBAAuBrN,KAAKynB,SAAUqB,EAAQrB,SAAU7a,IAIvFoc,aAAc,SAAUF,EAASlc,EAAOtK,EAAO2mB,GAAjC,GAGFnb,GACAC,EACAC,EACAkb,EAMAla,EACAzC,EASA4c,EACAC,EAtBJvc,EAAO7M,KAAK4nB,OAAOkB,GAAS7W,OAAO3P,EAAOA,EAC9C,IAAIuK,EAAKsF,cAAcvF,GAKnB,MAJIkB,GAAK9N,KAAKynB,SACV1Z,EAAK/N,KAAK2nB,aACV3Z,EAAK8a,EAAQpB,YACbwB,EAAKJ,EAAQrB,SACC,SAAdwB,GAAyBnb,EAAG0C,WAAW5D,IAAUtK,GACzCkT,EAAE9G,gBAAgBZ,EAAIC,EAAInB,GACb,OAAdqc,GAAuBC,EAAG1Y,WAAW5D,IAAUtK,GAC9CkT,EAAE9G,gBAAgBwa,EAAIlb,EAAIpB,IAElCoC,EAAkBwG,EAAExG,gBACpBzC,GACAuB,EACAC,EACAC,EACAkb,MAEAla,EAAgBzC,EAAQK,EAAO,IAAK,IAAKtK,KAAU0M,EAAgBzC,EAAQK,EAAO,IAAK,IAAKtK,MAG5F6mB,EAAW3T,EAAExN,YAAY+G,OAAO,GAAInC,GACpCwc,GACAtb,EAAGgB,cAAcqa,GACjBpb,EAAGe,cAAcqa,GACjBnb,EAAGc,cAAcqa,GACjBD,EAAGpa,cAAcqa,IAEdna,EAAgBoa,EAAexc,EAAO,IAAK,IAAKtK,IAAU0M,EAAgBoa,EAAexc,EAAO,IAAK,IAAKtK,MAGzH+mB,YAAa,SAAUP,EAASlc,EAAOtK,GAA1B,GACLwL,GAAK9N,KAAKynB,SACV1Z,EAAK+a,EAAQrB,SACb3e,EAAQjH,GAAK7I,IAAIR,EAAKmQ,MAAMoF,EAAGnF,EAAIkF,EAAGlF,EAAGmF,EAAG3O,EAAI0O,EAAG1O,IACnD4jB,EAAO,GAAIxN,GAAElG,MACbxB,EAAG1O,EACH0O,EAAGlF,EAAItG,EAAQ,IAEfwL,EAAG0C,WAAWzC,GACdzL,GAEJ,OAAO0gB,GAAK7Q,cAAcvF,EAAMkC,cAAc0G,EAAExN,YAAY+G,QAAQjG,EAAOgF,MAE/Ewb,YAAa,SAAUR,EAASlc,EAAOtK,EAAO2mB,GAC1C,GAAIM,EAMJ,OAJIA,GADAvpB,KAAK2nB,cAAgBmB,EAAQpB,YAClB1nB,KAAKgpB,aAAaF,EAASlc,EAAOtK,EAAQ,EAAG2mB,GAE7CjpB,KAAKqpB,YAAYP,EAASlc,EAAOtK,MAKxDmgB,EAAqBwC,EAAQhc,IACzB,SACA,YACA,eAEJ3H,EAAW2jB,EAAQhc,GAAItC,IACnBue,EAAOW,GAAQ/hB,QACfkd,SAAU,OACVjd,KAAM,SAAUa,GACZihB,GAAQ5c,GAAGlF,KAAK6T,KAAK5X,KAAM4E,GAC3B5E,KAAKwpB,SAAW,GAAIxE,GACpBhlB,KAAKwpB,SAAS1iB,YAAY9G,MACrB/H,GAAQ+H,KAAK4E,QAAQic,UACtB7gB,KAAK6gB,OAAO,QACP5oB,GAAQ+H,KAAK4E,QAAQic,OAAO4I,WAC7BzpB,KAAK4E,QAAQ6W,IAAI,kBAAmB,WAIhD8L,OAAQ,SAAUnoB,EAAGwJ,GAKjB,MAJA5I,MAAK2H,UACL3H,KAAKwpB,SAAS1H,aACd9hB,KAAK4H,SACL5H,KAAK0pB,OAAOtqB,EAAGwJ,GACR5I,MAEX0pB,OAAQ,SAAUtqB,EAAGwJ,GACjB,GAAIgE,GAAQ3U,GAAQ2Q,GAAK,GAAIqC,GAAM7L,EAAGwJ,GAAKxJ,EAAG0pB,EAAU,GAAI7D,GAAQrY,EAEpE,OADA5M,MAAKwpB,SAAS5vB,KAAKkvB,GACZ9oB,MAEXwnB,QAAS,SAAUG,EAAYD,EAAW9a,GAAjC,GAEG+c,GACAb,CAMR,OARI9oB,MAAKwpB,SAASrvB,OAAS,IACnBwvB,EAAczuB,GAAK8E,KAAKwpB,UACxBV,EAAU,GAAI7D,GAAQrY,EAAO8a,GACjC1nB,KAAK2H,UACLgiB,EAAYhC,WAAWA,GACvB3nB,KAAK4H,SACL5H,KAAKwpB,SAAS5vB,KAAKkvB,IAEhB9oB,MAEXyU,IAAK,SAAUvJ,EAAYC,EAAUoI,EAASC,EAASC,GAAlD,GAEOkW,GACAlC,EACA1e,EACAT,EACAmM,CASR,OAdIzU,MAAKwpB,SAASrvB,OAAS,IACnBwvB,EAAczuB,GAAK8E,KAAKwpB,UACxB/B,EAASkC,EAAYlC,SACrB1e,EAAQlH,GAAKhJ,IAAIqS,GACjB5C,EAAS,GAAI2C,GAAMwc,EAAOroB,EAAImU,EAAU/a,EAAKwR,IAAIjB,GAAQ0e,EAAO7e,EAAI4K,EAAUhb,EAAKyR,IAAIlB,IACvF0L,EAAM,GAAIe,GAAEhG,IAAIlH,GAChB4C,WAAYA,EACZC,SAAUA,EACVoI,QAASA,EACTC,QAASA,EACTC,cAAeA,IAEnBzT,KAAK4pB,gBAAgBnV,IAElBzU,MAEX6pB,MAAO,SAAUpgB,EAAKlB,EAAIC,EAAI+B,EAAUb,GAAjC,GAEKigB,GACAlC,EACAhT,CAGR,OANIzU,MAAKwpB,SAASrvB,OAAS,IACnBwvB,EAAczuB,GAAK8E,KAAKwpB,UACxB/B,EAASkC,EAAYlC,SACrBhT,EAAMe,EAAEhG,IAAIwC,WAAWyV,EAAQhe,EAAKlB,EAAIC,EAAI+B,EAAUb,GAC1D1J,KAAK4pB,gBAAgBnV,IAElBzU,MAEX4pB,gBAAiB,SAAUnV,GAAV,GAETb,GACK3Z,CAAT,KAFA+F,KAAK2H,UACDiM,EAAca,EAAIb,cACb3Z,EAAI,EAAGA,EAAI2Z,EAAYzZ,OAAQF,GAAK,EACzC+F,KAAKwnB,QAAQ5T,EAAY3Z,GAAI2Z,EAAY3Z,EAAI,GAAI2Z,EAAY3Z,EAAI,GAErE+F,MAAK4H,SACL5H,KAAK0H,kBAETyF,MAAO,WAGH,MAFAnN,MAAK4E,QAAQklB,QAAS,EACtB9pB,KAAK0H,iBACE1H,MAEXkiB,QAAS,WACL,MAAOliB,MAAK4hB,SAEhByE,eAAgB,SAAUzZ,GAAV,GAIRmd,GAAUlnB,EACL0E,EAJLiiB,EAAWxpB,KAAKwpB,SAChBrvB,EAASqvB,EAASrvB,OAClB4uB,EAAqB,CAEzB,KAASxhB,EAAM,EAAGA,EAAMpN,EAAQoN,IAC5BwiB,EAAWP,EAASjiB,EAAM,GAC1B1E,EAAU2mB,EAASjiB,GACnBwhB,GAAsBgB,EAASlB,iBAAiBhmB,EAAS+J,EAK7D,QAHI5M,KAAK4E,QAAQklB,QAAWN,EAAS,GAAG/B,SAAS9X,OAAO6Z,EAASrvB,EAAS,GAAGstB,YACzEsB,GAAsBvT,EAAEnI,uBAAuBmc,EAAS,GAAG/B,SAAU+B,EAASrvB,EAAS,GAAGstB,SAAU7a,IAEjGmc,EAAqB,IAAM,GAEtC3W,UAAW,SAAUxF,EAAOtK,GAAjB,GAQMiF,GAPTiiB,EAAWxpB,KAAKwpB,SAChBrvB,EAASqvB,EAASrvB,MAEtB,IADAmI,EAAQA,GAAStC,KAAK4E,QAAQic,OAAOve,MACjCnI,EAAS,EAAG,CACZ,GAAIqvB,EAAS,GAAGF,YAAYE,EAAS,GAAI5c,EAAOtK,EAAO,SACnD,OAAO,CAEX,KAASiF,EAAM,EAAGA,GAAOpN,EAAS,EAAGoN,IACjC,GAAIiiB,EAASjiB,EAAM,GAAG+hB,YAAYE,EAASjiB,GAAMqF,EAAOtK,GACpD,OAAO,CAGf,IAAIknB,EAASrvB,EAAS,GAAGmvB,YAAYE,EAASrvB,EAAS,GAAIyS,EAAOtK,EAAO,OACrE,OAAO,EAGf,OAAO,GAEXsf,MAAO,SAAU3Z,GAAV,GAGC+Z,GAEIyF,EAGKxtB,EACD+vB,EARRR,EAAWxpB,KAAKwpB,SAChBrvB,EAASqvB,EAASrvB,MAEtB,IAAe,IAAXA,EACIstB,EAAS+B,EAAS,GAAG/B,SAAS3Y,cAAc7G,GAChD+Z,EAAc,GAAIxM,GAAElG,KAAKmY,EAAQpY,EAAK+B,UACnC,IAAIjX,EAAS,EAChB,IAASF,EAAI,EAAGA,EAAIE,EAAQF,IACpB+vB,EAAaR,EAASvvB,EAAI,GAAG2tB,OAAO4B,EAASvvB,GAAIgO,GAEjD+Z,EADAA,EACcxM,EAAElG,KAAKiD,MAAMyP,EAAagI,GAE1BA,CAI1B,OAAOhI,MAGflgB,EAAQiG,OAAO2Y,UAAU5c,OAAOohB,EAAKjc,IACrCnH,EAAQiG,OAAOsZ,WAAWvd,OAAOohB,EAAKjc,IACtCic,EAAK+E,SAAW,SAAUjH,EAAMpe,GAC5B,MAAO,IAAIsgB,GAAKtgB,GAAS2iB,OAAOvE,EAAKvR,WAAWiY,OAAO1G,EAAKtR,YAAYgY,OAAO1G,EAAK5V,eAAesc,OAAO1G,EAAKrR,cAAcxE,SAEjI+X,EAAKlT,WAAa,SAAUzF,EAAQ3H,GAAlB,GAENgX,GACK3hB,EACDgX,CAHZ,IAAI1E,EAAQ,CAER,IADIqP,EAAO,GAAIsJ,GAAKtgB,GACX3K,EAAI,EAAGA,EAAIsS,EAAOpS,OAAQF,IAC3BgX,EAAKhG,EAAMpL,OAAO0M,EAAOtS,IACzBgX,IACU,IAANhX,EACA2hB,EAAK2L,OAAOtW,GAEZ2K,EAAK8N,OAAOzY,GAIxB,OAAO2K,KAGfsJ,EAAKgF,QAAU,SAAUzV,EAAK7P,GAAf,GACPgX,GAAO,GAAIsJ,GAAKtgB,GAChBsG,EAAauJ,EAAIvJ,WACjBnC,EAAQ0L,EAAI1B,QAAQ7H,EAGxB,OAFA0Q,GAAK2L,OAAOxe,EAAM3J,EAAG2J,EAAMH,GAC3BgT,EAAKnH,IAAIvJ,EAAYuJ,EAAItJ,SAAUsJ,EAAIlB,QAASkB,EAAIjB,QAASiB,EAAIhB,eAC1DmI,GAEPuJ,EAAYU,GAAQ/hB,QACpBkd,SAAU,YACVjd,KAAM,SAAUa,GACZihB,GAAQ5c,GAAGlF,KAAK6T,KAAK5X,KAAM4E,GAC3B5E,KAAKmqB,MAAQ,GAAInF,GACjBhlB,KAAKmqB,MAAMrjB,YAAY9G,MAClB/H,GAAQ+H,KAAK4E,QAAQic,SACtB7gB,KAAK6gB,OAAO,SAGpB0G,OAAQ,SAAUnoB,EAAGwJ,GACjB,GAAIgT,GAAO,GAAIsJ,EAGf,OAFAtJ,GAAK2L,OAAOnoB,EAAGwJ,GACf5I,KAAKmqB,MAAMvwB,KAAKgiB,GACT5b,MAEX0pB,OAAQ,SAAUtqB,EAAGwJ,GAIjB,MAHI5I,MAAKmqB,MAAMhwB,OAAS,GACpBe,GAAK8E,KAAKmqB,OAAOT,OAAOtqB,EAAGwJ,GAExB5I,MAEXwnB,QAAS,SAAUG,EAAYD,EAAW9a,GAItC,MAHI5M,MAAKmqB,MAAMhwB,OAAS,GACpBe,GAAK8E,KAAKmqB,OAAO3C,QAAQG,EAAYD,EAAW9a,GAE7C5M,MAEXyU,IAAK,SAAUvJ,EAAYC,EAAUoI,EAASC,EAASC,GAInD,MAHIzT,MAAKmqB,MAAMhwB,OAAS,GACpBe,GAAK8E,KAAKmqB,OAAO1V,IAAIvJ,EAAYC,EAAUoI,EAASC,EAASC,GAE1DzT,MAEX6pB,MAAO,SAAUpgB,EAAKlB,EAAIC,EAAI+B,EAAUb,GAIpC,MAHI1J,MAAKmqB,MAAMhwB,OAAS,GACpBe,GAAK8E,KAAKmqB,OAAON,MAAMpgB,EAAKlB,EAAIC,EAAI+B,EAAUb,GAE3C1J,MAEXmN,MAAO,WAIH,MAHInN,MAAKmqB,MAAMhwB,OAAS,GACpBe,GAAK8E,KAAKmqB,OAAOhd,QAEdnN,MAEX4hB,MAAO,SAAU3Z,GACb,MAAO4Z,GAAoB7hB,KAAKmqB,OAAO,EAAMliB,IAEjDia,QAAS,WACL,MAAOL,GAAoB7hB,KAAKmqB,OAAO,IAE3C9D,eAAgB,SAAUzZ,GAAV,GAEHrF,GADL4iB,EAAQnqB,KAAKmqB,KACjB,KAAS5iB,EAAM,EAAGA,EAAM4iB,EAAMhwB,OAAQoN,IAClC,GAAI4iB,EAAM5iB,GAAK8e,eAAezZ,GAC1B,OAAO,CAGf,QAAO,GAEXwF,UAAW,SAAUxF,GAAV,GAGErF,GAFL4iB,EAAQnqB,KAAKmqB,MACb7nB,EAAQtC,KAAK4E,QAAQic,OAAOve,KAChC,KAASiF,EAAM,EAAGA,EAAM4iB,EAAMhwB,OAAQoN,IAClC,GAAI4iB,EAAM5iB,GAAK6K,UAAUxF,EAAOtK,GAC5B,OAAO,CAGf,QAAO,GAEX6jB,aAAc,SAAU7V,GACpB,MAAO6R,GAA2BniB,KAAKmqB,MAAOnqB,KAAKwhB,iBAAiBlR,OAG5ExO,EAAQiG,OAAO2Y,UAAU5c,OAAOqhB,EAAUlc,IAC1CnH,EAAQiG,OAAOsZ,WAAWvd,OAAOqhB,EAAUlc,IACvCmc,EAAQS,GAAQ/hB,QAChBkd,SAAU,QACVjd,KAAM,SAAUqmB,EAAKpH,EAAMpe,GACvBihB,GAAQ5c,GAAGlF,KAAK6T,KAAK5X,KAAM4E,GAC3B5E,KAAKoqB,IAAIA,GACTpqB,KAAKgjB,KAAKA,GAAQ,GAAIxN,GAAElG,OAE5B8a,IAAK,SAAUlyB,GACX,MAAID,IAAQC,IACR8H,KAAK4E,QAAQ6W,IAAI,MAAOvjB,GACjB8H,MAEAA,KAAK4E,QAAQF,IAAI,QAGhCmI,KAAM,SAAUyD,GACZ,GAAIiR,GAAiBpZ,EAASnI,KAAKwhB,iBAAiBlR,GACpD,OAAOtQ,MAAKqqB,MAAMxd,KAAK0U,IAE3BW,QAAS,WACL,MAAOliB,MAAKqqB,MAAMxd,QAEtBwZ,eAAgB,SAAUzZ,GACtB,MAAO5M,MAAKqqB,MAAMlY,cAAcvF,IAEpCwZ,SAAU,WACN,MAAOpmB,MAAKoqB,SAGpB/H,EAAwB+C,EAAMnc,IAAK,SAC/Boc,EAAezhB,EAAME,QACrBC,KAAM,SAAUsW,EAAQzd,EAAOkkB,GAC3B9gB,KAAK4E,QAAU,GAAIiS,IACfwD,OAAQA,EACRzd,MAAOA,EACPkkB,QAAS7oB,GAAQ6oB,GAAWA,EAAU,IAE1C9gB,KAAK4E,QAAQkC,YAAY9G,SAGjC2iB,EAAuB0C,EAAapc,IAChC,SACA,QACA,YAEJ3H,EAAW+jB,EAAapc,GAAItC,IAC5B0e,EAAaxlB,OAAS,SAAUyqB,GAC5B,GAAIryB,GAAQqyB,GAAM,CACd,GAAIC,EAQJ,OANIA,GADAD,YAAejF,GACRiF,EACAA,EAAInwB,OAAS,EACb,GAAIkrB,GAAaiF,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAErC,GAAIjF,GAAaiF,EAAIjQ,OAAQiQ,EAAI1tB,MAAO0tB,EAAIxJ,WAK3DwE,EAAaR,EAAchhB,QAC3B0iB,QAAS,WACLxmB,KAAKyH,eAAgBK,MAAO,aAGhCyd,EAAW3hB,EAAME,QACjBkd,SAAU,WACVjd,KAAM,SAAUa,GACZ5E,KAAKwqB,MAAQ,GAAIlF,GAAWtlB,KAAKyqB,aAAa7lB,EAAQ4lB,QACtDxqB,KAAKwqB,MAAM1jB,YAAY9G,MACvBA,KAAK0qB,WAAa9lB,EAAQ+lB,UAC1B3qB,KAAKF,GAAK+iB,KAEd8H,UAAW,SAAUzyB,GACjB,MAAID,IAAQC,IACR8H,KAAK0qB,WAAaxyB,EAClB8H,KAAKyH,gBACEzH,MAEAA,KAAK0qB,YAGpBD,aAAc,SAAUD,GAAV,GAENjjB,GADA/K,IAGJ,KADAguB,EAAQA,MACHjjB,EAAM,EAAGA,EAAMijB,EAAMrwB,OAAQoN,IAC9B/K,EAAO5C,KAAKyrB,EAAaxlB,OAAO2qB,EAAMjjB,IAE1C,OAAO/K,IAEXouB,QAAS,SAAUvQ,EAAQzd,EAAOkkB,GAC9B9gB,KAAKwqB,MAAM5wB,KAAK,GAAIyrB,GAAahL,EAAQzd,EAAOkkB,KAEpD+J,WAAY,SAAUN,GAClB,GAAItjB,GAAQjH,KAAKwqB,MAAM1O,QAAQyO,EAC3BtjB,IAAS,GACTjH,KAAKwqB,MAAMtjB,OAAOD,EAAO,MAIrC3F,EAAWikB,EAAStc,GAAItC,IACpBc,cAAe,SAAUnE,GACrBtD,KAAKmH,QAAQ,iBACTW,MAAO,YAAcxE,EAAI,IAAMA,EAAEwE,MAAQ,IACzC5P,MAAO8H,QAGf0H,eAAgB,WACZ1H,KAAKyH,mBAGT+d,EAAiBD,EAASzhB,QAC1BC,KAAM,SAAUa,GACZA,EAAUA,MACV2gB,EAAStc,GAAGlF,KAAK6T,KAAK5X,KAAM4E,GAC5B5E,KAAK+I,MAAMnE,EAAQmE,OAAS,GAAIkC,IAChCjL,KAAKyJ,IAAI7E,EAAQ6E,KAAO,GAAIwB,GAAM,EAAG,OAG7CwX,EAAqB+C,EAAevc,IAChC,QACA,QAEAwc,EAAiBF,EAASzhB,QAC1BC,KAAM,SAAUa,GACZA,EAAUA,MACV2gB,EAAStc,GAAGlF,KAAK6T,KAAK5X,KAAM4E,GAC5B5E,KAAKsI,OAAO1D,EAAQ0D,QAAU,GAAI2C,IAClCjL,KAAK8qB,QAAU7yB,GAAQ2M,EAAQ+N,QAAU/N,EAAQ+N,OAAS,EAC1D3S,KAAK+qB,cAAgBnmB,EAAQomB,cAEjCrY,OAAQ,SAAUza,GACd,MAAID,IAAQC,IACR8H,KAAK8qB,QAAU5yB,EACf8H,KAAK0H,iBACE1H,MAEAA,KAAK8qB,SAGpBE,aAAc,SAAU9yB,GACpB,MAAID,IAAQC,IACR8H,KAAK+qB,cAAgB7yB,EACrB8H,KAAKyH,gBACEzH,MAEAA,KAAK+qB,iBAIxBtI,EAAqBgD,EAAexc,IAAK,WACrCqG,EAAOuW,GAAQ/hB,QACfkd,SAAU,OACVjd,KAAM,SAAUqS,EAAUxR,GACtBihB,GAAQ5c,GAAGlF,KAAK6T,KAAK5X,KAAM4E,GAC3B5E,KAAKoW,SAASA,GAAY,GAAIZ,GAAElG,MAC3BrX,GAAQ+H,KAAK4E,QAAQic,SACtB7gB,KAAK6gB,OAAO,SAGpBe,MAAO,SAAU3Z,GACb,MAAOjI,MAAKqnB,UAAUxa,KAAK5E,IAE/Bia,QAAS,WACL,MAAOliB,MAAKqnB,UAAUxa,QAE1BwZ,eAAgB,SAAUzZ,GACtB,MAAO5M,MAAKqnB,UAAUlV,cAAcvF,IAExCwF,UAAW,SAAUxF,GACjB,MAAO5M,MAAKoW,WAAWhE,UAAUxF,EAAO5M,KAAK4E,QAAQic,OAAOve,MAAQ,MAG5ER,EAAQiG,OAAO2Y,UAAU5c,OAAOwL,EAAKrG,IACrCnH,EAAQiG,OAAOsZ,WAAWvd,OAAOwL,EAAKrG,IACtCoZ,EAAwB/S,EAAKrG,IAAK,aAC9Byc,EAASvN,EAAMrU,QACfC,KAAM,SAAUif,EAAMpe,GAClBuT,EAAMlP,GAAGlF,KAAK6T,KAAK5X,KAAMtE,EAAM4F,cAAetB,KAAKirB,UAAWrmB,IAC9D5E,KAAKqqB,MAAQrH,EACbhjB,KAAKkrB,cAETD,WACIE,aAAcxG,GACdyG,eAAgBzG,GAChB0G,WAAY1G,GACZ2G,QAAS,EACTC,YAAa3F,GACb4F,YAAa,EACbhI,MAAM,GAEVR,KAAM,SAAU9qB,GACZ,MAAIA,IACA8H,KAAKqqB,MAAQnyB,EACN8H,MAEAA,KAAKqqB,OAGpBoB,SAAU,WAAA,GACF7mB,GAAU5E,KAAK4E,QACf8mB,EAAW1rB,KAAKkrB,SAChBtmB,GAAQ2mB,aAAe3F,IACvB8F,EAAS7H,UAAY,QACrB6H,EAASC,gBAAkB,SAC3BD,EAASE,UAAY,IACrBF,EAASG,WAAa,MAEtBH,EAAS7H,UAAY,SACrB6H,EAASC,gBAAkB,QAC3BD,EAASE,UAAY,IACrBF,EAASG,WAAa,MAG9BC,OAAQ,WAAA,GAQAlnB,GACA8mB,EACA1I,EACA+I,EACAC,EACAC,EACApI,EACA8H,EACAC,EACAC,EACAK,EACAC,EACAC,EACA/vB,EACAgwB,EAAcxf,EAAM9F,EAASulB,EAAOC,EAC/BC,EAOIjlB,EAWL2I,EACAuc,EACAC,EACAC,EACA3kB,CA5CR,IAAKhI,KAAKqqB,OAAkC,IAAzBrqB,KAAKyY,SAASte,OAAjC,CAsBA,IAnBA6F,KAAKyrB,WACDzrB,KAAK4E,QAAQoD,WACbhI,KAAKgI,UAAU,MAEfpD,EAAU5E,KAAK4E,QACf8mB,EAAW1rB,KAAKkrB,UAChBlI,EAAOhjB,KAAKqqB,MACZ0B,EAAe/rB,KAAK4sB,cACpBZ,EAASD,EAAaC,OACtBC,EAAaF,EAAaE,WAC1BpI,EAAY6H,EAAS7H,UACrB8H,EAAkBD,EAASC,gBAC3BC,EAAYF,EAASE,UACrBC,EAAaH,EAASG,WACtBK,EAAaxH,EAAWuH,EAAYjJ,EAAMpe,EAAQumB,aAAcU,EAAYF,GAC5EQ,EAAc,GAAIlhB,GAClBmhB,EAAgB,GAAInhB,GACpB5O,EAAO,GAAImZ,GAAEnG,KAERmd,EAAW,EAAGA,EAAWR,EAAO7xB,OAAQqyB,IAAY,CAOzD,IANAF,EAAQN,EAAOQ,GACfL,EAAYP,GAAaS,EAAe3H,EAAW4H,EAAMjwB,KAAM2mB,EAAMpe,EAAQwmB,eAAgBQ,EAAW/H,GACxGsI,EAAYN,GAAcK,EAC1B7vB,EAAKwnB,GAAayI,EAAMjwB,KACxBA,EAAKsvB,GAAmBW,EAAMO,SAC9BN,EAAW,GAAI/W,GAAElG,KAAK6c,EAAa9vB,GAC1BkL,EAAM,EAAGA,EAAM+kB,EAAMQ,OAAO3yB,OAAQoN,IACzCR,EAAUulB,EAAMxK,SAASva,GACzBsF,EAAOyf,EAAMQ,OAAOvlB,GACpB6kB,EAAcR,GAAaS,EAC3BD,EAAcP,GAAcnH,EAAW7X,EAAKxQ,KAAKsvB,GAAkBY,EAAU3nB,EAAQymB,WAAYQ,EAAYF,GAC7GzH,EAAiBkI,EAAevf,EAAM9F,GACtCslB,GAAgBxf,EAAKxQ,KAAKwnB,GAAajf,EAAQ0mB,OAEnDY,IAAcI,EAAMO,SAAWjoB,EAAQ4mB,aAEtC5mB,EAAQ4e,MAAQ8I,EAAMjwB,KAAO2mB,EAAK3mB,KAAKwnB,KACpC3T,EAAQ8S,EAAK3mB,KAAKwnB,GAAa0I,EAASlwB,KAAKwnB,GAC7C4I,EAAcF,EAAS9a,UAAUvB,MAAMA,EAAOA,GAC9Cwc,EAAaH,EAASlwB,KAAKsvB,GAAmBzb,EAC9Cyc,EAAWjI,EAAWgI,EAAY1J,EAAMpe,EAAQumB,aAAcU,EAAYF,GAC1E3jB,EAAYwN,EAAExN,YACA,MAAd4jB,EACA5jB,EAAU+H,UAAUiT,EAAKlT,OAAO1Q,EAAIqtB,EAAYrtB,EAAGutB,EAAWF,EAAY7jB,GAE1EZ,EAAU+H,UAAU4c,EAAWF,EAAYrtB,EAAG4jB,EAAKlT,OAAOlH,EAAI6jB,EAAY7jB,GAE9EZ,EAAUkI,MAAMA,EAAOA,GACvBlQ,KAAKgI,UAAUA,MAGvB4kB,YAAa,WAAA,GAYL/f,GAAM9F,EACDQ,EAZL3C,EAAU5E,KAAK4E,QACf6T,EAAWzY,KAAKyY,SAChB+S,EAAc5mB,EAAQ4mB,YACtB3H,EAAY7jB,KAAKkrB,UAAUrH,UAC3BoI,GAAcT,EACdQ,KACAM,EAAQtsB,KAAK+sB,YACbC,EAAW,WACXhB,EAAOpyB,KAAK0yB,GACZL,GAAcK,EAAMO,SAAWrB,EAGnC,KAASjkB,EAAM,EAAGA,EAAMkR,EAASte,OAAQoN,IACrCR,EAAU0R,EAASlR,GACnBsF,EAAO4L,EAASlR,GAAK6a,cACjBrb,EAAQkY,WAAapS,IACjBjI,EAAQ4e,MAAQ8I,EAAMjwB,KAAOwQ,EAAKxQ,KAAKwnB,GAAajf,EAAQ0mB,QAAUtrB,KAAKqqB,MAAMhuB,KAAKwnB,GAC1D,IAAxByI,EAAMQ,OAAO3yB,QACb6F,KAAKitB,YAAYX,EAAOzf,EAAM9F,GAC9BimB,IACAV,EAAQtsB,KAAK+sB,cAEbC,IACAV,EAAQtsB,KAAK+sB,YACb/sB,KAAKitB,YAAYX,EAAOzf,EAAM9F,IAGlC/G,KAAKitB,YAAYX,EAAOzf,EAAM9F,GAO1C,OAHIulB,GAAMQ,OAAO3yB,QACb6yB,KAGAhB,OAAQA,EACRC,WAAYA,IAGpBgB,YAAa,SAAUX,EAAOzf,EAAM9F,GAChCulB,EAAMjwB,MAAQwQ,EAAKxQ,KAAK2D,KAAKkrB,UAAUrH,WAAa7jB,KAAK4E,QAAQ0mB,QACjEgB,EAAMO,SAAW1rB,KAAKvI,IAAIiU,EAAKxQ,KAAK2D,KAAKkrB,UAAUS,iBAAkBW,EAAMO,UAC3EP,EAAMQ,OAAOlzB,KAAKiT,GAClByf,EAAMxK,SAASloB,KAAKmN,IAExBgmB,UAAW,WACP,OACIF,SAAU,EACVxwB,MAAO2D,KAAK4E,QAAQ0mB,QACpBwB,UACAhL,gBA0PZxgB,EAAWQ,GACPihB,MAAOA,EACPvT,IAAKA,EACLD,OAAQA,EACRsW,QAASA,GACTf,cAAeA,EACfX,IAAKA,EACLoB,SAAUA,EACVF,aAAcA,EACdlN,MAAOA,EACPiN,MAAOA,EACPM,OAAQA,EACRF,eAAgBA,EAChBL,UAAWA,EACXD,KAAMA,EACNO,eAAgBA,EAChBnW,KAAMA,EACN2V,QAASA,EACT7B,MAAOA,EACP2B,KAAMA,EACN5B,OAAQA,EACRI,OAAQA,EACRG,MAAOA,EACPF,KAAMA,KAEZniB,OAAO3F,MAAMoK,SACC,kBAAV9N,SAAwBA,OAAOgK,IAAMhK,OAAS,SAAUiK,EAAIC,EAAIC,IACrEA,GAAMD,OAEV,SAAUnK,EAAGC,QACVA,OAAO,kBAAmB,kBAAmBD,IAC/C,YACG,SAAUqK,GA4KP,QAAS8qB,GAAgBlzB,GACrB,GAAImzB,KAIJ,OAHAnzB,GAAIozB,QAAQC,EAAa,SAAU/Q,EAAOgR,GACtCH,EAAWvzB,KAAK2zB,WAAWD,MAExBH,EAEX,QAASK,GAAiBL,EAAYM,EAAYv1B,GAAlD,GAEa+B,GADLyzB,EAAiBD,EAAa,EAAI,CACtC,KAASxzB,EAAI,EAAGA,EAAIkzB,EAAWhzB,OAAQF,GAAK,EACxCkzB,EAAWjmB,OAAOjN,EAAIyzB,EAAgB,EAAGx1B,GAGjD,QAASy1B,GAAgB/gB,EAAOtE,GAC5B,GAAIsE,GAAStE,EACT,MAAOA,GAAO+H,UAAU,GAAGN,WAAWnD,EAAMxN,GAAIwN,EAAMhE,GAG9D,QAASglB,GAA8BzQ,EAAUvO,EAAcD,GAC3D,GAAIkf,GAAQ,EAAI,CAEhB,OADAjf,GAAeA,EAAaiB,QAAQK,MAAM,EAAI,IAE1CyX,WAAY/Y,EAAaiB,QAAQG,cAAcmN,EAAS9M,UAAUwd,IAClEnG,UAAW9Y,EAAaoB,cAAcrB,EAAS0B,UAAUwd,KAnMpE,GACOnyB,GAAQ2F,OAAO3F,MAAOoG,EAAUpG,EAAMoG,QAASsU,EAAW1a,EAAM0a,SAAUxS,EAAQlI,EAAMkI,MAAOqH,EAAQmL,EAASnL,MAAO3J,EAAa5F,EAAM4F,WAAYwsB,EAAO1rB,EAAE0rB,KAAMjsB,EAAOnG,EAAMmG,KAAM3G,EAAO2G,EAAK3G,KACpM6yB,EAAgB,kCAAmCV,EAAc,oDAAqDW,EAAO,IAAKC,EAAQ,IAC1IC,EAAatqB,EAAME,QACnBqqB,MAAO,SAAUn0B,EAAK4K,GAAf,GAGCwpB,GAFAC,EAAY,GAAIvsB,GAAQqjB,UAAUvgB,GAClCuY,EAAW,GAAIlS,EAmCnB,OAjCAjR,GAAIozB,QAAQW,EAAe,SAAUzR,EAAOvV,EAASunB,EAAQC,GAAlC,GACnBC,GAAUznB,EAAQ5H,cAClBsvB,EAAaD,IAAYznB,EACzBomB,EAAaD,EAAgBY,EAAKQ,GAetC,IAdIE,IAAYR,IACRS,GACAtR,EAAS/d,GAAK+tB,EAAW,GACzBhQ,EAASvU,GAAKukB,EAAW,KAEzBhQ,EAAS/d,EAAI+tB,EAAW,GACxBhQ,EAASvU,EAAIukB,EAAW,IAE5BkB,EAAU9G,OAAOpK,EAAS/d,EAAG+d,EAASvU,GAClCukB,EAAWhzB,OAAS,IACpBq0B,EAAU,IACVrB,EAAWjmB,OAAO,EAAG,KAGzBwnB,EAASF,GACTE,EAASF,GAASH,GACdlB,WAAYA,EACZhQ,SAAUA,EACVsR,WAAYA,EACZL,gBAAiBA,IAEjBG,GAAaA,EAAUpvB,gBAAkB8uB,GACzCI,EAAUlhB,YAEX,IAAIqhB,IAAYR,EACnB,KAAUW,OAAM,sDAAwDH,EAE5EJ,GAAkBI,IAEfH,KAGXK,GACArvB,EAAG,SAAUuc,EAAMhX,GAAhB,GAGU3K,GACD2S,EAHJugB,EAAavoB,EAAQuoB,WACrBhQ,EAAWvY,EAAQuY,QACvB,KAASljB,EAAI,EAAGA,EAAIkzB,EAAWhzB,OAAQF,GAAK,EACpC2S,EAAQ,GAAI3B,GAAMkiB,EAAWlzB,GAAIkzB,EAAWlzB,EAAI,IAChD2K,EAAQ6pB,YACR7hB,EAAMoD,cAAcmN,GAExBvB,EAAK8N,OAAO9c,EAAMxN,EAAGwN,EAAMhE,GAC3BuU,EAAS/d,EAAIwN,EAAMxN,EACnB+d,EAASvU,EAAIgE,EAAMhE,GAG3BtJ,EAAG,SAAUsc,EAAMhX,GAAhB,GAGK+iB,GAAYD,EAAW9a,EAClB3S,EAHLkzB,EAAavoB,EAAQuoB,WACrBhQ,EAAWvY,EAAQuY,QAEvB,KAASljB,EAAI,EAAGA,EAAIkzB,EAAWhzB,OAAQF,GAAK,EACxC0tB,EAAa,GAAI1c,GAAMkiB,EAAWlzB,GAAIkzB,EAAWlzB,EAAI,IACrDytB,EAAY,GAAIzc,GAAMkiB,EAAWlzB,EAAI,GAAIkzB,EAAWlzB,EAAI,IACxD2S,EAAQ,GAAI3B,GAAMkiB,EAAWlzB,EAAI,GAAIkzB,EAAWlzB,EAAI,IAChD2K,EAAQ6pB,aACR/G,EAAU1X,cAAcmN,GACxBwK,EAAW3X,cAAcmN,GACzBvQ,EAAMoD,cAAcmN,IAExBvB,EAAK4L,QAAQG,EAAYD,EAAW9a,GACpCuQ,EAAS/d,EAAIwN,EAAMxN,EACnB+d,EAASvU,EAAIgE,EAAMhE,GAG3B1J,EAAG,SAAU0c,EAAMhX,GACf,GAAI1M,GAAQ0M,EAAQ6pB,WAAa,EAAI7pB,EAAQuY,SAAS/d,CACtDouB,GAAiB5oB,EAAQuoB,YAAY,EAAMj1B,GAC3C8H,KAAKX,EAAEuc,EAAMhX,IAEjB6Q,EAAG,SAAUmG,EAAMhX,GACf,GAAI1M,GAAQ0M,EAAQ6pB,WAAa,EAAI7pB,EAAQuY,SAASvU,CACtD4kB,GAAiB5oB,EAAQuoB,YAAY,EAAOj1B,GAC5C8H,KAAKX,EAAEuc,EAAMhX,IAEjBlE,EAAG,SAAUkb,EAAMhX,GAAhB,GAGU3K,GACDsZ,EACAC,EACAjJ,EACAb,EACAiF,EAPJwe,EAAavoB,EAAQuoB,WACrBhQ,EAAWvY,EAAQuY,QACvB,KAASljB,EAAI,EAAGA,EAAIkzB,EAAWhzB,OAAQF,GAAK,EACpCsZ,EAAU4Z,EAAWlzB,GACrBuZ,EAAU2Z,EAAWlzB,EAAI,GACzBsQ,EAAW4iB,EAAWlzB,EAAI,GAC1ByP,EAAQyjB,EAAWlzB,EAAI,GACvB0U,EAAW,GAAI1D,GAAMkiB,EAAWlzB,EAAI,GAAIkzB,EAAWlzB,EAAI,IACvD2K,EAAQ6pB,YACR9f,EAASqB,cAAcmN,GAE3BvB,EAAKiO,MAAMlb,EAAU4E,EAASC,EAASjJ,EAAUb,GACjDyT,EAAS/d,EAAIuP,EAASvP,EACtB+d,EAASvU,EAAI+F,EAAS/F,GAG9B2F,EAAG,SAAUqN,EAAMhX,GAAhB,GAIK+iB,GAAYhZ,EAAU+Y,EAAWkH,EAI5B30B,EAPLkzB,EAAavoB,EAAQuoB,WACrBhQ,EAAWvY,EAAQuY,SACnBiR,EAAkBxpB,EAAQwpB,eAK9B,KAHuB,KAAnBA,GAA6C,KAAnBA,IAC1BQ,EAAgB1zB,EAAKA,EAAK0gB,EAAKuO,OAAOX,UAAU9B,aAE3CztB,EAAI,EAAGA,EAAIkzB,EAAWhzB,OAAQF,GAAK,EACxCytB,EAAY,GAAIzc,GAAMkiB,EAAWlzB,GAAIkzB,EAAWlzB,EAAI,IACpD0U,EAAW,GAAI1D,GAAMkiB,EAAWlzB,EAAI,GAAIkzB,EAAWlzB,EAAI,IACnD2K,EAAQ6pB,aACR/G,EAAU1X,cAAcmN,GACxBxO,EAASqB,cAAcmN,IAGvBwK,EADAiH,EACajB,EAAgBiB,EAAezR,GAE/BA,EAAStN,QAE1B+e,EAAgBlH,EAChB9L,EAAK4L,QAAQG,EAAYD,EAAW/Y,GACpCwO,EAAS/d,EAAIuP,EAASvP,EACtB+d,EAASvU,EAAI+F,EAAS/F,GAG9B6C,EAAG,SAAUmQ,EAAMhX,GAAhB,GAGKiqB,GAAoBlgB,EAAUC,EACzB3U,EAHLkzB,EAAavoB,EAAQuoB,WACrBhQ,EAAWvY,EAAQuY,QAEvB,KAASljB,EAAI,EAAGA,EAAIkzB,EAAWhzB,OAAQF,GAAK,EACxC2U,EAAe,GAAI3D,GAAMkiB,EAAWlzB,GAAIkzB,EAAWlzB,EAAI,IACvD0U,EAAW,GAAI1D,GAAMkiB,EAAWlzB,EAAI,GAAIkzB,EAAWlzB,EAAI,IACnD2K,EAAQ6pB,aACR7f,EAAaoB,cAAcmN,GAC3BxO,EAASqB,cAAcmN,IAE3B0R,EAAqBjB,EAA8BzQ,EAAUvO,EAAcD,GAC3EiN,EAAK4L,QAAQqH,EAAmBlH,WAAYkH,EAAmBnH,UAAW/Y,GAC1EwO,EAAS/d,EAAIuP,EAASvP,EACtB+d,EAASvU,EAAI+F,EAAS/F,GAG9B6D,EAAG,SAAUmP,EAAMhX,GAAhB,GAIKiqB,GAAoBjgB,EAAcD,EAE9Bgb,EAGC1vB,EARLkzB,EAAavoB,EAAQuoB,WACrBhQ,EAAWvY,EAAQuY,SACnBiR,EAAkBxpB,EAAQwpB,eAM9B,KAJuB,KAAnBA,GAA6C,KAAnBA,IACtBzE,EAAczuB,EAAKA,EAAK0gB,EAAKuO,OAAOX,UACxC5a,EAAe+a,EAAYjC,YAAY7X,QAAQG,cAAcmN,EAAS9M,aAAe,IAAIH,MAAM,MAE1FjW,EAAI,EAAGA,EAAIkzB,EAAWhzB,OAAQF,GAAK,EACxC0U,EAAW,GAAI1D,GAAMkiB,EAAWlzB,GAAIkzB,EAAWlzB,EAAI,IAC/C2K,EAAQ6pB,YACR9f,EAASqB,cAAcmN,GAGvBvO,EADAA,EACe+e,EAAgB/e,EAAcuO,GAE9BA,EAAStN,QAE5Bgf,EAAqBjB,EAA8BzQ,EAAUvO,EAAcD,GAC3EiN,EAAK4L,QAAQqH,EAAmBlH,WAAYkH,EAAmBnH,UAAW/Y,GAC1EwO,EAAS/d,EAAIuP,EAASvP,EACtB+d,EAASvU,EAAI+F,EAAS/F,GA8BlCslB,GAAWrrB,QAAU,GAAIqrB,GACzBpsB,EAAQojB,KAAKiJ,MAAQ,SAAUn0B,EAAK4K,GAChC,MAAOspB,GAAWrrB,QAAQsrB,MAAMn0B,EAAK4K,IAEzCtD,EAAWQ,GAAWosB,WAAYA,KACpC7sB,OAAO3F,MAAMoK,SACC,kBAAV9N,SAAwBA,OAAOgK,IAAMhK,OAAS,SAAUiK,EAAIC,EAAIC,IACrEA,GAAMD,OAEV,SAAUnK,EAAGC,QACVA,OAAO,kBAAmB,kBAAmBD,IAC/C,YACG,SAAUqK,GA8QP,QAAS0sB,GAAe3kB,EAAIE,GACxB,MAAIF,GAAG4kB,QAAU1kB,EAAG0kB,QACT,EAEP5kB,EAAG4kB,QAAU1kB,EAAG0kB,WAGb,EArRd,GACOrzB,GAAQ2F,OAAO3F,MAAOoG,EAAUpG,EAAMoG,QAASsU,EAAW1a,EAAM0a,SAAUxS,EAAQlI,EAAMkI,MAAO0L,EAAO8G,EAAS9G,KAAMhO,EAAa5F,EAAM4F,WAAY0tB,EAAU5sB,EAAE4sB,QAAStoB,EAAUtE,EAAEsE,QAASlO,EAAO2I,KAAM8tB,EAAa,IAAOC,EAAY,GAC3OC,EAAWvrB,EAAME,QACjBC,KAAM,WACF/D,KAAKovB,WAET3I,KAAM,SAAU/M,EAAO7M,GACnB7M,KAAKovB,OAAOx1B,MACRiT,KAAMA,EACN6M,MAAOA,IAEXA,EAAM2V,UAAYrvB,MAEtBsvB,YAAa,SAAU1iB,GAAV,GAIArF,GAHL6nB,EAASpvB,KAAKovB,OACdj1B,EAASi1B,EAAOj1B,OAChBqC,IACJ,KAAS+K,EAAM,EAAGA,EAAMpN,EAAQoN,IACxB6nB,EAAO7nB,GAAKsF,KAAKsF,cAAcvF,IAC/BpQ,EAAO5C,KAAKw1B,EAAO7nB,GAAKmS,MAGhC,OAAOld,IAEXyqB,OAAQ,SAAUvN,EAAO7M,GACrB7M,KAAKymB,KAAK/M,EAAO7M,IAErBkO,OAAQ,SAAUrB,GAAV,GAGKnS,GAFL6nB,EAASpvB,KAAKovB,OACdj1B,EAASi1B,EAAOj1B,MACpB,KAASoN,EAAM,EAAGA,EAAMpN,EAAQoN,IAC5B,GAAI6nB,EAAO7nB,GAAKmS,QAAUA,EAAO,CAC7B0V,EAAOloB,OAAOK,EAAK,EACnB,WAKZgoB,EAAWJ,EAASrrB,QACpBC,KAAM,SAAUif,GACZmM,EAASlmB,GAAGlF,KAAK6T,KAAK5X,MACtBA,KAAKyY,YACLzY,KAAKgjB,KAAOA,GAEhBwM,SAAU,SAAUxM,GAAV,GACFyM,GAAWzvB,KAAKgjB,KAChB0M,EAAkBD,EAASriB,cAC3BA,EAAc4V,EAAK5V,cACnBoiB,EAAWC,EAAS3f,OAAO1Q,GAAK4jB,EAAKlT,OAAO1Q,GAAKqwB,EAAS3f,OAAOlH,GAAKoa,EAAKlT,OAAOlH,GAAKwE,EAAYhO,GAAKswB,EAAgBtwB,GAAKgO,EAAYxE,GAAK8mB,EAAgB9mB,CAClK,OAAO4mB,IAEXF,YAAa,SAAU1iB,GAAV,GAIArF,GAHLkR,EAAWzY,KAAKyY,SAChBte,EAASse,EAASte,OAClBqC,EAAS2yB,EAASlmB,GAAGqmB,YAAY1X,KAAK5X,KAAM4M,EAChD,KAASrF,EAAM,EAAGA,EAAMpN,EAAQoN,IAC5B/K,EAASA,EAAOqqB,OAAOpO,EAASlR,GAAK+nB,YAAY1iB,GAErD,OAAOpQ,IAEXyqB,OAAQ,SAAUvN,EAAO7M,GAAjB,GAUatF,GATbooB,GAAW,EACXlX,EAAWzY,KAAKyY,QACpB,IAAIzY,KAAKwvB,SAAS3iB,GAAO,CACrB,GAAI7M,KAAKovB,OAAOj1B,OAAS,EACrB6F,KAAKymB,KAAK/M,EAAO7M,OACd,CAIH,IAHK4L,EAASte,QACV6F,KAAK4vB,gBAEAroB,EAAM,EAAGA,EAAMkR,EAASte,OAAQoN,IACrC,GAAIkR,EAASlR,GAAK0f,OAAOvN,EAAO7M,GAAO,CACnC8iB,GAAW,CACX,OAGHA,GACD3vB,KAAKymB,KAAK/M,EAAO7M,GAGzB8iB,GAAW,EAEf,MAAOA,IAEXC,cAAe,WACX,GAAI5M,GAAOhjB,KAAKgjB,KAAMvK,EAAWzY,KAAKyY,SAAUnQ,EAAS0a,EAAK1a,SAAUunB,EAAY7M,EAAK1gB,QAAU,EAAGwtB,EAAa9M,EAAKzgB,SAAW,CACnIkW,GAAS7e,KAAK,GAAI21B,GAAS,GAAIjgB,IAC3B0T,EAAKlT,OAAO1Q,EACZ4jB,EAAKlT,OAAOlH,IAEZinB,EACAC,KACC,GAAIP,GAAS,GAAIjgB,IAClBhH,EAAOlJ,EACP4jB,EAAKlT,OAAOlH,IAEZinB,EACAC,KACC,GAAIP,GAAS,GAAIjgB,IAClB0T,EAAKlT,OAAO1Q,EACZkJ,EAAOM,IAEPinB,EACAC,KACC,GAAIP,GAAS,GAAIjgB,IAClBhH,EAAOlJ,EACPkJ,EAAOM,IAEPinB,EACAC,SAIRC,EAAiBnsB,EAAME,QACvBksB,UAAW,IACXjsB,KAAM,WACF/D,KAAKiwB,aAETA,UAAW,WACPjwB,KAAKkwB,WACLlwB,KAAKmwB,KAAO,GAAIhB,GAChBnvB,KAAKowB,iBAET1X,MAAO,WAAA,GAGMnR,GAFLqf,EAAO5mB,KACPowB,EAAexJ,EAAKwJ,YACxB,KAAS7oB,EAAM,EAAGA,EAAM6oB,EAAaj2B,OAAQoN,IACzCvH,KAAK+a,OAAOqV,EAAa7oB,GAE7BvH,MAAKiwB,aAETI,WAAY,SAAUzjB,GAAV,GASCrF,GARLlL,EAAO2D,KAAKgwB,UACZxzB,EAASwD,KAAKmwB,KAAKb,YAAY1iB,GAC/B0jB,GAActwB,KAAKkwB,QAAQ13B,EAAK4I,MAAMwL,EAAMxN,EAAI/C,SAAc7D,EAAK4I,MAAMwL,EAAMhE,EAAIvM,GAMvF,KALIi0B,IACA9zB,EAASA,EAAOqqB,OAAOyJ,EAAWhB,YAAY1iB,KAElD5M,KAAKuwB,aAAa/zB,GAClBA,EAAO3C,KAAKi1B,GACHvnB,EAAM,EAAGA,EAAM/K,EAAOrC,OAAQoN,IACnC,GAAI/K,EAAO+K,GAAK4K,cAAcvF,GAC1B,MAAOpQ,GAAO+K,IAI1BgpB,aAAc,SAAUzO,GAAV,GACN/a,GAASypB,EAAaC,EAAQC,EACzBnpB,CAAT,KAASA,EAAM,EAAGA,EAAMua,EAAS3nB,OAAQoN,IAAO,CAK5C,IAJAR,EAAU+a,EAASva,GACnBkpB,EAAS,EACTD,EAAch4B,EAAKD,IAAI02B,EAAYC,GACnCwB,KACO3pB,GACH2pB,EAAQ92B,KAAKmN,GACbA,EAAUA,EAAQwS,MAEtB,MAAOmX,EAAQv2B,QACX4M,EAAU2pB,EAAQ/K,MAClB8K,IAAW/pB,EAAQK,EAASA,EAAQwS,OAASxS,EAAQwS,OAAOd,SAAWzY,KAAKowB,cAAgB,GAAKI,EACjGA,GAAevB,CAEnBnN,GAASva,GAAKwnB,QAAU0B,IAGhChpB,cAAe,SAAUnE,GACN,aAAXA,EAAEwE,OAAmC,gBAAXxE,EAAEwE,OAC5B9H,KAAK2wB,WAAWrtB,EAAEyD,UAG1BW,eAAgB,SAAUpE,GACtBtD,KAAK2wB,WAAWrtB,EAAEyD,UAEtB4pB,WAAY,SAAU5pB,GAClB,GAAyB,UAArBA,EAAQia,SACR,IAAK,GAAIzZ,GAAM,EAAGA,EAAMR,EAAQ0R,SAASte,OAAQoN,IAC7CvH,KAAK2wB,WAAW5pB,EAAQ0R,SAASlR,QAGjCR,GAAQsoB,WACRtoB,EAAQsoB,UAAUtU,OAAOhU,GAE7B/G,KAAK4wB,aAAa7pB,IAG1BgF,IAAK,SAAU+V,GACX,GAAI+O,GAAgB7B,EAAQlN,GAAYA,EAAS9gB,MAAM,IAAM8gB,EAC7D9hB,MAAKowB,aAAax2B,KAAK2B,MAAMyE,KAAKowB,aAAcS,GAChD7wB,KAAK8wB,QAAQD,IAEjB3V,eAAgB,SAAU5X,GACtB,GAAgB,UAAZA,EAAE6X,OACF,IAAK,GAAI5T,GAAM,EAAGA,EAAMjE,EAAE8X,MAAMjhB,OAAQoN,IACpCvH,KAAK+a,OAAOzX,EAAE8X,MAAM7T,QAGxBvH,MAAK8wB,QAAQC,MAAM/a,UAAUhV,MAAM4W,KAAKtU,EAAE8X,MAAO,KAGzD0V,QAAS,SAAUhP,GAEf,IADA,GAAI/a,GACG+a,EAAS3nB,OAAS,GACrB4M,EAAU+a,EAAS6D,MACnB5e,EAAQD,YAAY9G,MACI,SAApB+G,EAAQia,SACRc,EAASloB,KAAK2B,MAAMumB,EAAU/a,EAAQ0R,UAEtCzY,KAAK4wB,aAAa7pB,IAI9B6pB,aAAc,SAAUlX,GAAV,GAGFsX,GACAC,EACA7xB,EACAwJ,EALJiE,EAAO6M,EAAM7M,MACbA,KACImkB,EAAWhxB,KAAKgwB,UAChBiB,EAAUjxB,KAAKkxB,WAAWrkB,GAC1BzN,EAAI6xB,EAAQ,GAAG,GACfroB,EAAIqoB,EAAQ,GAAG,GACfjxB,KAAKmxB,OAAOF,GACZjxB,KAAKmwB,KAAKlJ,OAAOvN,EAAO7M,IAEnB7M,KAAKkwB,QAAQ9wB,KACdY,KAAKkwB,QAAQ9wB,OAEZY,KAAKkwB,QAAQ9wB,GAAGwJ,KACjB5I,KAAKkwB,QAAQ9wB,GAAGwJ,GAAK,GAAI2mB,GAAS,GAAIjgB,IAClClQ,EAAI4xB,EACJpoB,EAAIooB,IAEJA,EACAA,MAGRhxB,KAAKkwB,QAAQ9wB,GAAGwJ,GAAGqe,OAAOvN,EAAO7M,MAI7CkO,OAAQ,SAAUhU,GAAV,GAGI0R,GACKlR,CAFb,IADAR,EAAQC,eAAehH,MACC,SAApB+G,EAAQia,SAER,IADIvI,EAAW1R,EAAQ0R,SACdlR,EAAM,EAAGA,EAAMkR,EAASte,OAAQoN,IACrCvH,KAAK+a,OAAOtC,EAASlR,QAElBR,GAAQsoB,YACftoB,EAAQsoB,UAAUtU,OAAOhU,SAClBA,GAAQsoB,YAGvB8B,OAAQ,SAAUF,GACd,MAAOA,GAAQ,GAAG92B,OAAS,GAAK82B,EAAQ,GAAG92B,OAAS,GAExD+2B,WAAY,SAAUlO,GAAV,GASC5jB,GAGAwJ,EAXLooB,EAAWhxB,KAAKgwB,UAChB5iB,EAAc4V,EAAK5V,cACnBgkB,EAAU54B,EAAK4I,MAAMgM,EAAYhO,EAAI4xB,GACrCK,EAAU74B,EAAK4I,MAAMgM,EAAYxE,EAAIooB,GACrCC,SAIJ,KAAS7xB,EAAI5G,EAAK4I,MAAM4hB,EAAKlT,OAAO1Q,EAAI4xB,GAAW5xB,GAAKgyB,EAAShyB,IAC7D6xB,EAAQ,GAAGr3B,KAAKwF,EAEpB,KAASwJ,EAAIpQ,EAAK4I,MAAM4hB,EAAKlT,OAAOlH,EAAIooB,GAAWpoB,GAAKyoB,EAASzoB,IAC7DqoB,EAAQ,GAAGr3B,KAAKgP,EAEpB,OAAOqoB,KAYf3vB,GAAWQ,GACPiuB,eAAgBA,EAChBR,SAAUA,KAEhBluB,OAAO3F,MAAMoK,SACC,kBAAV9N,SAAwBA,OAAOgK,IAAMhK,OAAS,SAAUiK,EAAIC,EAAIC,IACrEA,GAAMD,OAEV,SAAUnK,EAAGC,QACVA,OAAO,eACH,iBACA,aACDD,IACL,YACG,SAAUqK,GA42BP,QAASkvB,GAAcvqB,GAAvB,GACQwqB,GAMItwB,EAAmBwR,EAAkB/P,CAL7C,KACI6uB,EAAMxqB,EAAQyqB,aAAezqB,EAAQyqB,eAAiB,KACxD,MAAOluB,IAELiuB,IACItwB,GAAQswB,EAAIjuB,EAAI,EAAGmP,GAAO8e,EAAIx5B,EAAI,EAAG2K,EAAQqE,EAAQrE,MAC5C,IAATzB,GAAsB,IAARwR,IACd/P,EAAMzB,KAAOA,EAAO,KACpByB,EAAM+P,IAAMA,EAAM,OAI9B,QAASgf,KACL,GAAIC,GAAOvuB,SAASwuB,qBAAqB,QAAQ,GAAIC,EAAM,GAAIC,EAAO1uB,SAASoT,SAASsb,KAAMC,EAAYD,EAAK/V,QAAQ,IAOvH,OANI4V,KAASh2B,EAAMq2B,QAAQC,QAAQC,OAC3BH,SACAD,EAAOA,EAAKxoB,UAAU,EAAGyoB,IAE7BF,EAAMC,GAEHD,EAEX,QAASM,GAAOpyB,GACZ,MAAO,OAAS2xB,IAAY,IAAM3xB,EAAK,IAE3C,QAASqyB,GAAY7F,GAArB,GAIYxc,GACAsiB,EAMJC,EAVAlC,EAAO,GAAImC,GACXzlB,EAAOyf,EAAMlK,aAWjB,OAVIvV,KACIiD,EAASjD,EAAK0E,YACd6gB,EAAa,GAAI7yB,GAAE4Y,MACvBia,EAAWpqB,UAAUwN,EAAExN,YAAY+H,WAAWD,EAAO1Q,GAAI0Q,EAAOlH,IAChEwpB,EAAW3Z,SAAS7e,KAAK0yB,GACzBA,EAAQ8F,GAEZjC,EAAK9sB,MAAMipB,IACP+F,EAAM,qCAA+CE,EAAS,8DAA+EpC,EAAKqC,SAAW,SACjKrC,EAAKvX,UACEyZ,EAEX,QAASI,GAAUnG,EAAO1nB,GACtB,GAAIytB,GAAMF,EAAY7F,EAItB,OAHK1nB,IAAYA,EAAQ8tB,MACrBL,EAAM,6BAA+BxwB,EAAKkE,aAAassB,IAEpDjwB,EAAEuwB,WAAWC,QAAQP,GAAKQ,UAErC,QAASC,GAAa5Y,EAAMhiB,GACxB,MAAe,QAARgiB,GAA0B,QAARA,KAAoBhiB,GAASA,EAAM8oB,UAAYR,GAE5E,QAASuS,GAAet3B,GACpB,IAAKA,IAASA,EAAKqgB,SAAWrgB,EAAKqgB,QAAQ,KAAO,EAC9C,MAAOrgB,EAEP,IAAIsL,GAAUgsB,EAAeC,QAE7B,OADAjsB,GAAQksB,UAAYx3B,EACbsL,EAAQmsB,aAAensB,EAAQosB,UAt6BjD,GA06BOC,GAz6BAzvB,EAAMR,SAAUzH,EAAQ2F,OAAO3F,MAAO4F,EAAa5F,EAAM4F,WAAYkU,EAAI9Z,EAAM0a,SAAU7W,EAAI7D,EAAMoG,QAAS8U,EAAWrX,EAAEqX,SAAU/U,EAAOnG,EAAMmG,KAAM5J,EAAU4J,EAAK5J,QAAS0E,EAAgBkF,EAAKlF,cAAeb,EAAa+F,EAAK/F,WAAYE,EAAgB6F,EAAK7F,cAAeR,EAAiBqG,EAAKrG,eAAgBkL,EAAUtE,EAAEsE,QACtU2sB,EAAO,OAAQrT,EAAczgB,EAAEygB,YAAaQ,EAAW,WAAY8S,EAAO,OAAQ9b,EAAK,SAAU+b,EAAQ,QAASC,EAAQ,IAAKjB,EAAS,6BAA8BkB,EAAY,YAAat7B,EAAY,YAC3Mwf,EAAUpY,EAAEoY,QAAQ7T,QACpBC,KAAM,SAAUgD,EAASnC,GACrBrF,EAAEoY,QAAQ1O,GAAGlF,KAAK6T,KAAK5X,KAAM+G,EAASnC,GACtC5E,KAAK0zB,MAAQ,GAAIpB,GAAStyB,KAAK4E,SAC/B+uB,EAAU3zB,KAAK+G,QAAQ,GAAI/G,KAAK4zB,UAAU5zB,OAC1CA,KAAK6zB,aAAe7zB,KAAK+G,QAAQ,GAAG+sB,kBACpCxC,EAActxB,KAAK6zB,cACnB7zB,KAAK0zB,MAAMK,SAAS/zB,KAAK6zB,cACzB7zB,KAAK+G,QAAQgX,GAAG,QAAUvG,EAAIxX,KAAK6X,QACnC7X,KAAK+G,QAAQgX,GAAG,YAAcvG,EAAIxX,KAAK+X;AACvC/X,KAAK+G,QAAQgX,GAAG,WAAavG,EAAIxX,KAAKgY,aACtChY,KAAK+G,QAAQgX,GAAG,YAAcvG,EAAIxX,KAAKiY,YACvCjY,KAAKg0B,UAET9Z,KAAM,MACNtB,QAAS,WACD5Y,KAAK0zB,QACL1zB,KAAK0zB,MAAM9a,UACX5Y,KAAK0zB,MAAQ,KACb1zB,KAAK6zB,aAAe,KACpB7zB,KAAK+G,QAAQmX,IAAI1G,IAErBjY,EAAEoY,QAAQ1O,GAAG2P,QAAQhB,KAAK5X,OAE9B+P,UAAW,SAAUsK,GACjB,GAAI4Z,GAAUv4B,EAAMw4B,OAAO,kBAAmB/yB,KAAK/I,MAAMiiB,EAAOjb,GAAI+B,KAAK/I,MAAMiiB,EAAOzR,GAAI5I,KAAKgE,MAAM1B,MAAOtC,KAAKgE,MAAMzB,OACvHvC,MAAK6e,QAAUxE,EACfra,KAAK6zB,aAAaM,aAAa,UAAWF,IAE9Czb,KAAM,SAAUzR,GACZxH,EAAEoY,QAAQ1O,GAAGuP,KAAKZ,KAAK5X,KAAM+G,GAC7B/G,KAAK0zB,MAAMrwB,MAAM0D,KAErB2R,MAAO,WACHnZ,EAAEoY,QAAQ1O,GAAGyP,MAAMd,KAAK5X,MACxBA,KAAK0zB,MAAMhb,SAEf2Z,IAAK,WACD,MAAO,yBAA6BryB,KAAK4zB,UAAU5zB,OAEvD8Y,aAAc,WAAA,GAIF0K,GAHJ4Q,EAASp0B,KAAKkY,QACdmC,EAASra,KAAK6e,OAOlB,OANIxE,KACImJ,EAAO,GAAIjkB,GAAE4Y,MACjBqL,EAAK/K,SAAS7e,KAAKw6B,GACnB5Q,EAAKxb,UAAUwN,EAAExN,YAAY+H,WAAWsK,EAAOjb,GAAIib,EAAOzR,IAC1DwrB,EAAS5Q,GAEN4Q,GAEXrb,QAAS,WACD/Y,KAAK6e,SACL7e,KAAK+P,UAAU/P,KAAK6e,UAG5B+U,UAAWp4B,EAAe,oEAA8E+2B,EAAS,4FAEjH8B,EAAOzd,EAAS9S,QAChBC,KAAM,SAAUyV,GACZ5C,EAAS3N,GAAGlF,KAAK6T,KAAK5X,KAAMwZ,GAC5BxZ,KAAKs0B,gBAET1b,QAAS,WACD5Y,KAAK+G,UACL/G,KAAK+G,QAAQsS,WAAa,KAC1BrZ,KAAK+G,QAAU,MAEnB/G,KAAKu0B,mBACL3d,EAAS3N,GAAG2P,QAAQhB,KAAK5X,OAE7BqD,KAAM,SAAUye,EAAUvlB,GACtB,GAAyCi4B,GAAWhb,EAAYf,EAAUxe,EAAtEgf,EAAOjZ,KAAM+G,EAAUkS,EAAKlS,OAChC,KAAK9M,EAAI,EAAGA,EAAI6nB,EAAS3nB,OAAQF,IAC7Buf,EAAasI,EAAS7nB,GACtBwe,EAAWe,EAAWf,SACtB+b,EAAY,GAAIC,GAAQjb,EAAWwH,UAAUxH,GACzCvhB,EAAQsE,GACR0c,EAAK6B,SAAS0Z,EAAWj4B,GAEzB0c,EAAK7d,OAAOo5B,GAEhBA,EAAUE,oBACNjc,GAAYA,EAASte,OAAS,GAC9Bq6B,EAAUnxB,KAAKoV,GAEf1R,GACAytB,EAAUT,SAAShtB,EAASxK,IAIxC4zB,KAAM,WAEF,IADA,GAAIA,GAAOnwB,KACJmwB,EAAK5W,QACR4W,EAAOA,EAAK5W,MAEhB,OAAO4W,IAEX4D,SAAU,SAAUY,EAAYp4B,GAAtB,GAGFwK,GAFA6tB,EAAYjxB,EAAIkxB,cAAc,MAClClB,GAAUiB,EAAW,eAAkBrC,EAAS,mBAAwBvyB,KAAKwyB,SAAW,UACpFzrB,EAAU6tB,EAAUE,WAAWA,WAC/B/tB,IACI9O,EAAQsE,GACRo4B,EAAWI,aAAahuB,EAAS4tB,EAAW/Z,WAAWre,IAAQ,MAE/Do4B,EAAWpvB,YAAYwB,GAE3B/G,KAAKg1B,WAAWjuB,KAGxBiuB,WAAY,SAAUjuB,GAClB,GAA6BkuB,GAAch7B,EAAvCi7B,EAAQl1B,KAAK4a,UAMjB,KALI5a,KAAK+G,UACL/G,KAAK+G,QAAQsS,WAAa,MAE9BrZ,KAAK+G,QAAUA,EACf/G,KAAK+G,QAAQsS,WAAarZ,KACrB/F,EAAI,EAAGA,EAAIi7B,EAAM/6B,OAAQF,IAC1Bg7B,EAAeluB,EAAQ6T,WAAW3gB,GAClCi7B,EAAMj7B,GAAG+6B,WAAWC,IAG5Bvc,MAAO,WAAA,GAKCD,GACKxe,CAAT,KALA+F,KAAKu0B,mBACDv0B,KAAK+G,UACL/G,KAAK+G,QAAQksB,UAAY,IAEzBxa,EAAWzY,KAAK4a,WACX3gB,EAAI,EAAGA,EAAIwe,EAASte,OAAQF,IACjCwe,EAASxe,GAAG2e,SAEhB5Y,MAAK4a,eAETI,WAAY,WACR,GAAIhb,KAAK+G,QAAS,CACd,GAAInB,GAAa5F,KAAK+G,QAAQnB,UAC1BA,IACAA,EAAWC,YAAY7F,KAAK+G,SAEhC/G,KAAK+G,QAAU,KAEnB6P,EAAS3N,GAAG+R,WAAWpD,KAAK5X,OAEhCrE,SAAUH,EAAe,2BACzBg3B,OAAQ,WACJ,MAAOxyB,MAAKrE,SAASqE,OAEzBm1B,eAAgB,WACZ,GAA0Cl7B,GAAtCi7B,EAAQl1B,KAAK4a,WAAY1e,EAAS,EACtC,KAAKjC,EAAI,EAAGA,EAAIi7B,EAAM/6B,OAAQF,IAC1BiC,GAAUg5B,EAAMj7B,GAAGu4B,QAEvB,OAAOt2B,IAEXuL,cAAe,SAAUnE,GAAV,GACPwE,GAAQxE,EAAEwE,MACV5P,EAAQoL,EAAEpL,KACA,aAAV4P,EACA9H,KAAKoY,IAAI,UAAWlgB,EAAQ,GAAKo7B,GAC1BF,EAActrB,IAAUgrB,EAAahrB,EAAO5P,GACnD8H,KAAKo1B,iBAAiBttB,EAAO5P,GACZ,YAAV4P,GACP9H,KAAKq1B,KAAK,UAAWn9B,GAEzB0e,EAAS3N,GAAGxB,cAAcmQ,KAAK5X,KAAMsD,IAEzC+xB,KAAM,SAAUt5B,EAAM7D,GACd8H,KAAK+G,SACL/G,KAAK+G,QAAQotB,aAAap4B,EAAM7D,IAGxCo9B,QAAS,SAAUr5B,GACf,IAAK,GAAIhC,GAAI,EAAGA,EAAIgC,EAAM9B,OAAQF,IAC9B+F,KAAKq1B,KAAKp5B,EAAMhC,GAAG,GAAIgC,EAAMhC,GAAG,KAGxCme,IAAK,SAAUrc,EAAM7D,GACb8H,KAAK+G,UACL/G,KAAK+G,QAAQrE,MAAM3G,GAAQ7D,IAGnCq9B,OAAQ,SAAUC,GACd,IAAK,GAAIv7B,GAAI,EAAGA,EAAIu7B,EAAOr7B,OAAQF,IAC/B+F,KAAKoY,IAAIod,EAAOv7B,GAAG,GAAIu7B,EAAOv7B,GAAG,KAGzCw7B,WAAY,SAAU15B,GACdiE,KAAK+G,SACL/G,KAAK+G,QAAQ2uB,gBAAgB35B,IAGrC45B,aAAc,SAAU3tB,GACpB,GAAI/L,KAOJ,OANI+L,IACA/L,EAAMrC,MACF65B,EACA,UAAYzrB,EAAUC,SAAS4I,SAAS,GAAK,MAG9C5U,GAEX25B,gBAAiB,WACb,MAAO55B,GAAcgE,KAAK21B,aAAa31B,KAAKwZ,WAAWxR,eAE3D6tB,gBAAiB,SAAU39B,GACnBA,EACA8H,KAAKs1B,QAAQt1B,KAAK21B,aAAaz9B,IAE/B8H,KAAKy1B,WAAWhC,IAGxBqC,SAAU,WAAA,GACFlxB,GAAU5E,KAAKwZ,WAAW5U,QAC1BlC,IACI,SACAkC,EAAQmxB,QAQhB,OANInxB,GAAQqa,WAAY,GACpBvc,EAAM9I,MACF,UACA05B,IAGD5wB,GAEXvG,YAAa,WACT,MAAOL,GAAW,QAAS+F,EAAK1F,YAAY6D,KAAK81B,UAAS,MAE9DE,cAAe,WACX,MAAOl6B,GAAW,UAAWkE,KAAKwZ,WAAW5U,QAAQkc,UAEzD4T,kBAAmB,WAAA,GAGXuB,GAAYnuB,EAAOlD,EAASsxB,EAF5B1c,EAAaxZ,KAAKwZ,WAClB8a,EAAct0B,KAAKs0B,WAEvB,IAAI9a,EAAY,CACZ5U,EAAU4U,EAAW5U,OACrB,KAAKkD,IAASsrB,GACV6C,EAAarxB,EAAQF,IAAIoD,GACrBmuB,GAAcnD,EAAahrB,EAAOmuB,KAClC3B,EAAYxsB,GAASmuB,EACrBC,GAAiB,EAGrBA,IACAl2B,KAAKm2B,kBACDhb,OAAQ,MACRmZ,YAAaA,MAK7B6B,iBAAkB,SAAU7yB,GACpBtD,KAAKuZ,QACLvZ,KAAKuZ,OAAO4c,iBAAiB7yB,IAGrC8xB,iBAAkB,SAAUlb,EAAMhiB,GAAhB,GACVo8B,GAAct0B,KAAKs0B,YACnBzxB,EAAUyxB,EAAYpa,GACtBmb,EAAOjC,EAAclZ,GACrB+b,IACApzB,KACAozB,EAAW/b,GAAQrX,EACnB7C,KAAKm2B,kBACDhb,OAAQ,SACRmZ,YAAa2B,UAEV3B,GAAYpa,IAElBhiB,GAKD+9B,EAAW/b,GAAQhiB,EACnB8H,KAAKm2B,kBACDhb,OAAQ,MACRmZ,YAAa2B,IAEjB3B,EAAYpa,GAAQhiB,EACpB8H,KAAKq1B,KAAKA,EAAMnD,EAAOh6B,EAAM4H,MAVzB+C,GACA7C,KAAKy1B,WAAWJ,IAY5Bd,iBAAkB,WAAA,GAEVzsB,GADAwsB,EAAct0B,KAAKs0B,WAEvB,KAAKxsB,IAASwsB,GAAa,CACvBt0B,KAAKm2B,kBACDhb,OAAQ,SACRmZ,YAAaA,IAEjBt0B,KAAKs0B,cACL,SAGR8B,kBAAmB,WACf,MAAOp6B,GAAcgE,KAAKq2B,mBAE9BA,eAAgB,WAAA,GAGRvuB,GAFAwsB,EAAct0B,KAAKs0B,YACnBr4B,IAEJ,KAAK6L,IAASwsB,GACVr4B,EAAMrC,MACFw5B,EAActrB,GACdoqB,EAAOoC,EAAYxsB,GAAOhI,KAGlC,OAAO7D,MAGXq2B,EAAW+B,EAAKvwB,QAChBC,KAAM,SAAUa,GACZyvB,EAAKprB,GAAGlF,KAAK6T,KAAK5X,MAClBA,KAAK4E,QAAUA,EACf5E,KAAKs2B,KAAO,GAAIC,IAEpBxC,SAAU,SAAUY,GAChB30B,KAAK+G,QAAU4tB,EACf30B,KAAKs2B,KAAKvC,SAASY,EAAWb,oBAElCpb,MAAO,WACH9B,EAAS3N,GAAGyP,MAAMd,KAAK5X,OAE3BrE,SAAUH,EAAe,6CACzB26B,iBAAkB,SAAU7yB,GACxBtD,KAAKs2B,KAAKH,iBAAiB7yB,MAG/BizB,EAAiBlC,EAAKvwB,QACtBC,KAAM,WACFswB,EAAKprB,GAAGlF,KAAK6T,KAAK5X,MAClBA,KAAKw2B,kBAETzC,SAAU,SAAUY,GAChB30B,KAAK+G,QAAU4tB,GAEnBh5B,SAAUH,EAAe,uCACzB26B,iBAAkB,SAAU7yB,GAAV,GACVgxB,GAAchxB,EAAEgxB,YAChBnZ,EAAS7X,EAAE6X,MACD,QAAVA,EACAnb,KAAKy2B,eAAenC,GACH,UAAVnZ,GACPnb,KAAK02B,kBAAkBpC,IAG/BqC,iBAAkB,SAAUzc,EAAM0c,GAC9B,GAAI5V,EAUJ,OATY,QAAR9G,EACA8G,EAAW6V,EACI,QAAR3c,IACH0c,YAAgBr3B,GAAEimB,eAClBxE,EAAW8V,EACJF,YAAgBr3B,GAAEkmB,iBACzBzE,EAAW+V,IAGZ,GAAI/V,GAAS4V,IAExBH,eAAgB,SAAUnC,GACtB,IAAK,GAAIxsB,KAASwsB,GACdt0B,KAAKg3B,cAAclvB,EAAOwsB,EAAYxsB,KAG9CkvB,cAAe,SAAU9c,EAAMV,GAAhB,GAIPP,GAHAud,EAAgBx2B,KAAKw2B,cACrB12B,EAAK0Z,EAAW1Z,GAChBiH,EAAU/G,KAAK+G,QACTkwB,EACAT,EAAc12B,EACnBm3B,GAWDA,EAAQ/pB,SAVR+L,EAAOjZ,KAAK22B,iBAAiBzc,EAAMV,GACnCgd,EAAc12B,IACViH,QAASkS,EACT/L,MAAO,GAEXlN,KAAK5E,OAAO6d,GACRlS,GACAkS,EAAK8a,SAAS/zB,KAAK+G,WAM/B2vB,kBAAmB,SAAUpC,GACzB,IAAK,GAAIxsB,KAASwsB,GACdt0B,KAAKk3B,iBAAiB5C,EAAYxsB,KAG1CovB,iBAAkB,SAAU1d,GAAV,GACVgd,GAAgBx2B,KAAKw2B,cACrB12B,EAAK0Z,EAAW1Z,GAChBm3B,EACMT,EAAc12B,EACpBm3B,KACAA,EAAQ/pB,QACc,IAAlB+pB,EAAQ/pB,QACRlN,KAAK+a,OAAOrU,EAAQuwB,EAAQlwB,QAAS/G,KAAK4a,YAAa,SAChD4b,GAAc12B,QAKjC+2B,EAAWxC,EAAKvwB,QAChBC,KAAM,SAAUyV,GACZ6a,EAAKprB,GAAGlF,KAAK6T,KAAK5X,MAClBA,KAAKwZ,WAAaA,EAClBxZ,KAAKF,GAAK0Z,EAAW1Z,GACrBE,KAAKqD,MAAMmW,KAEf7d,SAAUH,EAAe,8DAEzB27B,EAAY9C,EAAKvwB,QACjBnI,SAAUH,EAAe,uHACzBiM,cAAe,SAAUnE,GACjBA,EAAEwE,OAAS2rB,GACXzzB,KAAK61B,gBAAgBvyB,EAAEpL,OAE3Bm8B,EAAKprB,GAAGxB,cAAcmQ,KAAK5X,KAAMsD,MAGrC8zB,EAAW/C,EAAKvwB,QAChB4D,eAAgB,WACZ1H,KAAKq1B,KAAK,IAAKr1B,KAAKq3B,cACpBr3B,KAAKib,cAETxT,cAAe,SAAUnE,GACrB,OAAQA,EAAEwE,OACV,IAAK,OACGxE,EAAEpL,MACF8H,KAAKs1B,QAAQt1B,KAAKs3B,QAAQh0B,EAAEpL,QAE5B8H,KAAKy1B,WAAW,OAEpB,MACJ,KAAK,aACDz1B,KAAKs1B,QAAQt1B,KAAKs3B,SAAU16B,MAAO0G,EAAEpL,QACrC,MACJ,KAAK,SACGoL,EAAEpL,MACF8H,KAAKs1B,QAAQt1B,KAAKu3B,UAAUj0B,EAAEpL,QAE9B8H,KAAKy1B,WAAW,SAEpB,MACJ,KAAKhC,GACDzzB,KAAK61B,gBAAgBvyB,EAAEpL,MACvB,MACJ,SACI,GAAI6D,GAAOiE,KAAKw3B,aAAal0B,EAAEwE,MAC3B/L,IACAiE,KAAKq1B,KAAKt5B,EAAMuH,EAAEpL,OAI1Bm8B,EAAKprB,GAAGxB,cAAcmQ,KAAK5X,KAAMsD,IAErCk0B,cACIC,eAAgB,eAChBC,eAAgB,SAChBC,eAAgB,eAChBC,iBAAkB,kBAEtBnb,QAAS,WACDzc,KAAK+G,UACL/G,KAAK+G,QAAQmsB,YAAclzB,KAAKwZ,WAAWiD,YAGnD4a,WAAY,WACR,MAAOr3B,MAAK63B,UAAU73B,KAAKwZ,aAE/Bqe,UAAW,SAAUjc,GAAV,GAGCjiB,GAAYuC,EAAQ47B,EAAaC,EAAa99B,EAFlDuvB,EAAW5N,EAAK4N,SAAUrvB,EAASqvB,EAASrvB,MAChD,IAAIA,EAAS,EAAG,CAEZ,IADIR,KACCM,EAAI,EAAGA,EAAIE,EAAQF,IACpB69B,EAAc93B,KAAK83B,YAAYtO,EAASvvB,EAAI,GAAIuvB,EAASvvB,IACrD69B,IAAgBC,IAChBA,EAAcD,EACdn+B,EAAMC,KAAKk+B,IAGXn+B,EAAMC,KADU,MAAhBk+B,EACW93B,KAAKg4B,YAAYxO,EAASvvB,GAAGwtB,UAE7BznB,KAAKg4B,YAAYxO,EAASvvB,EAAI,GAAG0tB,aAAc6B,EAASvvB,GAAGytB,YAAa8B,EAASvvB,GAAGwtB,UAOvG,OAJAvrB,GAAS,IAAM8D,KAAKg4B,YAAYxO,EAAS,GAAG/B,UAAY+L,EAAQ75B,EAAMG,KAAK05B,GACvE5X,EAAKhX,QAAQklB,SACb5tB,GAAU,KAEPA,IAGf87B,YAAa,WACT,GAAgD/9B,GAA5CsS,EAASxM,UAAW5F,EAASoS,EAAOpS,OAAWqC,IACnD,KAAKvC,EAAI,EAAGA,EAAIE,EAAQF,IACpBuC,EAAO5C,KAAK2S,EAAOtS,GAAG4W,SAAS,GAEnC,OAAOrU,GAAO1C,KAAK05B,IAEvBsE,YAAa,SAAUG,EAAcC,GACjC,MAAOD,GAAatQ,cAAgBuQ,EAAWxQ,YAAc,IAAM,KAEvE6P,UAAW,SAAU1W,GACjB,GAAI5kB,KAoCJ,OAnCI4kB,KAAWlkB,EAAckkB,EAAOjkB,QAChCX,EAAMrC,MACF,SACAinB,EAAOjkB,QAEXX,EAAMrC,MACF,eACAinB,EAAOve,QAEXrG,EAAMrC,MACF,iBACAoG,KAAKm4B,cAActX,KAEvB5kB,EAAMrC,MACF,kBACAinB,EAAO4I,WAEPxxB,EAAQ4oB,EAAOC,UACf7kB,EAAMrC,MACF,iBACAinB,EAAOC,UAGX7oB,EAAQ4oB,EAAOuX,WACfn8B,EAAMrC,MACF,mBACAoG,KAAKq4B,eAAexX,MAI5B5kB,EAAMrC,MACF,SACA05B,IAGDr3B,GAEXq8B,aAAc,WACV,MAAOt8B,GAAcgE,KAAKu3B,UAAUv3B,KAAKwZ,WAAW5U,QAAQic,UAEhEwX,eAAgB,SAAUxX,GAAV,GAGJ0X,GAAiD/7B,EAAavC,EAFlEqI,EAAQue,EAAOve,OAAS,EAAG81B,EAAWvX,EAAOuX,QACjD,IAAIA,GAAYA,GAAY7E,EAAO,CAE/B,IADIgF,EAAYvY,EAAYoY,EAASj5B,eAAgB3C,KAChDvC,EAAI,EAAGA,EAAIs+B,EAAUp+B,OAAQF,IAC9BuC,EAAO5C,KAAK2+B,EAAUt+B,GAAKqI,EAE/B,OAAO9F,GAAO1C,KAAK,OAG3Bq+B,cAAe,SAAUtX,GACrB,GAAIuX,GAAWvX,EAAOuX,SAAUI,EAAU3X,EAAO2X,OACjD,OAAOJ,IAAYA,GAAY7E,EAAQF,EAAOmF,GAElDlB,QAAS,SAAU1W,GACf,GAAI3kB,KAoBJ,OAnBM2kB,IAAQA,EAAKI,UAAYR,IACvBI,IAASjkB,EAAcikB,EAAKhkB,QAC5BX,EAAMrC,MACF,OACAgnB,EAAKhkB,QAEL3E,EAAQ2oB,EAAKE,UACb7kB,EAAMrC,MACF,eACAgnB,EAAKE,WAIb7kB,EAAMrC,MACF,OACA05B,KAILr3B,GAEXw8B,WAAY,WACR,MAAOz8B,GAAcgE,KAAKs3B,QAAQt3B,KAAKwZ,WAAW5U,QAAQgc,QAE9DjlB,SAAUH,EAAe,6MAEzBk9B,EAAUtB,EAAStzB,QACnBuzB,WAAY,WACR,MAAOr3B,MAAK63B,UAAU73B,KAAKwZ,WAAW8N,aAG1CqR,EAAgBvB,EAAStzB,QACzBuzB,WAAY,WAAA,GAGA76B,GAAavC,EAFjBkwB,EAAQnqB,KAAKwZ,WAAW2Q,KAC5B,IAAIA,EAAMhwB,OAAS,EAAG,CAElB,IADIqC,KACCvC,EAAI,EAAGA,EAAIkwB,EAAMhwB,OAAQF,IAC1BuC,EAAO5C,KAAKoG,KAAK63B,UAAU1N,EAAMlwB,IAErC,OAAOuC,GAAO1C,KAAK,SAI3B8+B,EAAaxB,EAAStzB,QACtB4D,eAAgB,WACZ,GAAIY,GAAStI,KAAKsI,QAClBtI,MAAKq1B,KAAK,KAAM/sB,EAAOlJ,GACvBY,KAAKq1B,KAAK,KAAM/sB,EAAOM,GACvB5I,KAAKq1B,KAAK,IAAKr1B,KAAK2S,UACpB3S,KAAKib,cAET3S,OAAQ,WACJ,MAAOtI,MAAKwZ,WAAWpD,WAAW9N,QAEtCqK,OAAQ,WACJ,MAAO3S,MAAKwZ,WAAWpD,WAAWzD,QAEtChX,SAAUH,EAAe,oOAEzBq9B,EAAWzB,EAAStzB,QACpB4D,eAAgB,WACZ,GAAInL,GAAMyD,KAAKzD,KACfyD,MAAKq1B,KAAK,IAAK94B,EAAI6C,GACnBY,KAAKq1B,KAAK,IAAK94B,EAAIqM,GACnB5I,KAAKib,cAETxT,cAAe,SAAUnE,GACL,SAAZA,EAAEwE,OACF9H,KAAKq1B,KAAK,QAASxzB,EAAK1F,YAAY6D,KAAK81B,aACzC91B,KAAK0H,kBACc,YAAZpE,EAAEwE,OACTsvB,EAASnuB,GAAGwT,QAAQ7E,KAAK5X,KAAMA,KAAKwZ,WAAWiD,WAEnD2a,EAASnuB,GAAGxB,cAAcmQ,KAAK5X,KAAMsD,IAEzCwyB,SAAU,SAAUgD,GAAV,GACFp2B,GAAQ00B,EAASnuB,GAAG6sB,SAASle,KAAK5X,KAAM84B,GACxC11B,EAAOpD,KAAKwZ,WAAW5U,QAAQxB,IAQnC,OAPI01B,KACA11B,EAAO1H,EAAMq9B,WAAW31B,IAE5BV,EAAM9I,MACF,OACAwJ,IAEGV,GAEXnG,IAAK,WAAA,GACGA,GAAMyD,KAAKwZ,WAAW2D,WACtB9gB,EAAO2D,KAAKwZ,WAAW1W,SAC3B,OAAOvG,GAAIsT,QAAQmpB,KAAKz8B,EAAIqM,EAAIvM,EAAKmG,WAEzCy2B,cAAe,WACX,GAAIxc,GAAUzc,KAAKwZ,WAAWiD,SAG9B,OAFAA,GAAUsW,EAAetW,GACzBA,EAAU/gB,EAAMq9B,WAAWtc,IAG/B9gB,SAAUH,EAAe,+NAEzB09B,EAAY9B,EAAStzB,QACrB4D,eAAgB,WACZ1H,KAAKs1B,QAAQt1B,KAAKm5B,eAClBn5B,KAAKib,cAETxT,cAAe,SAAUnE,GACL,QAAZA,EAAEwE,OACF9H,KAAKs1B,QAAQt1B,KAAKo5B,aAEtBhC,EAASnuB,GAAGxB,cAAcmQ,KAAK5X,KAAMsD,IAEzC61B,YAAa,WAAA,GACLnW,GAAOhjB,KAAKwZ,WAAWwJ,OACvBpR,EAAKoR,EAAKvR,SACd,SAEQ,IACAG,EAAGxS,IAGH,IACAwS,EAAGhJ,IAGH,QACAoa,EAAK1gB,QAAU,OAGf,SACA0gB,EAAKzgB,SAAW,QAI5B82B,eAAgB,WACZ,MAAOr9B,GAAcgE,KAAKm5B,gBAE9BC,UAAW,SAAUN,GACjB,GAAI1O,GAAMpqB,KAAKwZ,WAAW4Q,KAI1B,OAHI0O,KACA1O,EAAM1uB,EAAMq9B,WAAW3O,MAGnB,aACAA,KAGZkP,aAAc,WACV,MAAOt9B,GAAcgE,KAAKo5B,WAAU,KAExCz9B,SAAUH,EAAe,4LAEzB+9B,EAAmBlF,EAAKvwB,QACxBnI,SAAUH,EAAe,mDACzBg+B,aAAc,WACV,MAAO19B,GAAW,SAAUkE,KAAKwZ,WAAWa,WAEhDyb,SAAU,WACN,GAAItc,GAAaxZ,KAAKwZ,UACtB,SAEQ,aACAA,EAAW5c,UAGX,eACA4c,EAAWsH,aAIvBrZ,cAAe,SAAUnE,GACN,UAAXA,EAAEwE,MACF9H,KAAKq1B,KAAK/xB,EAAEwE,MAAOxE,EAAEpL,OACH,SAAXoL,EAAEwE,OAA+B,WAAXxE,EAAEwE,OAC/B9H,KAAKoY,IAAI,QAAU9U,EAAEwE,MAAOxE,EAAEpL,UAItCuhC,EAAepF,EAAKvwB,QACpBC,KAAM,SAAUyV,GACZ6a,EAAKprB,GAAGlF,KAAK6T,KAAK5X,KAAMwZ,GACxBxZ,KAAKF,GAAK0Z,EAAW1Z,GACrBE,KAAK05B,aAETA,UAAW,WAAA,GAIHC,GACApyB,EAJAiS,EAAaxZ,KAAKwZ,WAClBgR,EAAQhR,EAAWgR,MACnBzjB,EAAU/G,KAAK+G,OAGnB,KAAKQ,EAAM,EAAGA,EAAMijB,EAAMrwB,OAAQoN,IAC9BoyB,EAAW,GAAIJ,GAAiB/O,EAAMjjB,IACtCvH,KAAK5E,OAAOu+B,GACR5yB,GACA4yB,EAAS5F,SAAShtB,IAI9BU,cAAe,SAAUnE,GACN,kBAAXA,EAAEwE,OACF8O,EAAS3N,GAAGyP,MAAMd,KAAK5X,MACvBA,KAAK05B,aACEp2B,EAAEwE,OAAS0Y,GAClBxgB,KAAKs1B,QAAQt1B,KAAK45B,mBAG1BC,kBAAmB,WACf,MAAO79B,GAAcgE,KAAK45B,mBAE9BE,SAAU,WACN,OACI,gBACA95B,KAAKwZ,WAAWmR,YAAc,iBAAmB,wBAIzDmM,EAAqB2C,EAAa31B,QAClCnI,SAAUH,EAAe,iGACzBo+B,eAAgB,WAAA,GACRpgB,GAAaxZ,KAAKwZ,WAClBzQ,EAAQyQ,EAAWzQ,QACnBU,EAAM+P,EAAW/P,MACjBxN,IAEI,KACA8M,EAAM3J,IAGN,KACA2J,EAAMH,IAGN,KACAa,EAAIrK,IAGJ,KACAqK,EAAIb,GAER5I,KAAK85B,WAET,OAAO79B,MAGX86B,EAAqB0C,EAAa31B,QAClCnI,SAAUH,EAAe,iGACzBo+B,eAAgB,WAAA,GACRpgB,GAAaxZ,KAAKwZ,WAClBlR,EAASkR,EAAWlR,SACpBqK,EAAS6G,EAAW7G,SACpB1W,IAEI,KACAqM,EAAOlJ,IAGP,KACAkJ,EAAOM,IAGP,IACA+J,GAEJ3S,KAAK85B,WAET,OAAO79B,MAGX89B,EAAW3C,EAAStzB,QACpB4D,eAAgB,WACZ,GAAI0O,GAAWpW,KAAKwZ,WAAWpD,UAC/BpW,MAAKq1B,KAAK,IAAKjf,EAAStG,OAAO1Q,GAC/BY,KAAKq1B,KAAK,IAAKjf,EAAStG,OAAOlH,GAC/B5I,KAAKq1B,KAAK,QAASjf,EAAS/Z,KAAKiG,OACjCtC,KAAKq1B,KAAK,SAAUjf,EAAS/Z,KAAKkG,QAClCvC,KAAKib,cAET5e,KAAM,WACF,MAAO2D,MAAKwZ,WAAWpD,WAAW/Z,MAEtCyT,OAAQ,WACJ,MAAO9P,MAAKwZ,WAAWpD,WAAWtG,QAEtCnU,SAAUH,EAAe,6PAEzBi5B,GACAtc,MAAOgf,EACPpS,KAAM8T,EACN3T,KAAMkS,EACNjS,UAAWwT,EACXppB,OAAQqpB,EACRppB,IAAKkpB,EACLtT,MAAO8T,EACP5pB,KAAMyqB,GAENpG,EAAY,SAAUiB,EAAWvC,GACjCuC,EAAU3B,UAAYZ,IAEzB,WACG,GAAI2H,GAAe,eAAkBzH,EAAS,WAAa0H,EAAgBt2B,EAAIkxB,cAAc,OAAQqF,QAAmBC,YAAahiC,CACrI8hC,GAAchH,UAAY+G,EACtBE,GAAaD,EAAcnF,WAAWsF,cAAgB7H,IACtDoB,EAAY,SAAUiB,EAAWvC,GAC7B,GAAIgI,GAAS,GAAIF,WAAaG,EAAWD,EAAOE,gBAAgBlI,EAAK,YAAamI,EAAc72B,EAAI82B,UAAUH,EAASI,gBACvH9F,GAAU3B,UAAY,GACtB2B,EAAUrvB,YAAYi1B,QAiElCzH,EAAeC,SAAW7vB,SAAS0xB,cAAc,QAC7CzB,GACAtN,KAAM,YACNlF,KAAM,QAEVllB,EAAMq2B,QAAQM,IAAM,WAChB,MAAO1uB,GAAIg3B,eAAeC,WAAW,oDAAqD,UAE1Fl/B,EAAMq2B,QAAQM,KACd9yB,EAAEuX,eAAejU,QAAQqZ,SAAS,MAAOvE,EAAS,IAEtDrW,EAAW/B,GACPkzB,UAAWA,EACXJ,KACIqG,QAASA,EACTE,WAAYA,EACZ/B,SAAUA,EACVN,eAAgBA,EAChBgD,iBAAkBA,EAClBpC,UAAWA,EACX+B,UAAWA,EACXpC,mBAAoBA,EACpB6B,cAAeA,EACftE,KAAMA,EACN+C,SAAUA,EACVL,mBAAoBA,EACpBgD,SAAUA,EACVzH,SAAUA,EACV3a,QAASA,EACTkhB,SAAUA,EACVgC,aAAc1I,MAGxB9wB,OAAO3F,MAAMoK,SACC,kBAAV9N,SAAwBA,OAAOgK,IAAMhK,OAAS,SAAUiK,EAAIC,EAAIC,IACrEA,GAAMD,OAEV,SAAUnK,EAAGC,QACVA,OAAO,kBACH,iBACA,eACDD,IACL,YACG,SAAUqK,GAgfP,QAAS04B,GAAYxO,EAAO1nB,GAA5B,GAQYkL,GACAsiB,EAIA/1B,EAKJu4B,EAKA5a,EAGA6Y,EAzBAkI,GACAz4B,MAAO,QACPC,OAAQ,QACRy4B,KAAM,aAENnuB,EAAOyf,EAAMlK,aAyBjB,OAxBIvV,KACIiD,EAASjD,EAAK0E,YACd6gB,EAAa,GAAI7yB,GAAE4Y,MACvBia,EAAWpqB,UAAUwN,EAAExN,YAAY+H,WAAWD,EAAO1Q,GAAI0Q,EAAOlH,IAChEwpB,EAAW3Z,SAAS7e,KAAK0yB,GACzBA,EAAQ8F,EACJ/1B,EAAOwQ,EAAK2E,UAChBupB,EAASz4B,MAAQjG,EAAKiG,MAAQ,KAC9By4B,EAASx4B,OAASlG,EAAKkG,OAAS,MAEpCqC,EAAUtD,EAAWy5B,EAAUn2B,GAC3BgwB,EAAYxyB,EAAE,WAAWgW,KACzB6iB,QAAS,OACT34B,MAAOsC,EAAQtC,MACfC,OAAQqC,EAAQrC,SACjBqa,SAASzZ,SAASqC,MACjBwU,EAAU,GAAIrC,GAAQid,EAAWhwB,GACrCoV,EAAQH,kBACRG,EAAQxB,KAAK8T,GACTuG,EAAU7Y,EAAQkhB,QACtBrI,EAAQsI,OAAO,WACXnhB,EAAQpB,UACRgc,EAAU7Z,WAEP8X,EAYX,QAASuI,GAAiBC,EAAU7Q,GAChC,GAAI5tB,GAAO2tB,EAAMhjB,CACjB,KAAKA,EAAM,EAAGA,EAAMijB,EAAMrwB,OAAQoN,IAC9BgjB,EAAOC,EAAMjjB,GACb3K,EAAQlB,EAAM4/B,WAAW/Q,EAAK3tB,SAC9BA,EAAM8D,GAAK6pB,EAAKzJ,UAChBua,EAASE,aAAahR,EAAKlQ,SAAUzd,EAAM4+B,aAjiBtD,GAsPOlJ,GA4BA8E,EA2HAuB,EAQAC,EAQAF,EAMAG,EAqBAK,EAgDAa,EAyCAtF,EAhhBA9wB,EAAMR,SAAUzH,EAAQ2F,OAAO3F,MAAO4F,EAAa5F,EAAM4F,WAAYO,EAAOnG,EAAMmG,KAAM5J,EAAU4J,EAAK5J,QAAS0E,EAAgBkF,EAAKlF,cAAenB,EAAiBqG,EAAKrG,eAAgBnC,EAAiBwI,EAAKxI,eAAgBmc,EAAI9Z,EAAM0a,SAAU7W,EAAI7D,EAAMoG,QAAS8U,EAAWrX,EAAEqX,SAAUW,EAAQnV,EAAEmV,MACxS8b,EAAO,OAAQrT,EAAczgB,EAAEygB,YAAayb,EAAc,IAAO,GAAIlI,EAAQ,QAAS/b,EAAK,SAC3FG,EAAUpY,EAAEoY,QAAQ7T,QACpBC,KAAM,SAAUgD,EAASnC,GACrBrF,EAAEoY,QAAQ1O,GAAGlF,KAAK6T,KAAK5X,KAAM+G,EAASnC,GACtC5E,KAAK+G,QAAQ,GAAGksB,UAAYjzB,KAAK4zB,UAAU5zB,KAC3C,IAAI07B,GAAS17B,KAAK+G,QAAQ,GAAG+sB,iBAC7B4H,GAAOp5B,MAAQF,EAAE2E,GAASzE,QAC1Bo5B,EAAOn5B,OAASH,EAAE2E,GAASxE,SAC3BvC,KAAK6zB,aAAe6H,EACpB17B,KAAK0zB,MAAQ,GAAIpB,GAASoJ,IAE9B9iB,QAAS,WACLrZ,EAAEoY,QAAQ1O,GAAG2P,QAAQhB,KAAK5X,MACtBA,KAAK0zB,QACL1zB,KAAK0zB,MAAM9a,UACX5Y,KAAK0zB,MAAQ,MAEb1zB,KAAK27B,cACL37B,KAAK27B,YAAYjjB,cACV1Y,MAAK27B,aAEhB37B,KAAK+G,QAAQmX,IAAI1G,IAErB0C,KAAM,SACN1B,KAAM,SAAUzR,GACZxH,EAAEoY,QAAQ1O,GAAGuP,KAAKZ,KAAK5X,KAAM+G,GAC7B/G,KAAK0zB,MAAMrwB,MAAM0D,GAAU9L,OAAW+E,KAAK4E,QAAQo2B,MAC/Ch7B,KAAK27B,aACL37B,KAAK27B,YAAY5vB,KAAKhF,KAG9B2R,MAAO,WACHnZ,EAAEoY,QAAQ1O,GAAGyP,MAAMd,KAAK5X,MACxBA,KAAK0zB,MAAMhb,QACP1Y,KAAK27B,aACL37B,KAAK27B,YAAYjjB,SAGzBM,YAAa,SAAU1V,GAAV,GAEDsJ,GACA8M,CAFR,IAAI1Z,KAAK27B,YAGL,MAFI/uB,GAAQ5M,KAAKya,cAAcnX,GAC3BoW,EAAQ1Z,KAAK27B,YAAYtL,WAAWzjB,IAIhDsuB,MAAO,WAAA,GASCU,GARAzL,EAAOnwB,KAAK0zB,MACZmI,EAAc77B,KAAK6zB,aACnBiI,IAkBJ,OAjBA3L,GAAKhP,SAAS,SAAUqT,GAChBA,EAAUuH,SACVD,EAAcliC,KAAK46B,EAAUuH,WAGjCH,EAAQx5B,EAAEuwB,WACdvwB,EAAE45B,KAAKzgC,MAAM6G,EAAG05B,GAAeG,KAAK,WAChC9L,EAAK+L,aACL,KACI,GAAIC,GAAON,EAAYO,WACvBR,GAAMhJ,QAAQuJ,GAChB,MAAO74B,GACLs4B,EAAMS,OAAO/4B,MAElBg5B,KAAK,SAAUh5B,GACds4B,EAAMS,OAAO/4B,KAEVs4B,EAAM/I,WAEjBhZ,gBAAiB,WACbta,EAAEoY,QAAQ1O,GAAG4Q,gBAAgBjC,KAAK5X,MAC9BA,KAAK27B,cACL37B,KAAK27B,YAAYjjB,cACV1Y,MAAK27B,cAGpB5hB,eAAgB,WAAA,GAIJa,GACAwV,EACK7oB,CAJb,IADAhI,EAAEoY,QAAQ1O,GAAG8Q,eAAenC,KAAK5X,OAC5BA,KAAK27B,YAAa,CAInB,IAHA37B,KAAK27B,YAAc,GAAIp8B,GAAEwwB,eACrBnV,EAAa5a,KAAK0zB,MAAM9Y,WACxBwV,KACK7oB,EAAM,EAAGA,EAAMqT,EAAWzgB,OAAQoN,IACvC6oB,EAAax2B,KAAKghB,EAAWrT,GAAKiS,WAEtCxZ,MAAK27B,YAAY5vB,IAAIqkB,KAG7BrX,QAAS,WACL/Y,KAAK6zB,aAAavxB,MAAQtC,KAAKgE,MAAM1B,MACrCtC,KAAK6zB,aAAatxB,OAASvC,KAAKgE,MAAMzB,OACtCvC,KAAK0zB,MAAMzY,cAEf2Y,UAAWp4B,EAAe,wDAC1B6c,gBAAiB,WACbrY,KAAK27B,YAAc,GAAIp8B,GAAEwwB,eACzB/vB,KAAKu8B,mBAAqBhlB,EAAMvX,KAAKw8B,YAAax8B,MAClDA,KAAK+G,QAAQgX,GAAG,QAAUvG,EAAIxX,KAAKu8B,oBACnCv8B,KAAK+G,QAAQgX,GAAG,YAAcvG,EAAIxX,KAAKu8B,oBACvCh9B,EAAEoY,QAAQ1O,GAAGoP,gBAAgBT,KAAK5X,OAEtCw8B,YAAa,SAAUl5B,GAAV,GAILoW,GAEI+iB,CALJz8B,MAAK8Z,qBAGLJ,EAAQ1Z,KAAKgZ,YAAY1V,GACf,SAAVA,EAAE4W,MACEuiB,EAAez8B,KAAK08B,cACpBD,GAAgBA,IAAiB/iB,GACjC1Z,KAAKmH,QAAQ,cACTJ,QAAS01B,EACTxiB,cAAe3W,EACf4W,KAAM,eAGVR,GAAS+iB,IAAiB/iB,GAC1B1Z,KAAKmH,QAAQ,cACTJ,QAAS2S,EACTO,cAAe3W,EACf4W,KAAM,eAGdla,KAAKmH,QAAQ,aACTJ,QAAS2S,EACTO,cAAe3W,EACf4W,KAAM,cAEVla,KAAK08B,cAAgBhjB,GACdA,GACP1Z,KAAKmH,QAAQ,SACTJ,QAAS2S,EACTO,cAAe3W,EACf4W,KAAM,cAKlBma,EAAOzd,EAAS9S,QAChBC,KAAM,SAAUyV,GACZ5C,EAAS3N,GAAGlF,KAAK6T,KAAK5X,KAAMwZ,GACxBA,GACAxZ,KAAK28B,YAGbA,SAAU,WACN,GAAI7W,GAAO9lB,KAAKwZ,WAAWsM,MACvBA,KACA9lB,KAAK8lB,KAAOA,EACZA,EAAKhf,YAAY9G,QAGzB0Y,MAAO,WACC1Y,KAAKwZ,YACLxZ,KAAKwZ,WAAWxS,eAAehH,MAEnCA,KAAK48B,YACLhmB,EAAS3N,GAAGyP,MAAMd,KAAK5X,OAE3B48B,UAAW,WACH58B,KAAK8lB,OACL9lB,KAAK8lB,KAAK9e,eAAehH,YAClBA,MAAK8lB,OAGpB+W,QAAS,SAAUC,GACX98B,KAAK8lB,OACLgX,EAAIC,YACJ3F,EAASnuB,GAAG+zB,aAAaF,EAAK98B,KAAK8lB,MACnCgX,EAAIhX,SAGZre,cAAe,SAAUnE,GACN,QAAXA,EAAEwE,QACF9H,KAAK48B,YACL58B,KAAK28B,YAET/lB,EAAS3N,GAAGxB,cAAcmQ,KAAK5X,KAAMsD,IAEzC25B,aAAc,SAAUH,GACpB,GAAI98B,KAAKwZ,WAAY,CACjB,GAAIxR,GAAYhI,KAAKwZ,WAAWxR,WAC5BA,IACA80B,EAAI90B,UAAUzM,MAAMuhC,EAAK90B,EAAUC,SAAS0I,QAAQ,MAIhEusB,aAAc,SAAUpb,EAAUvlB,EAAKy+B,GACnC,GAAiBxG,GAAWhb,EAAYf,EAAUxe,EAA9Cgf,EAAOjZ,IACX,KAAK/F,EAAI,EAAGA,EAAI6nB,EAAS3nB,OAAQF,IAC7Buf,EAAasI,EAAS7nB,GACtBwe,EAAWe,EAAWf,SACtB+b,EAAY,GAAIC,GAAQjb,EAAWwH,UAAUxH,EAAYwhB,GACrDviB,GAAYA,EAASte,OAAS,GAC9Bq6B,EAAUnxB,KAAKoV,EAAUlc,EAAKy+B,GAE9B/iC,EAAQsE,GACR0c,EAAK6B,SAAS0Z,EAAWj4B,GAEzB0c,EAAK7d,OAAOo5B,IAIxBnxB,KAAM,SAAUye,EAAUvlB,EAAKy+B,GAC3Bh7B,KAAKk9B,aAAapb,EAAUvlB,EAAKy+B,GACjCh7B,KAAKib,cAETkiB,WAAY,SAAUL,GAClB,GAAI98B,KAAKwZ,WAAY,CACjB,GAAIsH,GAAU9gB,KAAKwZ,WAAWsH,SAC1B7oB,GAAQ6oB,IACR9gB,KAAKo9B,YAAYN,EAAKhc,KAIlCsc,YAAa,SAAUN,EAAK5kC,GACpBA,GAAS4kC,EAAIM,cACbllC,GAAS4kC,EAAIM,aAEjBN,EAAIM,YAAcllC,GAEtB+mB,QAAS,WACL,GAAImL,GAAMpqB,KAAKwZ,UACf,QAAQ4Q,GAAOA,GAAOA,EAAIxlB,QAAQqa,WAAY,KAGlDkY,EAAY9C,EAAKvwB,QACjBu5B,SAAU,SAAUP,GAAV,GAQFliB,GACK3gB,EACDmnB,CATR,IAAKphB,KAAKif,UAAV,CAQA,IALA6d,EAAIQ,OACJt9B,KAAKi9B,aAAaH,GAClB98B,KAAK68B,QAAQC,GACb98B,KAAKm9B,WAAWL,GACZliB,EAAa5a,KAAK4a,WACb3gB,EAAI,EAAGA,EAAI2gB,EAAWzgB,OAAQF,IAC/BmnB,EAAQxG,EAAW3gB,GACnBmnB,EAAMnC,WACNmC,EAAMic,SAASP,EAGvBA,GAAIS,aAGZh+B,GAAEwI,OAAOkZ,YAAYnd,OAAOqzB,EAAUluB,GAAI,cACtCqpB,EAAW6E,EAAUrzB,QACrBC,KAAM,SAAU23B,GACZvE,EAAUluB,GAAGlF,KAAK6T,KAAK5X,MACvBA,KAAK07B,OAASA,EACd17B,KAAK88B,IAAMpB,EAAO8B,WAAW,KAC7B,IAAIC,GAAoBlmB,EAAMvX,KAAKk8B,YAAal8B,KAChDA,MAAKib,WAAavf,EAAMgiC,SAAS,WAC7BhiC,EAAMiiC,eAAeF,IACtBhC,IAEP7iB,QAAS,WACLue,EAAUluB,GAAG2P,QAAQhB,KAAK5X,MAC1BA,KAAK07B,OAAS,KACd17B,KAAK88B,IAAM,MAEfz5B,KAAM,SAAUye,EAAUvlB,EAAKy+B,GAC3Bh7B,KAAKk9B,aAAapb,EAAUvlB,EAAKy+B,GACjCh7B,KAAKk8B,eAETA,YAAa,WACJl8B,KAAK88B,MAGV98B,KAAK88B,IAAIc,UAAU,EAAG,EAAG59B,KAAK07B,OAAOp5B,MAAOtC,KAAK07B,OAAOn5B,QACxDvC,KAAKq9B,SAASr9B,KAAK88B,SAG3Bv9B,EAAEwI,OAAOkZ,YAAYnd,OAAOwuB,EAASrpB,GAAI,cACrCmuB,EAAW/C,EAAKvwB,QAChBu5B,SAAU,SAAUP,GAChBA,EAAIQ,OACJt9B,KAAKi9B,aAAaH,GAClB98B,KAAK68B,QAAQC,GACb98B,KAAKm9B,WAAWL,GAChBA,EAAIC,YACJ/8B,KAAKg9B,aAAaF,EAAK98B,KAAKwZ,YAC5BxZ,KAAK69B,YAAYf,GACjB98B,KAAK89B,WAAWhB,GAChB98B,KAAK+9B,YAAYjB,GACjB98B,KAAKg+B,QAAQlB,GACb98B,KAAKi+B,UAAUnB,GACfA,EAAIS,WAERS,QAAS,SAAUlB,GAAV,GACDlc,GAAO5gB,KAAKwZ,WAAW5U,QAAQgc,KAC/Bsd,GAAU,CAcd,OAbItd,KACqB,YAAjBA,EAAKI,UACLhhB,KAAKm+B,gBAAgBrB,EAAKlc,GAC1Bsd,GAAU,GACFvhC,EAAcikB,EAAKhkB,SAC3BkgC,EAAIsB,UAAYxd,EAAKhkB,MACrBkgC,EAAIQ,OACJt9B,KAAKo9B,YAAYN,EAAKlc,EAAKE,SAC3Bgc,EAAIlc,OACJkc,EAAIS,UACJW,GAAU,IAGXA,GAEXC,gBAAiB,SAAUrB,EAAKlc,GAAf,GAETya,GAEItyB,EACAU,EAGAnB,EAPJuE,EAAO7M,KAAKwZ,WAAW0I,SAEvBtB,aAAgBrhB,GAAEimB,gBACdzc,EAAQ6X,EAAK7X,QACbU,EAAMmX,EAAKnX,MACf4xB,EAAWyB,EAAIuB,qBAAqBt1B,EAAM3J,EAAG2J,EAAMH,EAAGa,EAAIrK,EAAGqK,EAAIb,IAC1DgY,YAAgBrhB,GAAEkmB,iBACrBnd,EAASsY,EAAKtY,SAClB+yB,EAAWyB,EAAIwB,qBAAqBh2B,EAAOlJ,EAAGkJ,EAAOM,EAAG,EAAGN,EAAOlJ,EAAGkJ,EAAOM,EAAGgY,EAAKjO,WAExFyoB,EAAiBC,EAAUza,EAAK4J,OAChCsS,EAAIQ,OACC1c,EAAK+J,aACNmS,EAAI90B,UAAU6E,EAAKvK,QAAS,EAAG,EAAGuK,EAAKtK,SAAUsK,EAAKiD,OAAO1Q,EAAGyN,EAAKiD,OAAOlH,GAEhFk0B,EAAIsB,UAAY/C,EAChByB,EAAIlc,OACJkc,EAAIS,WAERU,UAAW,SAAUnB,GACjB,GAAIjc,GAAS7gB,KAAKwZ,WAAW5U,QAAQic,MACrC,IAAIA,IAAWlkB,EAAckkB,EAAOjkB,QAAUikB,EAAOve,MAAQ,EAOzD,MANAw6B,GAAIyB,YAAc1d,EAAOjkB,MACzBkgC,EAAI0B,UAAYnlC,EAAewnB,EAAOve,MAAO,GAC7Cw6B,EAAIQ,OACJt9B,KAAKo9B,YAAYN,EAAKjc,EAAOC,SAC7Bgc,EAAIjc,SACJic,EAAIS,WACG,GAGfnF,SAAU,WACN,GAAIvX,GAAS7gB,KAAKwZ,WAAW5U,QAAQic,MACrC,IAAIA,GAAUA,EAAOuX,SACjB,MAAOvX,GAAOuX,SAASj5B,eAG/B0+B,YAAa,SAAUf,GAAV,GAGDvE,GAFJH,EAAWp4B,KAAKo4B,UAChBA,IAAYA,GAAY7E,IACpBgF,EAAYvY,EAAYoY,GACxB0E,EAAIe,YACJf,EAAIe,YAAYtF,IAEhBuE,EAAI2B,QAAUlG,EACduE,EAAI4B,eAAiBnG,KAIjCuF,WAAY,SAAUhB,GAAV,GACJ1E,GAAWp4B,KAAKo4B,WAChBvX,EAAS7gB,KAAKwZ,WAAW5U,QAAQic,MACjCuX,IAAYA,IAAa7E,EACzBuJ,EAAItE,QAAUnF,EACPxS,GAAUA,EAAO2X,UACxBsE,EAAItE,QAAU3X,EAAO2X,UAG7BuF,YAAa,SAAUjB,GACnB,GAAIjc,GAAS7gB,KAAKwZ,WAAW5U,QAAQic,MACjCA,IAAUA,EAAO4I,WACjBqT,EAAIrT,SAAW5I,EAAO4I,WAG9BuT,aAAc,SAAUF,EAAKlhB,GAAf,GAKN+iB,GACAlX,EAEKxtB,EAGD2kC,EACAC,EACAnX,EAZJ8B,EAAW5N,EAAK4N,QACpB,IAAwB,IAApBA,EAASrvB,OAAb,CAMA,IAHIwkC,EAAMnV,EAAS,GACf/B,EAASkX,EAAIlX,SACjBqV,EAAIvV,OAAOE,EAAOroB,EAAGqoB,EAAO7e,GACnB3O,EAAI,EAAGA,EAAIuvB,EAASrvB,OAAQF,IACjC0kC,EAAMnV,EAASvvB,GACfwtB,EAASkX,EAAIlX,SACTmX,EAAUpV,EAASvvB,EAAI,GACvB4kC,EAAUD,EAAQjX,aAClBD,EAAYiX,EAAIjX,YAChBmX,GAAWnX,EACXoV,EAAIgC,cAAcD,EAAQz/B,EAAGy/B,EAAQj2B,EAAG8e,EAAUtoB,EAAGsoB,EAAU9e,EAAG6e,EAAOroB,EAAGqoB,EAAO7e,GAEnFk0B,EAAIpT,OAAOjC,EAAOroB,EAAGqoB,EAAO7e,EAGhCgT,GAAKhX,QAAQklB,QACbgT,EAAIvO,gBAIZoK,EAAgBvB,EAAStzB,QACzBk5B,aAAc,SAAUF,GAAV,GAED7iC,GADLkwB,EAAQnqB,KAAKwZ,WAAW2Q,KAC5B,KAASlwB,EAAI,EAAGA,EAAIkwB,EAAMhwB,OAAQF,IAC9Bm9B,EAASnuB,GAAG+zB,aAAaF,EAAK3S,EAAMlwB,OAI5C2+B,EAAaxB,EAAStzB,QACtBk5B,aAAc,SAAUF,GAAV,GACN1mB,GAAWpW,KAAKwZ,WAAWpD,WAC3B9W,EAAI8W,EAAS9N,OACbvJ,EAAIqX,EAASzD,MACjBmqB,GAAIroB,IAAInV,EAAEF,EAAGE,EAAEsJ,EAAG7J,EAAG,EAAa,EAAVoC,KAAKI,OAGjCm3B,EAAUtB,EAAStzB,QACnBk5B,aAAc,SAAUF,GACpB,GAAIlhB,GAAO5b,KAAKwZ,WAAW8N,QAC3B8P,GAASnuB,GAAG+zB,aAAaplB,KAAK5X,KAAM88B,EAAKlhB,MAG7Cid,EAAWzB,EAAStzB,QACpBu5B,SAAU,SAAUP,GAAV,GACFrhC,GAAOuE,KAAKwZ,WACZjd,EAAMd,EAAK0hB,WACX9gB,EAAOZ,EAAKqH,SAChBg6B,GAAIQ,OACJt9B,KAAKi9B,aAAaH,GAClB98B,KAAK68B,QAAQC,GACb98B,KAAKm9B,WAAWL,GAChBA,EAAIC,YACJD,EAAI15B,KAAO3H,EAAKmJ,QAAQxB,KACpBpD,KAAKg+B,QAAQlB,IACbA,EAAIiC,SAAStjC,EAAKghB,UAAWlgB,EAAI6C,EAAG7C,EAAIqM,EAAIvM,EAAKmG,UAEjDxC,KAAKi+B,UAAUnB,KACf98B,KAAK69B,YAAYf,GACjBA,EAAIkC,WAAWvjC,EAAKghB,UAAWlgB,EAAI6C,EAAG7C,EAAIqM,EAAIvM,EAAKmG,WAEvDs6B,EAAIS,aAGRrE,EAAY9B,EAAStzB,QACrBC,KAAM,SAAUyV,EAAYwhB,GACxB5D,EAASnuB,GAAGlF,KAAK6T,KAAK5X,KAAMwZ,GAC5BxZ,KAAKi/B,OAAS1nB,EAAMvX,KAAKi/B,OAAQj/B,MACjCA,KAAKk/B,QAAU3nB,EAAMvX,KAAKk/B,QAASl/B,MACnCA,KAAK+7B,QAAU35B,EAAEuwB,UACjB,IAAI5c,GAAM/V,KAAK+V,IAAM,GAAIqP,MACrB4V,KAAS,UAAUmE,KAAK3lB,EAAW4Q,SACnCrU,EAAIqpB,YAAcpE,GAEtBjlB,EAAIqU,IAAM5Q,EAAW4Q,MACjBrU,EAAIspB,SACJr/B,KAAKi/B,UAELlpB,EAAIupB,OAASt/B,KAAKi/B,OAClBlpB,EAAIwpB,QAAUv/B,KAAKk/B,UAG3B7B,SAAU,SAAUP,GACa,aAAzB98B,KAAK+7B,QAAQyD,UACb1C,EAAIQ,OACJt9B,KAAKi9B,aAAaH,GAClB98B,KAAK68B,QAAQC,GACb98B,KAAKy/B,UAAU3C,GACfA,EAAIS,YAGZ91B,cAAe,SAAUnE,GACL,QAAZA,EAAEwE,OACF9H,KAAK+7B,QAAU35B,EAAEuwB,WACjB3yB,KAAK+V,IAAIqU,IAAMpqB,KAAKwZ,WAAW4Q,OAE/BgN,EAASnuB,GAAGxB,cAAcmQ,KAAK5X,KAAMsD,IAG7C27B,OAAQ,WACJj/B,KAAK+7B,QAAQnJ,UACb5yB,KAAKib,cAETikB,QAAS,WACLl/B,KAAK+7B,QAAQM,OAAW1N,MAAM,yBAA4B3uB,KAAK+V,IAAIqU,IAAM,wDAE7EqV,UAAW,SAAU3C,GAAV,GACH9Z,GAAOhjB,KAAKwZ,WAAWwJ,OACvBpR,EAAKoR,EAAKvR,SACdqrB,GAAI2C,UAAUz/B,KAAK+V,IAAKnE,EAAGxS,EAAGwS,EAAGhJ,EAAGoa,EAAK1gB,QAAS0gB,EAAKzgB,aAG3Dw3B,EAAW3C,EAAStzB,QACpBk5B,aAAc,SAAUF,GAAV,GACN1mB,GAAWpW,KAAKwZ,WAAWpD,WAC3BtG,EAASsG,EAAStG,OAClBzT,EAAO+Z,EAAS/Z,IACpBygC,GAAI9Z,KAAKlT,EAAO1Q,EAAG0Q,EAAOlH,EAAGvM,EAAKiG,MAAOjG,EAAKkG,WAoClDkyB,GACAtc,MAAOgf,EACPpS,KAAM8T,EACN3T,KAAMkS,EACNjS,UAAWwT,EACXppB,OAAQqpB,EACRppB,IAAKkpB,EACLtT,MAAO8T,EACP5pB,KAAMyqB,GAWVr+B,EAAMq2B,QAAQ2J,OAAS,WACnB,QAAS/3B,EAAIkxB,cAAc,UAAU2I,cAErC9hC,EAAMq2B,QAAQ2J,QACdn8B,EAAEuX,eAAejU,QAAQqZ,SAAS,SAAUvE,EAAS,IAEzDrW,EAAW5F,EAAMoG,SACbg5B,YAAaA,EACbY,QACIhD,QAASA,EACTE,WAAYA,EACZzB,UAAWA,EACX+B,UAAWA,EACXP,cAAeA,EACftE,KAAMA,EACN+C,SAAUA,EACV2C,SAAUA,EACVzH,SAAUA,EACV3a,QAASA,EACTkhB,SAAUA,MAGpBx3B,OAAO3F,MAAMoK,SACC,kBAAV9N,SAAwBA,OAAOgK,IAAMhK,OAAS,SAAUiK,EAAIC,EAAIC,IACrEA,GAAMD,OAEV,SAAUnK,EAAGC,QACVA,OAAO,eACH,iBACA,eACDD,IACL,YACG,SAAUqK,GAi/BP,QAASs9B,KACL,GAAI/7B,EAAIg8B,aAAeh8B,EAAIg8B,WAAWC,KAAM,CACxCj8B,EAAIg8B,WAAW5zB,IAAI,OAAQ,gCAC3B,IAAI8zB,GAAal8B,EAAIm8B,YAAY3lC,OAAS,GAAKwJ,EAAIm8B,YAAY,GAAKn8B,EAAIo8B,kBACxEF,GAAWG,QAAQ,QAAS,+BAGpC,QAASC,GAAiB/lB,GACtB,GAAInT,GAAUpD,EAAIkxB,cAAc,QAAU3a,EAE1C,OADAnT,GAAQm5B,UAAY,OACbn5B,EAEX,QAASixB,GAAYzrB,GAArB,GAGatS,GAFLE,EAASoS,EAAOpS,OAChBqC,IACJ,KAASvC,EAAI,EAAGA,EAAIE,EAAQF,IACxBuC,EAAO5C,KAAK2S,EAAOtS,GAAGoW,UAAU8vB,GAAqBtvB,SAAS,EAAG,KAErE,OAAOrU,GAAO1C,KAAK,KAEvB,QAAS+9B,GAAUjc,EAAM2D,GAAzB,GAGY5lB,GAAYuC,EAAQge,EAAM6d,EAAa99B,EAF3CuvB,EAAW5N,EAAK4N,SAAUrvB,EAASqvB,EAASrvB,MAChD,IAAIA,EAAS,EAAG,CAEZ,IADIR,KACCM,EAAI,EAAGA,EAAIE,EAAQF,IACpBigB,EAAO4d,EAAYtO,EAASvvB,EAAI,GAAIuvB,EAASvvB,IACzCigB,IAAS6d,IACTA,EAAc7d,EACdvgB,EAAMC,KAAKsgB,IAGXvgB,EAAMC,KADG,MAATsgB,EACW8d,GAAaxO,EAASvvB,GAAGwtB,WAEzBuQ,GACPxO,EAASvvB,EAAI,GAAG0tB,aAChB6B,EAASvvB,GAAGytB,YACZ8B,EAASvvB,GAAGwtB,WAWxB,OAPAvrB,GAAS,KAAO87B,GAAaxO,EAAS,GAAG/B,WAAa,IAAM9tB,EAAMG,KAAK,KACnE8hB,EAAKhX,QAAQklB,SACb5tB,GAAU,MAEVqjB,KAAS,IACTrjB,GAAU,MAEPA,GAGf,QAAS47B,GAAYG,EAAcC,GAC/B,MAAOD,GAAatQ,cAAgBuQ,EAAWxQ,YAAc,IAAM,IAEvE,QAAS0Y,GAAUt4B,GACf,MAAiC,KAA1BA,EAAMgU,QAAQ,SAA6C,IAA5BhU,EAAMgU,QAAQ0E,GAExD,QAAS6f,GAAUC,EAAW/V,EAAMgW,GAApC,GAEQ3jC,GADAkkB,EAAUyf,EAAclnC,EAAekxB,EAAKzJ,UAAW,EAO3D,OAJIlkB,GADA0jC,EACQE,EAAYF,EAAW/V,EAAK3tB,QAASkkB,GAErC0f,EAAYjW,EAAK3tB,QAAS,OAAQ,EAAIkkB,GAItD,QAAS0f,GAAY9O,EAAM+O,EAAS92B,GAChC,GAAI22B,GAAY,GAAI/f,GAAMmR,GAAOgP,EAAe,GAAIngB,GAAMkgB,GAAU1hC,EAAI4hC,EAAaL,EAAUvhC,EAAG2hC,EAAa3hC,EAAG4K,GAAQ6L,EAAImrB,EAAaL,EAAU9qB,EAAGkrB,EAAalrB,EAAG7L,GAAQ9I,EAAI8/B,EAAaL,EAAUz/B,EAAG6/B,EAAa7/B,EAAG8I,EAC9N,OAAO,IAAI4W,GAAMxhB,EAAGyW,EAAG3U,GAAG+/B,QAE9B,QAASD,GAAajgC,EAAGG,EAAG8I,GACxB,MAAOnR,GAAKJ,MAAMuR,EAAQ9I,GAAK,EAAI8I,GAASjJ,GAxjCnD,GA8jCOmgC,GA7jCAl9B,EAAMR,SAAU3K,EAAO2I,KAAMwH,EAAQnQ,EAAKmQ,MAAOyL,EAAO5b,EAAK4b,KAAM1J,EAAOlS,EAAKkS,KAAMhP,EAAQ2F,OAAO3F,MAAO4F,EAAa5F,EAAM4F,WAAY0V,EAAO5U,EAAE4U,KAAMzX,EAAI7D,EAAMoG,QAAS8U,EAAWrX,EAAEqX,SAAUpB,EAAI9Z,EAAM0a,SAAUjO,EAAWqN,EAAErN,SAAUoY,EAAQ7kB,EAAM6kB,MAAO1e,EAAOnG,EAAMmG,KAAMlF,EAAgBkF,EAAKlF,cAAe1E,EAAU4J,EAAK5J,QAASe,EAAM6I,EAAK7I,IAAKZ,EAAQyJ,EAAKzJ,MAAOiB,EAAiBwI,EAAKxI,eAC5Yi6B,EAAO,OAAQ9b,EAAK,SAAU2oB,EAAsB,IAAKW,EAAkBX,EAAsBA,EAAqB3f,EAAW,WAAYugB,EAAsB,EACnKppB,EAAUpY,EAAEoY,QAAQ7T,QACpBC,KAAM,SAAUgD,EAASnC,GACrBrF,EAAEoY,QAAQ1O,GAAGlF,KAAK6T,KAAK5X,KAAM+G,EAASnC,GACtC86B,IACA1/B,KAAK+G,QAAQi6B,QACbhhC,KAAK0zB,MAAQ,GAAIpB,GACjBtyB,KAAK0zB,MAAMK,SAAS/zB,KAAK+G,QAAQ,IACjC/G,KAAK+G,QAAQgX,GAAG,QAAUvG,EAAIxX,KAAK6X,QACnC7X,KAAK+G,QAAQgX,GAAG,YAAcvG,EAAIxX,KAAK+X,aACvC/X,KAAK+G,QAAQgX,GAAG,WAAavG,EAAIxX,KAAKgY,aACtChY,KAAK+G,QAAQgX,GAAG,YAAcvG,EAAIxX,KAAKiY,aAE3CiC,KAAM,MACNtB,QAAS,WACD5Y,KAAK0zB,QACL1zB,KAAK0zB,MAAM9a,UACX5Y,KAAK0zB,MAAQ,KACb1zB,KAAK+G,QAAQmX,IAAI1G,IAErBjY,EAAEoY,QAAQ1O,GAAG2P,QAAQhB,KAAK5X,OAE9BwY,KAAM,SAAUzR,GACZxH,EAAEoY,QAAQ1O,GAAGuP,KAAKZ,KAAK5X,KAAM+G,GAC7B/G,KAAK0zB,MAAMrwB,MAAM0D,GAAU9L,OAAW,OAE1Cyd,MAAO,WACHnZ,EAAEoY,QAAQ1O,GAAGyP,MAAMd,KAAK5X,MACxBA,KAAK0zB,MAAMhb,WAGf2b,EAAOzd,EAAS9S,QAChBC,KAAM,SAAUyV,GACZ5C,EAAS3N,GAAGlF,KAAK6T,KAAK5X,KAAMwZ,GAC5BxZ,KAAK60B,gBACL70B,KAAKihC,mBAETpmB,QAAS7D,EACT4B,QAAS,WACD5Y,KAAK+G,UACL/G,KAAK+G,QAAQsS,WAAa,KAC1BrZ,KAAK+G,QAAU,MAEnB6P,EAAS3N,GAAG2P,QAAQhB,KAAK5X,OAE7B0Y,MAAO,WAAA,GAICD,GACKxe,CAAT,KAJI+F,KAAK+G,UACL/G,KAAK+G,QAAQksB,UAAY,IAEzBxa,EAAWzY,KAAK4a,WACX3gB,EAAI,EAAGA,EAAIwe,EAASte,OAAQF,IACjCwe,EAASxe,GAAG2e,SAEhB5Y,MAAK4a,eAETI,WAAY,WACJhb,KAAK+G,UACL/G,KAAK+G,QAAQnB,WAAWC,YAAY7F,KAAK+G,SACzC/G,KAAK+G,QAAU,MAEnB6P,EAAS3N,GAAG+R,WAAWpD,KAAK5X,OAEhC60B,cAAe,WACX70B,KAAK+G,QAAUpD,EAAIkxB,cAAc,QAErCoM,gBAAiB,WACbjhC,KAAK+G,QAAQsS,WAAarZ,MAE9BqD,KAAM,SAAUye,EAAUvlB,EAAKyL,EAAW8Y,GAApC,GAKO7mB,GACDuf,EACAf,EACAyoB,EACAC,EACA3M,CALR,KAJA1T,EAAUznB,EAAeynB,EAAS,GAC9B9gB,KAAKwZ,aACLsH,GAAWznB,EAAe2G,KAAKwZ,WAAW5U,QAAQkc,QAAS,IAEtD7mB,EAAI,EAAGA,EAAI6nB,EAAS3nB,OAAQF,IAC7Buf,EAAasI,EAAS7nB,GACtBwe,EAAWe,EAAWf,SACtByoB,EAAoB1nB,EAAWgI,iBAAiBxZ,GAChDm5B,EAAiBrgB,EAAUznB,EAAemgB,EAAW5U,QAAQkc,QAAS,GACtE0T,EAAY,GAAIC,IAAQjb,EAAWwH,UAAUxH,EAAY0nB,EAAmBC,GAC5E1oB,GAAYA,EAASte,OAAS,GAC9Bq6B,EAAUnxB,KAAKoV,EAAUlc,EAAK2kC,EAAmBpgB,GAEjD7oB,EAAQsE,GACRyD,KAAK8a,SAAS0Z,EAAWj4B,GAEzByD,KAAK5E,OAAOo5B,GAEhBA,EAAUT,SAAS/zB,KAAK+G,QAASxK,IAGzCw3B,SAAU,SAAUY,EAAYp4B,GACxBtE,EAAQsE,GACRo4B,EAAWI,aAAa/0B,KAAK+G,QAAS4tB,EAAWlc,SAASlc,IAAQ,MAElEo4B,EAAWpvB,YAAYvF,KAAK+G,UAGpCU,cAAe,SAAUnE,GACN,WAAXA,EAAEwE,OACF9H,KAAKoY,IAAI,UAAW9U,EAAEpL,SAAU,EAAQ,GAAKo7B,IAGrD8N,SAAU,WACNphC,KAAKu1B,OAAOv1B,KAAK81B,aAErBA,SAAU,WACN,GAAIpzB,KAOJ,OANI1C,MAAKwZ,YAAcxZ,KAAKwZ,WAAW5U,QAAQqa,WAAY,GACvDvc,EAAM9I,MACF,UACA05B,IAGD5wB,GAEX2+B,aAAc,SAAUplC,EAAOqlC,GAC3B,GAAIxgB,GAAUznB,EAAe2G,KAAK8gB,QAAS,EAC3CA,IAAWznB,EAAeioC,EAAY,GACtCrlC,EAAMrC,MACF,UACAknB,KAGRuU,KAAM,SAAUt5B,EAAM7D,GACd8H,KAAK+G,UACL/G,KAAK+G,QAAQhL,GAAQ7D,IAG7Bo9B,QAAS,SAAUr5B,GACf,IAAK,GAAIhC,GAAI,EAAGA,EAAIgC,EAAM9B,OAAQF,IAC9B+F,KAAKq1B,KAAKp5B,EAAMhC,GAAG,GAAIgC,EAAMhC,GAAG,KAGxCme,IAAK,SAAUrc,EAAM7D,GACb8H,KAAK+G,UACL/G,KAAK+G,QAAQrE,MAAM3G,GAAQ7D,IAGnCq9B,OAAQ,SAAUC,GACd,IAAK,GAAIv7B,GAAI,EAAGA,EAAIu7B,EAAOr7B,OAAQF,IAC/B+F,KAAKoY,IAAIod,EAAOv7B,GAAG,GAAIu7B,EAAOv7B,GAAG,OAIzCq4B,EAAW+B,EAAKvwB,QAChB+wB,cAAe,WACXR,EAAKprB,GAAG4rB,cAAcjd,KAAK5X,MAC3BA,KAAKu1B,SAEG,QACA,SAGA,SACA,SAGA,WACA,aAGA,aACA,cAIZ0L,gBAAiBjqB,IAEjBuqB,EAAe7lC,EAAMkI,MAAME,QAC3BC,KAAM,SAAUyV,EAAYlS,GACxBtH,KAAKwZ,WAAaA,EAClBxZ,KAAKsH,SAAWA,EAChBkS,EAAW1S,YAAY9G,OAE3B0H,eAAgB,WACZ1H,KAAKsH,SAASG,eACVK,MAAO,OACP5P,MAAO8H,KAAKwZ,cAGpBd,MAAO,WACH1Y,KAAKwZ,WAAWxS,eAAehH,SAGnCwhC,EAAenN,EAAKvwB,QACpBC,KAAM,SAAUyV,GACZ6a,EAAKprB,GAAGlF,KAAK6T,KAAK5X,KAAMwZ,GACpBA,GACAxZ,KAAK28B,YAGb9hB,QAAS,WACLjE,EAAS3N,GAAG4R,QAAQjD,KAAK5X,OAE7B81B,SAAU,WACN,GAAIpzB,GAAQ2xB,EAAKprB,GAAG6sB,SAASle,KAAK5X,KAOlC,OANIA,MAAKwZ,YAAcxZ,KAAKwZ,WAAWsM,QACnCpjB,EAAM9I,MACF,OACAoG,KAAKyhC,aAGN/+B,GAEX+E,cAAe,SAAUnE,GACN,QAAXA,EAAEwE,QACF9H,KAAK48B,YACL58B,KAAK28B,WACL38B,KAAK68B,WAETxI,EAAKprB,GAAGxB,cAAcmQ,KAAK5X,KAAMsD,IAErCoV,MAAO,WACH1Y,KAAK48B,YACLvI,EAAKprB,GAAGyP,MAAMd,KAAK5X,OAEvB28B,SAAU,WACF38B,KAAKwZ,WAAWsM,SAChB9lB,KAAK8lB,KAAO,GAAIyb,GAAavhC,KAAKwZ,WAAWsM,OAAQ9lB,MACrDA,KAAK8lB,KAAKxe,SAAWtH,OAG7B48B,UAAW,WACH58B,KAAK8lB,OACL9lB,KAAK8lB,KAAKpN,QACV1Y,KAAK8lB,KAAO,KACZ9lB,KAAKoY,IAAI,OAAQpY,KAAKyhC,cAG9B5E,QAAS,WACD78B,KAAK8lB,MACL9lB,KAAKoY,IAAI,OAAQpY,KAAKyhC,aAG9BA,SAAU,WAAA,GAIE50B,GACA4E,EACArE,EALJq0B,EAAWZ,EACX/a,EAAO9lB,KAAKwZ,WAAWsM,MAO3B,OANIA,KACIjZ,EAAO7M,KAAK0hC,SAAS5b,GACrBrU,EAAU5E,EAAK4E,UACfrE,EAAcP,EAAKO,cACvBq0B,EAAW/lC,EAAMw4B,OAAO,gCAAiCziB,EAAQ7I,EAAGwE,EAAYhO,EAAGgO,EAAYxE,EAAG6I,EAAQrS,IAEvGqiC,GAEXC,SAAU,SAAU5b,GAAV,GACFrU,GAAUzR,KAAKwZ,WAAW0I,UAAUzQ,UACpCiwB,EAAW5b,EAAK5D,SAEpB,OADAwf,GAAS5xB,OAAOC,WAAW0B,EAAQrS,GAAIqS,EAAQ7I,GACxC84B,KAGXvK,EAAYqK,EAAa19B,QACzB+wB,cAAe,WACXR,EAAKprB,GAAG4rB,cAAcjd,KAAK5X,MAC3BA,KAAKohC,YAETrN,SAAU,SAAUY,EAAYp4B,GAC5ByD,KAAKoY,IAAI,UAAWkb,GACpBe,EAAKprB,GAAG8qB,SAASnc,KAAK5X,KAAM20B,EAAYp4B,GACpCyD,KAAKwZ,WAAW5U,QAAQqa,WAAY,GACpCjf,KAAKoY,IAAI,UAAW,KAG5BupB,UAAW,SAAUhN,GACjB,GAAIiN,GAAOz+B,SAAS0+B,wBACpBD,GAAKr8B,YAAYvF,KAAK+G,SACtB4tB,EAAWpvB,YAAYq8B,IAE3B9L,SAAU,WACN,GAAIpzB,GAAQ8+B,EAAav4B,GAAG6sB,SAASle,KAAK5X,KAS1C,OARA0C,GAAM9I,MACF,WACA,aAEJ8I,EAAM9I,MACF,cACA,WAEG8I,GAEX+E,cAAe,SAAUnE,GACL,cAAZA,EAAEwE,OACF9H,KAAK8hC,mBAEO,YAAZx+B,EAAEwE,OACF9H,KAAK+hC,iBAETP,EAAav4B,GAAGxB,cAAcmQ,KAAK5X,KAAMsD,IAE7Cw+B,iBAAkB,SAAU95B,GACxB,GAA0H/N,GAAtHunB,EAAmBxhB,KAAKwZ,WAAWgI,iBAAiBxZ,GAAYyQ,EAAWzY,KAAK4a,WAAYzgB,EAASse,EAASte,MAElH,KADA6F,KAAK68B,UACA5iC,EAAI,EAAGA,EAAIE,EAAQF,IACpBwe,EAASxe,GAAG6nC,iBAAiBtgB,IAGrC2f,eAAgB,WACZ,GAAIrgB,GAAUznB,EAAe2G,KAAKwZ,WAAW5U,QAAQkc,QAAS,EAI9D,OAHI9gB,MAAKuZ,QAAUvZ,KAAKuZ,OAAO4nB,iBAC3BrgB,GAAW9gB,KAAKuZ,OAAO4nB,kBAEpBrgB,GAEXihB,eAAgB,WAAA,GAC8C9nC,GAAtDwe,EAAWzY,KAAK4a,WAAYzgB,EAASse,EAASte,OAC9C2mB,EAAU9gB,KAAKmhC,gBACnB,KAAKlnC,EAAI,EAAGA,EAAIE,EAAQF,IACpBwe,EAASxe,GAAG8nC,eAAejhB,IAGnC6b,SAAU,WAEN,GADA6E,EAAav4B,GAAG0zB,SAAS/kB,KAAK5X,MAC1BA,KAAK8lB,KAAM,CACX,GAAIjZ,GAAO7M,KAAK8lB,KAAKtM,WAAW3M,KAAK7M,KAAKwZ,WAAWgI,mBACjD3U,KACA7M,KAAKoY,IAAI,QAASvL,EAAKvK,QAAUuK,EAAKiD,OAAO1Q,GAC7CY,KAAKoY,IAAI,SAAUvL,EAAKtK,SAAWsK,EAAKiD,OAAOlH,MAI3D84B,SAAU,SAAU5b,GAChB,MAAOA,GAAKjZ,KAAK7M,KAAKwZ,WAAWgI,qBAErCob,UAAW,WACP4E,EAAav4B,GAAG2zB,UAAUhlB,KAAK5X,SAGnCgiC,EAAa3N,EAAKvwB,QAClBC,KAAM,SAAUyV,EAAYsH,GACxB9gB,KAAK8gB,QAAUA,EACfuT,EAAKprB,GAAGlF,KAAK6T,KAAK5X,KAAMwZ,IAE5Bqb,cAAe,WACX70B,KAAK+G,QAAUk5B,EAAiB,UAChCjgC,KAAKm9B,cAET11B,cAAe,SAAUnE,GACa,IAA9BA,EAAEwE,MAAMgU,QAAQ,WAChB9b,KAAKi+B,aAGb8D,eAAgB,SAAUjhB,GACtB9gB,KAAK8gB,QAAUA,EACf9gB,KAAKi+B,aAETA,UAAW,WACPj+B,KAAKs1B,QAAQt1B,KAAKu3B,cAEtB4F,WAAY,WACRn9B,KAAKi+B,aAET1G,UAAW,WAAA,GA8BKiB,GA7BR3X,EAAS7gB,KAAKwZ,WAAW5U,QAAQic,OACjC5kB,IA2CJ,OA1CI4kB,KAAWlkB,EAAckkB,EAAOjkB,QAA2B,IAAjBikB,EAAOve,OACjDrG,EAAMrC,MACF,KACA,SAEJqC,EAAMrC,MACF,QACAinB,EAAOjkB,QAEXX,EAAMrC,MACF,UACCinB,EAAOve,OAAS,GAAK,OAE1BtC,KAAKqhC,aAAaplC,EAAO4kB,EAAOC,SAC5B7oB,EAAQ4oB,EAAOuX,WACfn8B,EAAMrC,MACF,YACAinB,EAAOuX,WAGXngC,EAAQ4oB,EAAO4I,WACfxtB,EAAMrC,MACF,YACAinB,EAAO4I,WAGXxxB,EAAQ4oB,EAAO2X,WACXA,EAAU3X,EAAO2X,QAAQr5B,cACb,SAAZq5B,IACAA,EAAsB,SAAZA,EAAqB,OAASA,GAE5Cv8B,EAAMrC,MACF,SACA4+B,MAIRv8B,EAAMrC,MACF,KACA,UAGDqC,KAGXgmC,EAAW5N,EAAKvwB,QAChBC,KAAM,SAAUyV,EAAYxR,EAAW8Y,GACnC9gB,KAAK8gB,QAAUA,EACfuT,EAAKprB,GAAGlF,KAAK6T,KAAK5X,KAAMwZ,IAE5Bqb,cAAe,WACX70B,KAAK+G,QAAUk5B,EAAiB,QAChCjgC,KAAKg+B,WAETv2B,cAAe,SAAUnE,GACjB88B,EAAU98B,EAAEwE,QACZ9H,KAAKg+B,WAGb+D,eAAgB,SAAUjhB,GACtB9gB,KAAK8gB,QAAUA,EACf9gB,KAAKm9B,cAETa,QAAS,WACLh+B,KAAKs1B,QAAQt1B,KAAKs3B,YAEtB6F,WAAY,WACRn9B,KAAKg+B,WAET3I,KAAM,SAAUt5B,EAAM7D,GAAhB,GAGMgR,GAFJnC,EAAU/G,KAAK+G,OACnB,IAAIA,EAAS,CAET,IADImC,EAASnN,EAAKW,MAAM,KACjBwM,EAAO/O,OAAS,GACnB4M,EAAUA,EAAQmC,EAAOrK,QAE7BkI,GAAQmC,EAAO,IAAMhR,IAG7Bo/B,QAAS,WAAA,GACD1W,GAAO5gB,KAAKwZ,WAAWoH,OACvB3kB,IACI,KACA,SASR,OAPI2kB,KACIA,EAAKI,UAAYR,EACjBvkB,EAAQ+D,KAAKkiC,YAAYthB,GACjBjkB,EAAcikB,EAAKhkB,SAC3BX,EAAQ+D,KAAKmiC,aAAavhB,KAG3B3kB,GAEXkmC,aAAc,SAAUvhB,GACpB,GAAI3kB,KAEI,KACA,SAGA,QACA2kB,EAAKhkB,OAIb,OADAoD,MAAKqhC,aAAaplC,EAAO2kB,EAAKE,SACvB7kB,GAEXimC,YAAa,SAAUthB,GAAV,GAGL3kB,GAFA2I,EAAU5E,KAAKwZ,WAAW5U,QAC1BomB,EAAepmB,EAAQomB,cAAgBpK,EAAKoK,cAAgBpK,EAAKoK,cAcrE,OAXI/uB,GADA2kB,YAAgBrhB,GAAEimB,eACVxlB,KAAKoiC,kBAAkBxhB,GACxBA,YAAgBrhB,GAAEkmB,gBAAkB7E,EAAKyhB,WACxCriC,KAAKsiC,kBAAkB1hB,GACxBoK,EACChrB,KAAKmiC,aAAanX,KAGlB,KACA,WAKhBoX,kBAAmB,SAAUxhB,GAAV,GACX7X,GAAQ6X,EAAK7X,QACbU,EAAMmX,EAAKnX,MACXX,EAAQjH,EAAK7I,IAAI2P,EAAMc,EAAIb,EAAIG,EAAMH,EAAGa,EAAIrK,EAAI2J,EAAM3J,IACtDnD,IAEI,KACA,SAGA,OACAukB,IAGA,QACA,IAGA,SACA,SAGA,QACA,IAAM1X,GAId,OADA9I,MAAKuiC,UAAUtmC,GACRA,GAEXqmC,kBAAmB,SAAU1hB,GAAV,GACX/T,GAAO7M,KAAKwZ,WAAW0I,UACvB5Z,EAASsY,EAAKtY,SACdk6B,GAAUl6B,EAAOlJ,EAAIyN,EAAKiD,OAAO1Q,GAAKyN,EAAKvK,QAC3CmgC,GAAUn6B,EAAOM,EAAIiE,EAAKiD,OAAOlH,GAAKiE,EAAKtK,SAC3CtG,IAEI,KACA,SAGA,OACA,kBAGA,QACA,SAGA,gBACAumC,EAAS,IAAMC,IAGf,SACA;AAIR,MADAziC,MAAKuiC,UAAUtmC,GACRA,GAEXsmC,UAAW,SAAUtmC,GAAV,GASHsuB,GACKhjB,EATL3C,EAAU5E,KAAKwZ,WAAW5U,QAC1Bkc,EAAUznB,EAAe2G,KAAK8gB,QAAS,GACvC4hB,KACAlY,EAAQ5lB,EAAQgc,KAAK4J,MACrB8V,EAAY17B,EAAQ07B,UACpBqC,EAAc3iC,KAAK+G,QAAQ67B,OAAS,eAAiB,SACrDhmC,EAAQyjC,EAAUC,EAAW9V,EAAM,GAAI1J,GACvC+hB,EAASxC,EAAUC,EAAW9V,EAAMA,EAAMrwB,OAAS,GAAI2mB,EAE3D,KAASvZ,EAAM,EAAGA,EAAMijB,EAAMrwB,OAAQoN,IAClCgjB,EAAOC,EAAMjjB,GACbm7B,EAAW9oC,KAAKpB,EAAKJ,MAAsB,IAAhBmyB,EAAKlQ,UAAkB,KAAOgmB,EAAUC,EAAW/V,EAAMzJ,GAExF7kB,GAAMrC,MACF+oC,EACAD,EAAW5oC,KAAK,OAEhB,QACA8C,IAEA,SACAimC,OAIRC,EAAgBzO,EAAKvwB,QACrBC,KAAM,SAAUyV,EAAYxR,GACxBhI,KAAKgI,UAAYA,EACjBqsB,EAAKprB,GAAGlF,KAAK6T,KAAK5X,KAAMwZ,IAE5Bqb,cAAe,WACX70B,KAAK+G,QAAUk5B,EAAiB,QAChCjgC,KAAKi9B,gBAETx1B,cAAe,SAAUnE,GACL,cAAZA,EAAEwE,OACF9H,KAAK+iC,QAAQ/iC,KAAKwZ,WAAWgI,qBAGrCuhB,QAAS,SAAU/6B,GACfhI,KAAKgI,UAAYA,EACjBhI,KAAKi9B,gBAET+F,gBAAiB,WACb,MAAO,aAEX/F,aAAc,WACVj9B,KAAKs1B,QAAQt1B,KAAK21B,iBAEtBA,aAAc,WAAA,GACN3tB,GAAYhI,KAAKgI,UACjB/L,KAAYgM,EAASE,EAASH,EA6BlC,OA5BIC,IACAA,EAAO7P,MAAM2oC,GACb9kC,EAAMrC,MACF,KACA,SAEA,UAEIqO,EAAOvH,EACPuH,EAAO3I,EACP2I,EAAOpH,EACPoH,EAAO1I,EACP,EACA,GACFzF,KAAK,OAEP,SACAmO,EAAO3E,EAAI,MAAQ2E,EAAOlQ,EAAI,OAE9B,SACAiI,KAAKgjC,qBAGT/mC,EAAMrC,MACF,KACA,UAGDqC,KAGXgnC,EAAYzB,EAAa19B,QACzBC,KAAM,SAAUyV,EAAYxR,EAAW8Y,GACnC9gB,KAAK4gB,KAAO5gB,KAAKkjC,eAAe1pB,EAAYxR,EAAW8Y,GACvD9gB,KAAK6gB,OAAS,GAAImhB,GAAWxoB,EAAYsH,GACzC9gB,KAAKgI,UAAYhI,KAAKmjC,oBAAoB3pB,EAAYxR,GACtDw5B,EAAav4B,GAAGlF,KAAK6T,KAAK5X,KAAMwZ,IAEpCua,SAAU,SAAUY,EAAYp4B,GAC5ByD,KAAK4gB,KAAKmT,SAAS/zB,KAAK+G,SACxB/G,KAAK6gB,OAAOkT,SAAS/zB,KAAK+G,SAC1B/G,KAAKgI,UAAU+rB,SAAS/zB,KAAK+G,SAC7BstB,EAAKprB,GAAG8qB,SAASnc,KAAK5X,KAAM20B,EAAYp4B,IAE5C2mC,eAAgB,SAAU1pB,EAAYxR,EAAW8Y,GAC7C,MAAO,IAAImhB,GAASzoB,EAAYxR,EAAW8Y,IAE/CqiB,oBAAqB,SAAU3pB,EAAYxR,GACvC,MAAO,IAAI86B,GAActpB,EAAYxR,IAEzC6sB,cAAe,WACX70B,KAAK+G,QAAUk5B,EAAiB,SAChCjgC,KAAKojC,eACLpjC,KAAKohC,YAET35B,cAAe,SAAUnE,GACjB88B,EAAU98B,EAAEwE,OACZ9H,KAAK4gB,KAAKnZ,cAAcnE,GACa,IAA9BA,EAAEwE,MAAMgU,QAAQ,UACvB9b,KAAK6gB,OAAOpZ,cAAcnE,GACP,cAAZA,EAAEwE,MACT9H,KAAKgI,UAAUP,cAAcnE,GACV,YAAZA,EAAEwE,QACT9H,KAAK4gB,KAAKuc,aACVn9B,KAAK6gB,OAAOsc,cAEhBqE,EAAav4B,GAAGxB,cAAcmQ,KAAK5X,KAAMsD,IAE7Cw+B,iBAAkB,SAAU95B,GACxBhI,KAAKgI,UAAU+6B,QAAQ/iC,KAAKwZ,WAAWgI,iBAAiBxZ,KAE5D+5B,eAAgB,SAAUjhB,GACtBA,GAAWznB,EAAe2G,KAAKwZ,WAAW5U,QAAQkc,QAAS,GAC3D9gB,KAAK4gB,KAAKmhB,eAAejhB,GACzB9gB,KAAK6gB,OAAOkhB,eAAejhB,IAE/BgV,SAAU,SAAUxzB,EAAOC,GAAjB,GAeFwzB,GAdAP,EAASgM,EAAav4B,GAAG6sB,SAASle,KAAK5X,KAqB3C,OApBKsC,IAAUC,IACXD,EAAQC,EAAS49B,GAErB3K,EAAO57B,MACH,WACA,aAEA,QACA0I,EAAQ,OAER,SACAC,EAAS,OAETwzB,EAAS/1B,KAAKwZ,WAAW5U,QAAQmxB,OACjCA,GACAP,EAAO57B,MACH,SACAm8B,IAGDP,GAEX4N,aAAc,WACVpjC,KAAKs1B,UAEG,cACA,QAGA,YACAwL,EAAkB,IAAMA,QAKpCuC,EAAehP,EAAKvwB,QACpB+wB,cAAe,WACX70B,KAAK+G,QAAUk5B,EAAiB,QAChCjgC,KAAKsjC,eAET57B,eAAgB,WACZ1H,KAAKsjC,eAETA,YAAa,WACTtjC,KAAKq1B,KAAK,IAAKr1B,KAAKq3B,eAExBA,WAAY,WACR,MAAOQ,GAAU73B,KAAKwZ,eAG1B4d,EAAW6L,EAAUn/B,QACrBC,KAAM,SAAUyV,EAAYxR,EAAW8Y,GACnC9gB,KAAKujC,SAAWvjC,KAAKwjC,eAAehqB,GACpCypB,EAAUh6B,GAAGlF,KAAK6T,KAAK5X,KAAMwZ,EAAYxR,EAAW8Y,IAExDiT,SAAU,SAAUY,EAAYp4B,GAC5ByD,KAAKujC,SAASxP,SAAS/zB,KAAK+G,SAC5Bk8B,EAAUh6B,GAAG8qB,SAASnc,KAAK5X,KAAM20B,EAAYp4B,IAEjDinC,eAAgB,SAAUhqB,GACtB,MAAO,IAAI6pB,GAAa7pB,IAE5B9R,eAAgB,WACZ1H,KAAKujC,SAAS77B,iBACdu7B,EAAUh6B,GAAGvB,eAAekQ,KAAK5X,SAGrCyjC,EAAoBJ,EAAav/B,QACjCuzB,WAAY,WAAA,GAGA76B,GAAavC,EAAGslB,EAFpB4K,EAAQnqB,KAAKwZ,WAAW2Q,KAC5B,IAAIA,EAAMhwB,OAAS,EAAG,CAElB,IADIqC,KACCvC,EAAI,EAAGA,EAAIkwB,EAAMhwB,OAAQF,IAC1BslB,EAAOtlB,EAAIkwB,EAAMhwB,OAAS,EAC1BqC,EAAO5C,KAAKi+B,EAAU1N,EAAMlwB,GAAIslB,GAEpC,OAAO/iB,GAAO1C,KAAK,SAI3B6+B,EAAgBvB,EAAStzB,QACzB0/B,eAAgB,SAAUhqB,GACtB,MAAO,IAAIiqB,GAAkBjqB,MAGjCkqB,EAAsBZ,EAAch/B,QACpCk/B,gBAAiB,WACb,GAAIhhB,GAAchiB,KAAKwZ,WAAWpD,WAAWvJ,OAAQvE,EAAS0Z,EAAY1Z,SAAUq7B,GAAWvvB,EAAK9L,EAAOlJ,GAAKgV,EAAK4N,EAAY1f,SAAUshC,GAAWxvB,EAAK9L,EAAOM,GAAKwL,EAAK4N,EAAYzf,SACxL,OAAOohC,GAAU,IAAMC,KAG3BhL,EAAaqK,EAAUn/B,QACvB+wB,cAAe,WACX70B,KAAK+G,QAAUk5B,EAAiB,QAChCjgC,KAAKohC,YAET+B,oBAAqB,SAAU3pB,EAAYxR,GACvC,MAAO,IAAI07B,GAAoBlqB,EAAYxR,IAE/CN,eAAgB,WACZu7B,EAAUh6B,GAAGvB,eAAekQ,KAAK5X,MACjCA,KAAKohC,WACLphC,KAAK8hC,oBAEThM,SAAU,WAAA,GACF1f,GAAWpW,KAAKwZ,WAAWpD,WAC3BzD,EAASyD,EAASzD,OAClBrK,EAAS8N,EAAS9N,OAClBu7B,EAAWzvB,EAAc,EAATzB,GAChB6iB,EAASyN,EAAUh6B,GAAG6sB,SAASle,KAAK5X,KAAM6jC,EAAUA,EAQxD,OAPArO,GAAO57B,MACH,OACAwa,EAAK9L,EAAOlJ,EAAIuT,GAAU,OAE1B,MACAyB,EAAK9L,EAAOM,EAAI+J,GAAU,OAEvB6iB,KAGXsO,EAAcT,EAAav/B,QAC3BuzB,WAAY,WACR,MAAOQ,GAAU73B,KAAKwZ,WAAW8N,aAGrCoR,EAAUtB,EAAStzB,QACnB0/B,eAAgB,SAAUhqB,GACtB,MAAO,IAAIsqB,GAAYtqB,MAG3BuqB,GAAmBV,EAAav/B,QAChC+wB,cAAe,WACXwO,EAAap6B,GAAG4rB,cAAcjd,KAAK5X,MACnCA,KAAKq1B,KAAK,cAAc,IAE5BgC,WAAY,WAAA,GACJrU,GAAOhjB,KAAKwZ,WAAWwJ,OACvB1a,EAAS0a,EAAK1a,QAClB,OAAO,KAAO0vB,GAAa,GAAIxiB,GAAEvK,MAAM+X,EAAKvR,UAAUrS,EAAGkJ,EAAOM,KAAO,MAAQovB,GAAa,GAAIxiB,GAAEvK,MAAM+X,EAAK5V,cAAchO,EAAGkJ,EAAOM,QAGzIo7B,GAAe3P,EAAKvwB,QACpB+wB,cAAe,WACX70B,KAAK+G,QAAUk5B,EAAiB,YAChCjgC,KAAKq1B,KAAK,MAAM,GAChBr1B,KAAKq1B,KAAK,WAAW,GACrBr1B,KAAKohC,WACLphC,KAAKikC,aAETx8B,cAAe,SAAUnE,GACL,YAAZA,EAAEwE,MACF9H,KAAKikC,YAELjkC,KAAKohC,WAET/M,EAAKprB,GAAGxB,cAAcmQ,KAAK5X,KAAMsD,IAErCwyB,SAAU,WACN,QACQ,OACA91B,KAAKwZ,WAAW5U,QAAQxB,QAGpC6gC,UAAW,WACPjkC,KAAKq1B,KAAK,SAAUr1B,KAAKwZ,WAAWiD,cAGxCoc,GAAWzB,EAAStzB,QACpBC,KAAM,SAAUyV,EAAYxR,EAAW8Y,GACnC9gB,KAAK4b,KAAO,GAAIooB,IAAaxqB,GAC7B4d,EAASnuB,GAAGlF,KAAK6T,KAAK5X,KAAMwZ,EAAYxR,EAAW8Y,IAEvD0iB,eAAgB,SAAUhqB,GACtB,MAAO,IAAIuqB,IAAiBvqB,IAEhCua,SAAU,SAAUY,EAAYp4B,GAC5ByD,KAAK4b,KAAKmY,SAAS/zB,KAAK+G,SACxBqwB,EAASnuB,GAAG8qB,SAASnc,KAAK5X,KAAM20B,EAAYp4B,IAEhDkL,cAAe,SAAUnE,GACL,SAAZA,EAAEwE,OAAgC,YAAZxE,EAAEwE,QACxB9H,KAAK4b,KAAKnU,cAAcnE,GACxBtD,KAAKujC,SAAS77B,eAAepE,IAEjC8zB,EAASnuB,GAAGxB,cAAcmQ,KAAK5X,KAAMsD,MAGzC4gC,GAAoBb,EAAav/B,QACjCuzB,WAAY,WAAA,GACJrU,GAAOhjB,KAAKwZ,WAAWwJ,OACvBpH,GAAO,GAAIrc,GAAE2lB,MAAOqC,OAAOvE,EAAKvR,WAAWiY,OAAO1G,EAAKtR,YAAYgY,OAAO1G,EAAK5V,eAAesc,OAAO1G,EAAKrR,cAAcxE,OAC5H,OAAO0qB,GAAUjc,MAGrBuoB,GAAgBrB,EAAch/B,QAC9BC,KAAM,SAAUyV,EAAYxR,EAAW8Y,GACnC9gB,KAAK8gB,QAAUA,EACfgiB,EAAc75B,GAAGlF,KAAK6T,KAAK5X,KAAMwZ,EAAYxR,IAEjD6sB,cAAe,WACX70B,KAAK+G,QAAUk5B,EAAiB,QAChCjgC,KAAKq1B,KAAK,OAAQ,SAClBr1B,KAAKq1B,KAAK,UAAU,GACpBr1B,KAAKm9B,aACLn9B,KAAKokC,SACLpkC,KAAKi9B,gBAETx1B,cAAe,SAAUnE,GACL,QAAZA,EAAEwE,OACF9H,KAAKokC,SAETtB,EAAc75B,GAAGxB,cAAcmQ,KAAK5X,KAAMsD,IAE9CoE,eAAgB,WACZ1H,KAAK+iC,WAEThB,eAAgB,SAAUjhB,GACtB9gB,KAAK8gB,QAAUA,EACf9gB,KAAKm9B,cAETA,WAAY,WACR,GAAIlhC,KACJ+D,MAAKqhC,aAAaplC,EAAO+D,KAAKwZ,WAAW5U,QAAQkc,SACjD9gB,KAAKs1B,QAAQr5B,IAEjBmoC,OAAQ,WACJpkC,KAAKq1B,KAAK,MAAOr1B,KAAKwZ,WAAW4Q,QAErCuL,aAAc,WAAA,GAMNv2B,GACAwJ,EAMIX,EACAo8B,EACAC,EAGAC,EACAC,EAGIl8B,EArBRyN,EAAM/V,KAAKwZ,WACXirB,EAAU1uB,EAAImM,UACdwiB,EAAYD,EAAQn8B,SACpBq8B,EAAaxE,EAAsB,EACnCyE,EAAWzE,EAGX79B,EAAQmiC,EAAQniC,QAAUsiC,EAC1BriC,EAASkiC,EAAQliC,SAAWqiC,EAC5B97B,EAAQ,EACRd,EAAYhI,KAAKgI,SA2BrB,OA1BIA,IACIC,EAASE,EAASH,GAClBq8B,EAAK35B,EAAKzC,EAAOvH,EAAIuH,EAAOvH,EAAIuH,EAAOpH,EAAIoH,EAAOpH,GAClDyjC,EAAK55B,EAAKzC,EAAO3I,EAAI2I,EAAO3I,EAAI2I,EAAO1I,EAAI0I,EAAO1I,GACtD+C,GAAS+hC,EACT9hC,GAAU+hC,EACNC,EAAKvrC,EAAI2P,EAAMV,EAAOpH,EAAGoH,EAAO1I,IAChCilC,EAAKxrC,EAAI2P,GAAOV,EAAO3I,EAAG2I,EAAOvH,IACrCoI,GAASy7B,EAAKC,GAAM,EACN,IAAV17B,GACIR,EAASyN,EAAIlJ,OAAOvE,SACxBlJ,GAAKkJ,EAAOlJ,EAAIulC,GAAcC,EAC9Bh8B,GAAKN,EAAOM,EAAI+7B,GAAcC,IAE9BxlC,GAAKslC,EAAUtlC,EAAIilC,EAAKp8B,EAAO3E,EAAIqhC,GAAcC,EACjDh8B,GAAK87B,EAAU97B,EAAI07B,EAAKr8B,EAAOlQ,EAAI4sC,GAAcC,KAGrDxlC,GAAKslC,EAAUtlC,EAAIulC,GAAcC,EACjCh8B,GAAK87B,EAAU97B,EAAI+7B,GAAcC,GAErCtiC,EAAQlK,EAAMkK,EAAOy+B,GACrBx+B,EAASnK,EAAMmK,EAAQw+B,GACvB3hC,EAAIhH,EAAMgH,EAAG2hC,GACbn4B,EAAIxQ,EAAMwQ,EAAGm4B,GACbj4B,EAAQ1Q,EAAM0Q,EAAOi4B,KAGb,OACAz+B,EAAQ,IAAMC,IAGd,WACAnD,EAAI,IAAMwJ,IAGV,QACAE,OAKZowB,GAAY9B,EAAStzB,QACrBo/B,eAAgB,SAAU1pB,EAAYxR,EAAW8Y,GAC7C,MAAO,IAAIqjB,IAAc3qB,EAAYxR,EAAW8Y,IAEpD0iB,eAAgB,SAAUhqB,GACtB,MAAO,IAAI0qB,IAAkB1qB,IAEjC/R,cAAe,SAAUnE,GACL,QAAZA,EAAEwE,OAA+B,cAAZxE,EAAEwE,OACvB9H,KAAK4gB,KAAKnZ,cAAcnE,GAE5B8zB,EAASnuB,GAAGxB,cAAcmQ,KAAK5X,KAAMsD,IAEzCoE,eAAgB,WACZ1H,KAAK4gB,KAAKlZ,iBACV0vB,EAASnuB,GAAGvB,eAAekQ,KAAK5X,OAEpC8hC,iBAAkB,SAAU95B,GACxBovB,EAASnuB,GAAG64B,iBAAiBlqB,KAAK5X,KAAMgI,GACxChI,KAAK4gB,KAAKmiB,QAAQ/iC,KAAKwZ,WAAWgI,iBAAiBxZ,OAGvD68B,GAAexB,EAAav/B,QAC5BuzB,WAAY,WAAA,GACJrU,GAAOhjB,KAAKwZ,WAAWpD,WACvBzc,GACA,IACAq+B,GAAahV,EAAKvR,YAClB,IACAumB,GACIhV,EAAKtR,WACLsR,EAAK5V,cACL4V,EAAKrR,eAET,MAEJ,OAAOhY,GAAMG,KAAK,QAGtBigC,GAAW3C,EAAStzB,QACpB0/B,eAAgB,SAAUhqB,GACtB,MAAO,IAAIqrB,IAAarrB,MAG5Bib,IACAtc,MAAOgf,EACPpS,KAAM8T,GACN3T,KAAMkS,EACNjS,UAAWwT,EACXppB,OAAQqpB,EACRppB,IAAKkpB,EACLtT,MAAO8T,GACP5pB,KAAMyqB,GA2EVr+B,GAAMq2B,QAAQ+S,IAAM,WAChB,GAAI9S,GAAUt2B,EAAMq2B,QAAQC,OAC5B,OAAOA,GAAQC,MAAQD,EAAQ+S,QAAU,KAEzClE,EAAa,UACbnlC,EAAMq2B,QAAQC,QAAQC,MAAQv2B,EAAMq2B,QAAQC,QAAQ+S,QAAU,IAC9DlE,EAAa,6BAEbnlC,EAAMq2B,QAAQ+S,KACdvlC,EAAEuX,eAAejU,QAAQqZ,SAAS,MAAOvE,EAAS,IAEtDrW,EAAW/B,GACPulC,KACIhB,YAAaA,EACbpL,QAASA,EACTgL,oBAAqBA,EACrB9K,WAAYA,EACZqJ,SAAUA,EACV9K,UAAWA,EACX+B,UAAWA,GACXiL,cAAeA,GACfD,kBAAmBA,GACnBT,kBAAmBA,EACnB9K,cAAeA,EACftE,KAAMA,EACNgP,aAAcA,EACdjM,SAAUA,EACVyN,aAAcA,GACd9K,SAAUA,GACVzH,SAAUA,EACV0P,WAAYA,EACZrqB,QAASA,EACTkhB,SAAUA,GACVmL,aAAcA,GACdD,iBAAkBA,GAClBjB,cAAeA,MAGzBzhC,OAAO3F,MAAMoK,SACC,kBAAV9N,SAAwBA,OAAOgK,IAAMhK,OAAS,SAAUiK,EAAIC,EAAIC,IACrEA,GAAMD,OAEV,SAAUnK,EAAGC,QACVA,OAAO,gBACH,cACA,iBACA,YACA,qBACDD,IACL,YACG,SAAUqK,EAAGmrB,EAAYpsB,GACtB,YAwBA,SAAS6jC,GAAMC,GACX,MAAoB,gBAATA,IAEH7lC,EAAG6lC,EACHr8B,EAAGq8B,GAGPlU,MAAM/B,QAAQiW,IAEV7lC,EAAG6lC,EAAM,GACTr8B,EAAGq8B,EAAM,KAIb7lC,EAAG6lC,EAAM7lC,EACTwJ,EAAGq8B,EAAMr8B,GAGjB,QAASs8B,GAAQn+B,EAASnC,GAgBtB,QAASugC,GAAMp+B,GAAf,GACQulB,GAAQ,GAAIxqB,IAAQqW,MACpB5b,EAAMwK,EAAQq+B,uBAuBlB,OAtBAnI,GAAa3Q,GACTpc,EAAM9Q,EACN,EACA,EACA8Q,EAAMtH,GACLrM,EAAI0E,KAAOiP,EAAM9Q,GACjB7C,EAAIkW,IAAMvC,EAAMtH,IAErBy8B,GAASC,UAAW,EACpBD,GAASxvB,QAAU0vB,GAAI91B,OAAOkG,OAC9B0vB,GAASG,kBACLz+B,QAASA,EACTulB,MAAOA,GAGP+Y,GAASI,YADT7gC,EAAQ8gC,cAAe,EACA,IAEA9gC,EAAQ8gC,WAEnCtjC,EAAE2E,GAAS2Y,SAAS,gBACpBimB,GAAc5+B,EAASulB,GACvBlqB,EAAE2E,GAAS0Y,YAAY,gBAChB6M,EA8EX,QAASsZ,GAAajqC,GAClB,GAAgB,MAAZA,EAIA,MAHuB,gBAAZA,KACPA,EAAWD,MAAMC,SAASA,EAASyxB,QAAQ,aAAc,MAEtC,kBAAZzxB,GACA,SAAUwgC,GACb,GAAI0J,GAAKlqC,EAASwgC,EAClB,IAAI0J,EAIA,MAHiB,gBAANA,KACPA,EAAKA,EAAGzY,QAAQ,aAAc,KAE3BhrB,EAAEyjC,GAAI,IAIlB,WACH,MAAOzjC,GAAEzG,GAAUkU,QAAQ,IAIvC,QAASi2B,GAAWD,GAApB,GAGYE,GAAaC,EAAmB/rC,EAChCkiC,EAHJtsB,EAAQg2B,EAAGvgC,WAAU,EACzB,IAAmB,GAAfugC,EAAG7kB,SAAe,CACd+kB,EAAM3jC,EAAEyjC,GAAKG,EAAS5jC,EAAEyN,GACxBssB,EAAO4J,EAAI5J,MACf,KAAKliC,IAAKkiC,GACN6J,EAAO7J,KAAKliC,EAAGkiC,EAAKliC,GAExB,IAAI,YAAYklC,KAAK0G,EAAGI,SACpBp2B,EAAM2tB,WAAW,MAAMiC,UAAUoG,EAAI,EAAG,OACrC,IAAI,WAAW1G,KAAK0G,EAAGI,SAC1BJ,EAAGnQ,gBAAgB,YAEnB,KAAKz7B,EAAI4rC,EAAG/Q,WAAY76B,EAAGA,EAAIA,EAAEisC,YAC7Br2B,EAAMtK,YAAYugC,EAAW7rC,IAIzC,MAAO4V,GAEX,QAASs2B,GAAiBljC,EAAU8D,EAASq/B,EAAYC,EAAWC,EAAYC,EAAQ3hC,GAuCpF,QAAS4hC,KA2BL,QAASC,KACLC,EAA4BC,EAAO,WAC/B1jC,GACI0jC,MAAOA,EACP/R,UAAWA,MA/B3B,GAIQgS,GAII15B,GAPU,KAAdk5B,GAAqBE,IACrBO,EAAaC,GAEbF,EAAOG,IACXD,EAAKlhC,WAAWmvB,aAAa6R,EAAME,GACnCF,EAAKrhC,YAAYuhC,GACbnrC,GACIuR,EAAQy5B,EAAMxsC,OAClBwsC,EAAMK,QAAQ,SAAUJ,EAAM3sC,GAC1B,GAAI4rC,GAAKlqC,GACLoL,QAAS6/B,EACTK,QAAShtC,EAAI,EACbitC,WAAYP,EAAMxsC,QAElB0rC,KACAe,EAAKrhC,YAAYsgC,GACjBsB,EAAYtB,EAAI,WACI,MAAV34B,GACFu5B,UAMhBA,IAWR,QAASW,GAAaC,GAClB,GAAIziC,EAAQwiC,cAAgBC,EAAK/tB,GAAG1U,EAAQwiC,eAAiBC,EAAK9kC,UAAY+jC,EAAagB,EACvF,OAAO,CAEX,IAAIC,GAAMF,EAAK,GAAGpB,OAClB,SAAI,YAAY9G,KAAKoI,IAAQF,EAAK9kC,UAAY+jC,EAAagB,KAGpDD,EAAKlL,KAAK,eAAiB,2FAA2FgD,KAAKoI,IAEtI,QAASV,GAAa9/B,GAAtB,GAMQygC,GACK3B,EAGGwB,EAYAI,EArBR/kC,EAAQglC,EAAiB3gC,GACzB4gC,EAAgBpa,EAAWqa,EAAiBllC,EAAO,mBACnDmlC,EAAeta,EAAWqa,EAAiBllC,EAAO,wBAClDolC,EAAaR,CAGjB,KAFAA,GAAUK,EAAgBE,EACtBL,GAAU,EACL3B,EAAK9+B,EAAQ+tB,WAAY+Q,EAAIA,EAAKA,EAAGK,YAC1C,GAAmB,GAAfL,EAAG7kB,SAAe,CAGlB,GAFAwmB,GAAU,EACNH,EAAOjlC,EAAEyjC,GACTwB,EAAK/tB,GAAG8sB,GAAa,CACrB2B,EAAelC,EACf,UAEJ,IAAKS,EAAY,CACbO,EAAahB,EACb,UAEJ,IAAK,wBAAwB1G,KAAKyI,EAAiBF,EAAiB7B,GAAK,aACrE,QAEA4B,GAAOO,EAAcnC,GACb,GAAR4B,EACAM,EAAelC,GACR4B,GACHL,EAAaC,GACbU,EAAelC,GAKnBgB,EAAahB,OAEK,IAAfA,EAAG7kB,UAAiBslB,IAC3B2B,EAAUpC,EAAI2B,GACdA,GAAU,EAGlBF,GAASQ,EAEb,QAASI,GAAcrC,GACnB,GAAIptC,GAAIotC,EAAGjgC,WAAYvK,EAAQ5C,EAAEq8B,UACjC,IAAI+Q,IAAOxqC,EACP,OAAO,CAEX,IAAIwqC,IAAOptC,EAAEggB,SAAS,GAAI,CACtB,GAAsB,GAAlBpd,EAAM2lB,UAAmC,GAAlB3lB,EAAM2lB,SAC7B,OAAO,CAEX,IAAsB,GAAlB3lB,EAAM2lB,SACN,OAAQ,KAAKme,KAAK9jC,EAAM8gC,MAGhC,OAAO,EAEX,QAAS4L,GAAelC,GAAxB,GAIQsC,GAAOC,EAAUC,EAAOC,EAAMC,EAU9B3B,EACA13B,CAdJ,OAAmB,IAAf22B,EAAG7kB,UAAiB6kB,IAAOiB,GAAQoB,EAAcrC,GAC1CkC,EAAelC,EAAGjgC,aAG7BuiC,EAAQ/lC,EAAEyjC,GAAI9lB,QAAQ,SACtBqoB,EAAWD,EAAMK,KAAK,kBAClB5jC,EAAQ6jC,gBACRJ,EAAQF,EAAMK,KAAK,eACnBF,EAAOlmC,EAAEyjC,GAAI9lB,QAAQ,6BACjBuoB,EAAK,IAAMA,EAAK,GAAGI,cAAc,wBACjCH,EAAWD,EAAKE,KAAK,0BAGzB5B,EAAOG,IACP73B,EAAQvL,EAAIglC,cAChBz5B,EAAM05B,eAAe9B,GACrB53B,EAAM25B,aAAahD,GACnBe,EAAKrhC,YAAY2J,EAAM45B,mBACvBhC,EAAKlhC,WAAWmvB,aAAa6R,EAAME,GAC/BqB,EAAM,KACNA,EAAQ/lC,EAAEyjC,GAAI9lB,QAAQ,SAClBnb,EAAQ6jC,eAAiBJ,EAAM,IAC/BA,EAAMx4B,QAAQ8P,UAAUwoB,GAExBC,EAAS,IACTA,EAASv4B,QAAQ8P,UAAUwoB,SAG/BvjC,EAAQ6jC,eAAiBF,GAAYA,EAAS,KAC9CD,EAAOlmC,EAAEyjC,GAAI9lB,QAAQ,6BACjBwoB,EAAS,IACTA,EAAS14B,QAAQ8P,UAAU2oB,MAIvC,QAASvB,KACL,GAAIH,GAAOjjC,EAAIkxB,cAAc,iBAe7B,OAdAzyB,GAAEwkC,GAAMxuB,KACJ6iB,QAAS,QACT8N,UAAW,cACXzmC,MAAO+jC,GAAa,OACpB2C,QAASzC,EAAO9zB,IAAM,MAAQ8zB,EAAOrlC,MAAQ,MAAQqlC,EAAO7zB,OAAS,MAAQ6zB,EAAOtlC,KAAO,KAC3Fkc,SAAU,WACV5a,OAAQ+jC,GAAc,OACtB2C,SAAU3C,GAAcD,EAAY,SAAW,UAC/C3tB,MAAO,SAEP9T,GAAWA,EAAQskC,gBACnBtC,EAAK1G,UAAYt7B,EAAQskC,eAE7BvC,EAAM/sC,KAAKgtC,GACJA,EAEX,QAASoB,GAAc/C,GAAvB,GAKQxyB,GACA02B,EALAnkC,EAAMigC,EAAMG,uBAChB,OAAkB,KAAdpgC,EAAI1C,OAA8B,IAAf0C,EAAIzC,OAChB,GAEPkQ,EAAMq0B,EAAK1B,wBAAwB3yB,IACnC02B,EAAY7C,EAAagB,EACtBtiC,EAAIzC,OAAS4mC,EAAY,EAAInkC,EAAIyN,IAAMA,EAAM02B,EAAY,EAAInkC,EAAI0N,OAASD,EAAM02B,EAAY,EAAI,GAE3G,QAASlB,GAAUhvB,EAAMuuB,GAAzB,GAIQ4B,GACAl6B,EAEAu4B,EAIA4B,EAuBQzC,CAjCP,MAAKzH,KAAKlmB,EAAKkjB,QAGhBiN,EAAMnwB,EAAKkjB,KAAKhiC,OAChB+U,EAAQvL,EAAIglC,cAChBz5B,EAAMo6B,mBAAmBrwB,GACrBwuB,EAAOO,EAAc94B,GACpBu4B,IAGD4B,EAAWpwB,EACH,GAARwuB,EAEIM,EADAP,EACevuB,EAAKrT,WAELqT,KAGlB,QAASswB,GAAQ5wC,EAAK4D,EAAK3D,GAExB,MADAsW,GAAMs6B,OAAOvwB,EAAM1c,GACf5D,GAAO4D,GAAOA,GAAO3D,EACd2D,EAEPyrC,EAAc94B,GACPq6B,EAAQ5wC,EAAKA,EAAM4D,GAAO,EAAGA,GAE7BgtC,EAAQhtC,EAAKA,EAAM3D,GAAO,EAAGA,IAE1C,EAAGwwC,GAAO,EAAGA,IACV,KAAKjK,KAAKjwB,GAAAA,IAAqBs4B,EAChCO,EAAe9uB,EAAKrT,aAEpByjC,EAAWpwB,EAAKgvB,UAAU/4B,EAAMu6B,WAC5B7C,EAAOG,IACX73B,EAAM05B,eAAe9B,GACrBF,EAAKrhC,YAAY2J,EAAM45B,mBACvBhC,EAAKlhC,WAAWmvB,aAAa6R,EAAME,KAG3CmB,EAAUoB,KApPlB,GACQ1tC,GAAWiqC,EAAahhC,EAAQjJ,UAChCgI,EAAMoD,EAAQ2iC,cACd/C,KACAG,EAAOliC,EAAQ+kC,aAAe5iC,EAAU++B,EAAW/+B,GACnD6tB,EAAYjxB,EAAIkxB,cAAc,sBAC9ByS,EAAS,CACbllC,GAAE0kC,GAAM0B,KAAK,SAASoB,KAAK,WACvB5pC,KAAK4F,WAAWL,YAAYvF,QAEhCoC,EAAE0kC,GAAM0B,KAAK,MAAMoB,KAAK,WACpBxnC,EAAEpC,MAAMyY,WAAWmxB,KAAK,SAAU3iC,GAC9BjH,KAAKm0B,aAAa,oBAAqBltB,OAG/C7E,EAAEwyB,GAAWxc,KACT6iB,QAAS,QACT9d,SAAU,WACV4rB,UAAW,cACX9nC,KAAM,WACNwR,IAAK,aAEL4zB,IACAjkC,EAAEwyB,GAAWxc,KACT9V,MAAO+jC,EACP/rB,YAAaisB,EAAOtlC,KACpB4oC,aAActD,EAAOrlC,QAEzBkB,EAAE0kC,GAAM1uB,KAAM6wB,SAAU,YAE5BliC,EAAQnB,WAAWmvB,aAAaH,EAAW7tB,GAC3C6tB,EAAUrvB,YAAYuhC,GAClBliC,EAAQklC,gBACRxqB,WAAW,WACP1a,EAAQklC,gBAAgBlV,EAAW4R,IACpC,IAEHlnB,WAAWknB,EAAa,IArMpC,GAIQ5K,GAWA1rB,CATJ,IALKtL,IACDA,MAEAg3B,EAAQx5B,EAAEuwB,WACd5rB,EAAU3E,EAAE2E,GAAS,IAChBA,EACD,MAAO60B,GAAMS,OAAO,uBAExB,IAAsC,kBAA3Bh7B,QAAOqmC,iBACd,KAAU/Y,OAAM,mLA6YpB,OA3YIjzB,OAAMquC,KACNruC,MAAMquC,IAAIC,WAAWC,EAAaljC,EAAQ2iC,gBAE1Cx5B,EAAQ80B,EAAMpgC,EAAQsL,OAAS,GA4BnCi3B,EAAYpgC,EAAS,WAAA,GAgCTulB,GA/BJ8Z,EAAaxhC,GAAWA,EAAQslC,eAChCC,EAAevlC,GAAWA,EAAQwlC,WAAkC,QAArBxlC,EAAQwlC,UACvDC,EAAe3uC,MAAMquC,IAAIO,gBAAgB,SAAU5wC,EAAK6wC,GACxD,MAAW,aAAP7wC,EACOywC,EAAevlC,EAAQlL,GAAO,KAElCA,IAAOkL,GAAUA,EAAQlL,GAAO6wC,IAEvClE,EAAY8D,GAAgBE,EAAaD,UAAU,GACnD9D,EAAa6D,GAAgBE,EAAaD,UAAU,GACpD7D,EAAS3hC,EAAQ2hC,QAAU8D,EAAa9D,OACxCiE,IAAcjE,CACdH,IAAcE,GACTC,IACDA,GACItlC,KAAM,EACNwR,IAAK,EACLvR,MAAO,EACPwR,OAAQ,IAGZ2zB,IACAA,GAAan2B,EAAM9Q,GAEnBknC,IACAA,GAAcp2B,EAAMtH,GAExB29B,EAAOtlC,MAAQiP,EAAM9Q,EACrBmnC,EAAOrlC,OAASgP,EAAM9Q,EACtBmnC,EAAO9zB,KAAOvC,EAAMtH,EACpB29B,EAAO7zB,QAAUxC,EAAMtH,EACnB0jB,EAAQ,GAAIxqB,IAAQqW,OACpB4xB,KACIU,WAAW,EACXL,UAAWD,EAAeE,EAAaD,UAAY,OACnDM,cAAeF,KAGvBrE,EAAiB,SAAU/mC,GACvB,GAAIwF,EAAQ+lC,SAAU,CAClB,GAAIC,IAAW,EAAO3D,EAAU,GAC/B,QAASR,KACN,GAAIQ,EAAU7nC,EAAEunC,MAAMxsC,OAAQ,CAC1B,GAAIysC,GAAOzB,EAAM/lC,EAAEunC,MAAMM,GACzB3a,GAAMlxB,OAAOwrC,GACbhiC,EAAQ+lC,UACJ/D,KAAMA,EACNK,UAAWA,EACXC,WAAY9nC,EAAEunC,MAAMxsC,OACpB0wC,OAAQ,WACJD,GAAW,KAGdA,EAGDxrC,EAAEw1B,UAAUhvB,WAAWC,YAAYzG,EAAEw1B,WAFrCtV,WAAWmnB,OAKfrnC,GAAEw1B,UAAUhvB,WAAWC,YAAYzG,EAAEw1B,WACrCgH,EAAMhJ,QAAQtG,UAItBltB,GAAEunC,MAAMK,QAAQ,SAAUJ,GACtBta,EAAMlxB,OAAO+pC,EAAMyB,MAEvBxnC,EAAEw1B,UAAUhvB,WAAWC,YAAYzG,EAAEw1B,WACrCgH,EAAMhJ,QAAQtG,IAEnBvlB,EAASq/B,EAAYC,EAAYA,EAAYE,EAAOtlC,KAAOslC,EAAOrlC,MAAQ,KAAMolC,EAAaA,EAAaC,EAAO9zB,IAAM8zB,EAAO7zB,OAAS,KAAM6zB,EAAQ3hC,IAExJg3B,EAAMhJ,QAAQuS,EAAMp+B,MAmSrB60B,EAAM/I,UAkNjB,QAASoX,GAAatmC,GASlB,QAASmnC,GAAaC,GAClB,GAAIA,EAAI,CACJ,GAAIC,GAAQ,IACZ,KACIA,EAAQD,EAAGE,SACb,MAAOC,IAELF,GACAG,EAASJ,EAAIC,IAIzB,QAASI,GAAUC,GAAnB,GAWYjoC,GAVJgnB,EAAMwd,EAAiByD,EAAK3oC,MAAO,MACvC,OAAI0nB,GACOkhB,GAAclhB,GAAKmhB,OAAO,SAAU7qC,EAAGmlC,GAC1C,GAAIziC,GAAOooC,GAAW3F,EAItB,OAHIziC,IACA1C,EAAE9G,KAAKwJ,GAEJ1C,QAGP0C,EAAOooC,GAAWH,EAAKI,SACpBroC,GAAQA,OAGvB,QAAS+nC,GAASO,EAAYV,GAA9B,GACa/wC,GACD8E,EAMI2D,EACAipC,EACAC,EACAC,EACAzhB,CAXZ,KAASnwB,EAAI,EAAGA,EAAI+wC,EAAM7wC,SAAUF,EAEhC,OADI8E,EAAIisC,EAAM/wC,GACN8E,EAAEmb,MACV,IAAK,GACD4wB,EAAa/rC,EAAE2sC,WACf,MACJ,KAAK,GACGhpC,EAAQ3D,EAAE2D,MACVipC,EAASL,GAAc1D,EAAiBllC,EAAO,gBAC/CkpC,EAAO,sBAAsBzM,KAAKyI,EAAiBllC,EAAO,gBAC1DmpC,EAAS,UAAYjE,EAAiBllC,EAAO,cAC7C0nB,EAAMghB,EAAUrsC,GAChBqrB,EAAIjwB,OAAS,GACb6lC,EAAQ0L,EAAYC,EAAQC,EAAMC,EAAQzhB,EAAI,KAK9D,QAAS4V,GAAQ0L,EAAYppB,EAAOspB,EAAMC,EAAQja,GACzC,UAAUuN,KAAKvN,IACV,gBAAgBuN,KAAKvN,IAAQ,MAAMuN,KAAKvN,KAC1CA,GAAa8Z,EAAW7Z,KAAlBtxB,IAAwB6sB,QAAQ,UAAW,IAAMwE,GAG/DtP,EAAM0kB,QAAQ,SAAUjrC,GACpBA,EAAOA,EAAKqxB,QAAQ,mBAAoB,MACpCwe,IACA7vC,GAAQ,SAER8vC,IACA9vC,GAAQ,WAEZS,EAAOT,GAAQ61B,IArE3B,GAIQp1B,GACKvC,CAAT,KAJW,MAAP0J,IACAA,EAAMR,UAEN3G,KACKvC,EAAI,EAAGA,EAAI0J,EAAIm8B,YAAY3lC,SAAUF,EAC1C6wC,EAAannC,EAAIm8B,YAAY7lC,GAEjC,OAAOuC,GAiEX,QAASsvC,GAAejwB,EAAKniB,GACzB,MAAOkG,QAAOoW,UAAU81B,eAAel0B,KAAKiE,EAAKniB,GAErD,QAASqyC,GAAWhwC,GAEhB,MADAA,GAAO,YAAcA,EACdspC,GAAStpC,GAEpB,QAASiwC,GAAejwC,GACpB,GAAI4C,MAAalG,EAAI4sC,EAErB,KADAtpC,EAAO,YAAcA,EACdtD,GACCqzC,EAAerzC,EAAGsD,IAClB4C,EAAO/E,KAAKnB,EAAEsD,IAElBtD,EAAImH,OAAOqsC,eAAexzC,EAE9B,OAAOkG,GAAOutC,UAElB,QAASC,GAAWpwC,EAAMqwC,GACtB,GAAI3zC,GAAI4sC,EAER,KADAtpC,EAAO,YAAcA,EACdtD,IAAMqzC,EAAerzC,EAAGsD,IAC3BtD,EAAImH,OAAOqsC,eAAexzC,EAEzBA,KACDA,EAAI4sC,GAAS3R,OAEjBj7B,EAAEsD,IAAStD,EAAEsD,IAAS,IAAa,MAAPqwC,EAAc,EAAIA,GAElD,QAASC,GAAatwC,EAAM5C,GACxB4C,EAAO,YAAcA,EACrBspC,GAAStpC,GAAe,MAAP5C,EAAc,EAAIA,EAEvC,QAASmzC,GAAW5rC,EAAG3I,EAAGwyC,GAA1B,GACatwC,GACD8B,EACA5C,CAFR,KAASc,EAAI,EAAGA,EAAIyG,EAAEvG,QACd4B,EAAO2E,EAAEzG,KACTd,EAAMo0B,EAAW7sB,EAAEzG,IACnBb,MAAMD,GACNpB,EAAEgE,EAAMwuC,IAERxyC,EAAEgE,EAAM5C,KACNc,GAId,QAASqhC,GAAWthC,EAAKoe,GACrB,GAAIxb,GAAQlB,MAAM4/B,WAAWthC,EAS7B,OARI4C,KACAA,EAAQA,EAAM2vC,QACVn0B,EACAxb,EAAQA,EAAM4+B,YACK,IAAZ5+B,EAAM8D,IACb9D,EAAQ,OAGTA,EAEX,QAAS8pC,GAA4B5kB,EAAU7e,GAe3C,QAASwjC,OACC+F,GAAW,GACbvpC,IAhBR,GAAIupC,GAAU,CACd1qB,GAASklB,QAAQ,SAAUnB,GAAV,GAEJ5rC,GACD8b,EAFJ02B,EAAS5G,EAAG6G,iBAAiB,MACjC,KAASzyC,EAAI,EAAGA,EAAIwyC,EAAOtyC,SAAUF,EAC7B8b,EAAM02B,EAAOxyC,GACZ8b,EAAIspB,WACLmN,IACAz2B,EAAIupB,OAASvpB,EAAIwpB,QAAUkH,KAIlC+F,GACD/F,IAQR,QAASU,GAAYpgC,EAAS9D,GAE1B,QAAS8I,GAAI6lB,GACJ+a,GAAY/a,KACb+a,GAAY/a,IAAO,EACnBgb,EAAKhzC,KAAKg4B,IAiBlB,QAAS6U,OACCv5B,GAAS,GACXjK,IAxBZ,GAqBQiK,GApBA0/B,MAOH,QAASC,GAAK9lC,GACP,SAASo4B,KAAKp4B,EAAQk/B,UACtBl6B,EAAIhF,EAAQqjB,KAEhB0iB,GAAqBlF,EAAiBF,EAAiB3gC,GAAU,qBAAqBigC,QAAQ,SAAU+F,GACrF,OAAXA,EAAG7yB,MACHnO,EAAIghC,EAAGnb,OAGX7qB,EAAQ0R,UACRzX,GAAM4W,KAAK7Q,EAAQ0R,UAAUuuB,QAAQ6F,IAE3C9lC,GACEmG,EAAQ0/B,EAAKzyC,OAMH,IAAV+S,GACAu5B,IAEJmG,EAAK5F,QAAQ,SAAUpV,GACnB,GAAI7b,GAAM42B,GAAY/a,GAAO,GAAIxM,MAC5B,WAAU+Z,KAAKvN,KAChB7b,EAAIqpB,YAAc,aAEtBrpB,EAAIqU,IAAMwH,EACN7b,EAAIspB,SACJoH,KAEA1wB,EAAIupB,OAASmH,EACb1wB,EAAIwpB,QAAU,WACVoN,GAAY/a,GAAO,KACnB6U,QAKhB,QAASuG,GAAajyC,GAAtB,GAGYgE,GAFJvC,EAAS,EACb,GACQuC,GAAIhE,EAAI,GACZyB,EAAS+D,OAAOC,aAAa,GAAKzB,GAAKvC,EACvCzB,EAAIoG,EAAKC,MAAMrG,EAAI,UACdA,EAAI,EACb,OAAOyB,GAEX,QAASywC,GAAalmC,EAASrE,EAAO4pB,GAAtC,GAMQ4gB,GAEItwC,CAPRyoC,IAAWzlC,OAAOC,OAAOwlC,IACzBA,GAASt+B,EAAQk/B,QAAQ9mC,gBACrB4H,QAASA,EACTrE,MAAOA,GAEPwqC,EAAatF,EAAiBllC,EAAO,mBACrCwqC,GAA4B,QAAdA,IACVtwC,EAAQgrC,EAAiBllC,EAAO,SACpCwqC,EAAWxwC,MAAM,QAAQsqC,QAAQ,SAAUjrC,GAClCspC,GAAStpC,KACVspC,GAAStpC,GAAQa,MAIzBuwC,EAAuBzqC,KACvB2iC,GAASG,kBACLz+B,QAASA,EACTulB,MAAOA,IAInB,QAAS8gB,KACL/H,GAAWzlC,OAAOqsC,eAAe5G,IAErC,QAASgI,GAAczxB,GACnB,GAAyB,MAArBypB,GAASC,SAAkB,CAC3B,GAAItgC,GAAM4W,EAAK/O,KAAKw4B,GAASxvB,QAEzBwvB,IAASC,SADTD,GAASC,SACWC,GAAIj2B,KAAKkD,UAAU6yB,GAASC,SAAUtgC,GAEtCA,GAIhC,QAASsoC,KACL,GAAIC,GAAKlI,GAASC,QAClB,OAAU,OAANiI,IAGAA,EACsB,IAAfA,EAAGjrC,SAAiC,IAAhBirC,EAAGhrC,SADlC,QAIJ,QAAS4qC,GAAuBzqC,GAC5B,QAAS8qC,GAAKzxC,GACV,MAAO6rC,GAAiBllC,EAAO3G,GAEnC,GAAyB,QAArByxC,EAAK,cAA8C,UAApBA,EAAK,aAA8C,QAAnBA,EAAK,YAAwBA,EAAK,WAAa,EAC9G,OAAO,EAGf,QAAS9F,GAAiB3gC,EAAS0mC,GAC/B,MAAOpsC,QAAOqmC,iBAAiB3gC,EAAS0mC,GAAa,MAEzD,QAAS7F,GAAiBllC,EAAO8qC,GAC7B,GAAIr0C,GAAMuJ,EAAMklC,iBAAiB4F,EAYjC,OAXW,OAAPr0C,GAAuB,KAARA,IACX64B,GAAQ0b,OACRv0C,EAAMuJ,EAAMklC,iBAAiB,WAAa4F,GACnCxb,GAAQ2b,QACfx0C,EAAMuJ,EAAMklC,iBAAiB,QAAU4F,GAChCxb,GAAQ4b,MACfz0C,EAAMuJ,EAAMklC,iBAAiB,MAAQ4F,GAC9Bxb,GAAQC,OACf94B,EAAMuJ,EAAMklC,iBAAiB,OAAS4F,KAGvCr0C,EAEX,QAAS00C,GAAuBnrC,EAAO8qC,EAAMt1C,EAAO41C,GAChDprC,EAAMqrC,YAAYP,EAAMt1C,EAAO41C,GAC3B9b,GAAQ0b,OACRhrC,EAAMqrC,YAAY,WAAaP,EAAMt1C,EAAO41C,GACrC9b,GAAQ2b,QACfjrC,EAAMqrC,YAAY,QAAUP,EAAMt1C,EAAO41C,GAClC9b,GAAQ4b,MACflrC,EAAMqrC,YAAY,MAAQP,EAAMt1C,EAAO41C,GAChC9b,GAAQC,OACfvvB,EAAMqrC,YAAY,OAASP,EAAMt1C,EAAO41C,GACxCN,EAAO,KAAOA,EAAKpgB,QAAQ,gBAAiB,SAAU7e,EAAGT,EAAIC,GACzD,MAAOD,GAAKC,EAAG3E,gBAEnB1G,EAAM8qC,GAAQt1C,GAGtB,QAAS81C,GAAUtrC,EAAOurC,GAEtB,MADAA,GAAO,UAAYA,GAEf3rC,MAAOirB,EAAWqa,EAAiBllC,EAAOurC,EAAO,WACjDvrC,MAAOklC,EAAiBllC,EAAOurC,EAAO,UACtCrxC,MAAO0+B,EAAWsM,EAAiBllC,EAAOurC,EAAO,WAAW,IAGpE,QAASC,GAAUnnC,EAASonC,GAA5B,GACQlvC,GAAO8H,EAAQrE,MAAM+oC,QACrBjvC,EAAS2xC,GAEb,OADApnC,GAAQrE,MAAM+oC,QAAUxsC,EACjBzC,EAEX,QAAS4xC,GAAgB1rC,EAAOurC,GAC5B,GAAIlvC,GAAI6oC,EAAiBllC,EAAO,UAAYurC,EAAO,WAAWvxC,MAAM,QAAQ4D,IAAIitB,EAIhF,OAHgB,IAAZxuB,EAAE5E,QACF4E,EAAEnF,KAAKmF,EAAE,IAENsvC,GACHjvC,EAAGL,EAAE,GACL6J,EAAG7J,EAAE,KAGb,QAASuvC,GAAcvnC,GACnB,GAAI/B,GAAM+B,EAAQq+B,uBAGlB,OAFApgC,GAAMupC,EAASvpC,EAAK,iBAAkB+B,GACtC/B,EAAMupC,EAASvpC,EAAK,YAAa+B,GAGrC,QAASwnC,GAASvpC,EAAKwoC,EAAMzmC,GACzB,GAAIrE,GAAO8rC,EAAIC,EAAIC,EAAIC,CAUvB,OATmB,gBAARnB,IACP9qC,EAAQglC,EAAiB3gC,GACzBynC,EAAKjhB,EAAWqa,EAAiBllC,EAAO8qC,EAAKpgB,QAAQ,IAAK,SAC1DqhB,EAAKlhB,EAAWqa,EAAiBllC,EAAO8qC,EAAKpgB,QAAQ,IAAK,WAC1DshB,EAAKnhB,EAAWqa,EAAiBllC,EAAO8qC,EAAKpgB,QAAQ,IAAK,YAC1DuhB,EAAKphB,EAAWqa,EAAiBllC,EAAO8qC,EAAKpgB,QAAQ,IAAK,WACpC,gBAARogB,KACdgB,EAAKC,EAAKC,EAAKC,EAAKnB,IAGpB/6B,IAAKzN,EAAIyN,IAAM+7B,EACfttC,MAAO8D,EAAI9D,MAAQutC,EACnB/7B,OAAQ1N,EAAI0N,OAASg8B,EACrBztC,KAAM+D,EAAI/D,KAAO0tC,EACjBrsC,MAAO0C,EAAI9D,MAAQ8D,EAAI/D,KAAOwtC,EAAKE,EACnCpsC,OAAQyC,EAAI0N,OAAS1N,EAAIyN,IAAMi8B,EAAKF,GAG5C,QAASI,GAAalsC,GAAtB,GAKQuF,GAEI6H,EANJ9H,EAAY4/B,EAAiBllC,EAAO,YACxC,OAAiB,QAAbsF,EACO,MAEPC,EAAS,gCAAgC4mC,KAAK7mC,GAC9CC,GACI6H,EAAS83B,EAAiBllC,EAAO,oBACrCuF,EAASA,EAAO,GAAGvL,MAAM,YAAY4D,IAAIitB,GACzCzd,EAASA,EAAOpT,MAAM,QAAQ4D,IAAIitB,IAE9BtlB,OAAQA,EACR6H,OAAQA,IANhB,QAUJ,QAASg/B,GAAiB71C,GACtB,MAAO,KAAMA,EAAUkI,EAAKI,GAAK,IAErC,QAASwtC,GAAWjmC,GAChB,GAAIkmC,GAAMzhB,EAAWzkB,EACrB,OAAI,QAAQq2B,KAAKr2B,GACN3H,EAAKI,GAAKytC,EAAM,IAChB,OAAO7P,KAAKr2B,GACZkmC,EACA,QAAQ7P,KAAKr2B,GACb3H,EAAKI,GAAKytC,EAAM,EAChB,OAAO7P,KAAKr2B,GACZ3H,EAAKI,GAAKytC,EAAM,IADpB,OAIX,QAAS/R,GAAavjB,EAAOla,GAGzB,MAFAA,GAAI,GAAI+lC,IAAI91B,OAAOjQ,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,IACnDka,EAAM1R,UAAUxI,GACTA,EAEX,QAASyvC,GAAYv1B,EAAOw1B,GACxBx1B,EAAMoM,KAAKopB,GAEf,QAASC,GAAavzB,EAAMxc,EAAGwJ,EAAGhE,GAK9B,IAJA,GAAI2H,GAAS,GAAIg5B,IAAI/1B,KACbpQ,EACAwJ,GACDhE,GAASgP,cAAe3Z,EAAI,EAC5BA,EAAIsS,EAAOpS,QACdyhB,EAAK4L,QAAQjb,EAAOtS,KAAMsS,EAAOtS,KAAMsS,EAAOtS,MAGtD,QAASo0C,GAAetvC,GAIpB,OAHIA,EAAEK,GAAK,GAAKL,EAAE6J,GAAK,KACnB7J,EAAEK,EAAIL,EAAE6J,EAAI,GAET7J,EAEX,QAASqwC,GAAyBpqC,EAAKqqC,EAAKC,EAAKC,EAAKC,GAAtD,GACQC,GAAOtuC,EAAKvI,IAAI,EAAGy2C,EAAIjwC,GAAIswC,EAAOvuC,EAAKvI,IAAI,EAAGy2C,EAAIzmC,GAClD+mC,EAAOxuC,EAAKvI,IAAI,EAAG02C,EAAIlwC,GAAIwwC,EAAOzuC,EAAKvI,IAAI,EAAG02C,EAAI1mC,GAClDinC,EAAO1uC,EAAKvI,IAAI,EAAG22C,EAAInwC,GAAI0wC,EAAO3uC,EAAKvI,IAAI,EAAG22C,EAAI3mC,GAClDmnC,EAAO5uC,EAAKvI,IAAI,EAAG42C,EAAIpwC,GAAI4wC,EAAO7uC,EAAKvI,IAAI,EAAG42C,EAAI5mC,GAClD7Q,EAAIoJ,EAAKxI,IAAIqM,EAAI1C,OAASmtC,EAAOE,GAAO3qC,EAAIzC,QAAUqtC,EAAOE,GAAO9qC,EAAI1C,OAASutC,EAAOE,GAAO/qC,EAAIzC,QAAUytC,EAAON,GAWxH,OAVI33C,GAAI,IACJ03C,GAAQ13C,EACR23C,GAAQ33C,EACR43C,GAAQ53C,EACR63C,GAAQ73C,EACR83C,GAAQ93C,EACR+3C,GAAQ/3C,EACRg4C,GAAQh4C,EACRi4C,GAAQj4C,IAGR6Z,IACIxS,EAAGqwC,EACH7mC,EAAG8mC,GAEP79B,IACIzS,EAAGuwC,EACH/mC,EAAGgnC,GAEP99B,IACI1S,EAAGywC,EACHjnC,EAAGknC,GAEP/9B,IACI3S,EAAG2wC,EACHnnC,EAAGonC,IAIf,QAASC,GAAgBlpC,EAAS/B,EAAKkV,GAAvC,GAOYg2B,GACAp+B,EACAq+B,EACAp+B,EAUId,EACAm/B,EACAC,EACAC,EAtBR5tC,EAAQglC,EAAiB3gC,GACzBsoC,EAAMjB,EAAgB1rC,EAAO,YAC7B4sC,EAAMlB,EAAgB1rC,EAAO,aAC7B8sC,EAAMpB,EAAgB1rC,EAAO,eAC7B6sC,EAAMnB,EAAgB1rC,EAAO,eAuCjC,OAtCY,WAARwX,GAA6B,WAARA,IACjBg2B,EAAKlC,EAAUtrC,EAAO,OACtBoP,EAAKk8B,EAAUtrC,EAAO,SACtBytC,EAAKnC,EAAUtrC,EAAO,UACtBqP,EAAKi8B,EAAUtrC,EAAO,QAC1B2sC,EAAIjwC,GAAK2S,EAAGzP,MACZ+sC,EAAIzmC,GAAKsnC,EAAG5tC,MACZgtC,EAAIlwC,GAAK0S,EAAGxP,MACZgtC,EAAI1mC,GAAKsnC,EAAG5tC,MACZitC,EAAInwC,GAAK0S,EAAGxP,MACZitC,EAAI3mC,GAAKunC,EAAG7tC,MACZktC,EAAIpwC,GAAK2S,EAAGzP,MACZktC,EAAI5mC,GAAKunC,EAAG7tC,MACA,WAAR4X,IACIjJ,EAAKsc,EAAWqa,EAAiBllC,EAAO,gBACxC0tC,EAAK7iB,EAAWqa,EAAiBllC,EAAO,kBACxC2tC,EAAK9iB,EAAWqa,EAAiBllC,EAAO,mBACxC4tC,EAAK/iB,EAAWqa,EAAiBllC,EAAO,iBAC5C2sC,EAAIjwC,GAAKkxC,EACTjB,EAAIzmC,GAAKqI,EACTq+B,EAAIlwC,GAAKgxC,EACTd,EAAI1mC,GAAKqI,EACTs+B,EAAInwC,GAAKgxC,EACTb,EAAI3mC,GAAKynC,EACTb,EAAIpwC,GAAKkxC,EACTd,EAAI5mC,GAAKynC,IAGE,gBAARn2B,KACPm1B,EAAIjwC,GAAK8a,EACTm1B,EAAIzmC,GAAKsR,EACTo1B,EAAIlwC,GAAK8a,EACTo1B,EAAI1mC,GAAKsR,EACTq1B,EAAInwC,GAAK8a,EACTq1B,EAAI3mC,GAAKsR,EACTs1B,EAAIpwC,GAAK8a,EACTs1B,EAAI5mC,GAAKsR,GAENq2B,EAASvrC,EAAKqqC,EAAKC,EAAKC,EAAKC,GAExC,QAASe,GAASvrC,EAAKwrC,EAAMC,EAAMC,EAAMC,GAAzC,GACQC,GAAMxB,EAAyBpqC,EAAKwrC,EAAMC,EAAMC,EAAMC,GACtDtB,EAAMuB,EAAIh/B,GACV09B,EAAMsB,EAAI/+B,GACV09B,EAAMqB,EAAI9+B,GACV09B,EAAMoB,EAAI7+B,GACV6J,EAAO,GAAI9Z,IAAQojB,MACnBtE,KAAM,KACNC,OAAQ,MAsCZ,OApCAjF,GAAK2L,OAAOviB,EAAI/D,KAAM+D,EAAIyN,IAAM48B,EAAIzmC,GAChCymC,EAAIjwC,GACJ+vC,EAAavzB,EAAM5W,EAAI/D,KAAOouC,EAAIjwC,EAAG4F,EAAIyN,IAAM48B,EAAIzmC,GAC/CsC,gBACAC,aACAoI,QAAS87B,EAAIjwC,EACboU,QAAS67B,EAAIzmC,IAGrBgT,EAAK8N,OAAO1kB,EAAI9D,MAAQouC,EAAIlwC,EAAG4F,EAAIyN,KAC/B68B,EAAIlwC,GACJ+vC,EAAavzB,EAAM5W,EAAI9D,MAAQouC,EAAIlwC,EAAG4F,EAAIyN,IAAM68B,EAAI1mC,GAChDsC,eACAC,SAAU,EACVoI,QAAS+7B,EAAIlwC,EACboU,QAAS87B,EAAI1mC,IAGrBgT,EAAK8N,OAAO1kB,EAAI9D,MAAO8D,EAAI0N,OAAS68B,EAAI3mC,GACpC2mC,EAAInwC,GACJ+vC,EAAavzB,EAAM5W,EAAI9D,MAAQquC,EAAInwC,EAAG4F,EAAI0N,OAAS68B,EAAI3mC,GACnDsC,WAAY,EACZC,SAAU,GACVoI,QAASg8B,EAAInwC,EACboU,QAAS+7B,EAAI3mC,IAGrBgT,EAAK8N,OAAO1kB,EAAI/D,KAAOuuC,EAAIpwC,EAAG4F,EAAI0N,QAC9B88B,EAAIpwC,GACJ+vC,EAAavzB,EAAM5W,EAAI/D,KAAOuuC,EAAIpwC,EAAG4F,EAAI0N,OAAS88B,EAAI5mC,GAClDsC,WAAY,GACZC,SAAU,IACVoI,QAASi8B,EAAIpwC,EACboU,QAASg8B,EAAI5mC,IAGdgT,EAAKzO,QAEhB,QAAS0jC,GAAc13C,EAAKuJ,GACxB,GAAI1I,GAAMuzB,EAAWp0B,GAAO,EAC5B,QAAQuJ,GACR,IAAK,uBAID,MAHI1I,GAAIG,OAAS,IACbH,EAAM,IAAMA,GAETA,CACX,KAAK,cACD,MAAO82C,IAAa33C,GAAKgG,aAC7B,KAAK,cACD,MAAO2xC,IAAa33C,GAAKiQ,aAC7B,KAAK,cACL,IAAK,cACD,MAAO4jC,GAAa7zC,EAAM,EAC9B,KAAK,cACL,IAAK,cACD,MAAO6zC,GAAa7zC,EAAM,GAAGiQ,aACjC,SACI,MAAOpP,IAGf,QAAS+2C,GAAyBhqC,EAAS0V,GACvC,QAASu0B,GAAej1C,EAAM2G,EAAOoO,GACjC,MAAKA,IAGLA,EAAYA,EAAUsc,QAAQ,uBAAwB,MAC/C4e,EAAejwC,GAAMuE,IAAI,SAAUnH,GACtC,MAAO03C,GAAc13C,EAAKuJ,KAC3B5I,KAAKgX,IALG+/B,EAAc9E,EAAWhwC,IAAS,EAAG2G,GAHxD,GAWqBlD,GADbkB,EAAI4qC,GAAc7uB,EAAS,QAC3BjgB,IAmBJ,OAlBAkE,GAAEsmC,QAAQ,SAAUnB,GAChB,GAAI+K,IACApxC,EAAI,uBAAuBqvC,KAAKhJ,IAChCrpC,EAAO5C,KAAK4F,EAAE,GAAG4tB,QAAQ,oBAAqB,SAAU7e,EAAG9V,GACvD,MAAO8H,QAAOC,aAAa+Z,SAAS9hB,EAAG,SAEpC+G,EAAI,2BAA2BqvC,KAAKhJ,KAC3C+K,EAAMtF,GAAc9rC,EAAE,IACtBhD,EAAO5C,KAAKo3C,EAAeJ,EAAI,GAAIA,EAAI,OAChCpxC,EAAI,4BAA4BqvC,KAAKhJ,KAC5C+K,EAAMtF,GAAc9rC,EAAE,IACtBhD,EAAO5C,KAAKo3C,EAAeJ,EAAI,GAAIA,EAAI,GAAIA,EAAI,MAE/Cp0C,EAAO5C,MADA4F,EAAI,wBAAwBqvC,KAAKhJ,IAC5B9+B,EAAQkqC,aAAazxC,EAAE,KAAO,GAE9BqmC,KAGbrpC,EAAO1C,KAAK,IAEvB,QAASo3C,GAAWxuC,GAApB,GAIQlG,GACKvC,CAJT,IAAIyI,EAAM+oC,QACN,MAAO/oC,GAAM+oC,OAGjB,KADIjvC,KACKvC,EAAI,EAAGA,EAAIyI,EAAMvI,SAAUF,EAChCuC,EAAO5C,KAAK8I,EAAMzI,GAAK,KAAO2tC,EAAiBllC,EAAOA,EAAMzI,IAEhE,OAAOuC,GAAO1C,KAAK,OAEvB,QAASq3C,GAA0BpqC,EAASulB,GAMxC,QAAS8kB,GAAOC,EAAMC,GAAtB,GAGYC,GAFJ7uC,EAAQglC,EAAiB3gC,EAASsqC,EAClC3uC,GAAM+Z,SAA4B,UAAjB/Z,EAAM+Z,SAAwC,QAAjB/Z,EAAM+Z,SAAoC,OAAf/Z,EAAMJ,QAC3EivC,EAAOxqC,EAAQ2iC,cAAc7U,cAAc2c,IAC/CD,EAAK7uC,MAAM+oC,QAAUyF,EAAWxuC,GAChC6uC,EAAKre,YAAc6d,EAAyBhqC,EAASrE,EAAM+Z,SAC3D1V,EAAQguB,aAAawc,EAAMD,GAC3BG,EAAK73C,KAAK23C,IAbtB,GAKQE,GAaAC,CAjBJ,OAAI3qC,GAAQk/B,SAAWuL,OACnBG,GAAe5qC,EAASulB,IAGxBmlB,KAWJL,EAAO,UAAWrqC,EAAQ+tB,YAC1Bsc,EAAO,SAAU,MACbM,EAAY3qC,EAAQm5B,UACxBn5B,EAAQm5B,WAAa,kCACrByR,EAAe5qC,EAASulB,GACxBvlB,EAAQm5B,UAAYwR,MACpBD,GAAKzK,QAAQ,SAAUnB,GACnB9+B,EAAQlB,YAAYggC,MAG5B,QAAS8L,GAAe5qC,EAASulB,GAkF7B,QAASslB,GAAYC,GAArB,GAEY1J,GAEI2J,EACAC,EAIAC,EACAC,EACAC,CAVZ,IAAI,QAAQ/S,KAAKp4B,EAAQk/B,WACjBkC,EAAQ9C,GAAS8C,MACjBA,GAA6D,YAApDP,EAAiBO,EAAMzlC,MAAO,oBAAkC,CAGzE,GAFIovC,EAAkB9D,EAAU7F,EAAMzlC,MAAO,QAAQJ,MACjDyvC,EAAiB/D,EAAU7F,EAAMzlC,MAAO,OAAOJ,MAC3B,IAApBwvC,GAA4C,IAAnBC,EACzB,MAAOF,EAKX,IAHIG,EAAW7J,EAAMphC,QAAQq+B,wBACzB6M,EAAY9J,EAAMphC,QAAQorC,KAAK,GAAGC,MAAM,GACxCF,EAAeD,EAAU7M,wBACzB8M,EAAaz/B,KAAOu/B,EAASv/B,KAAOy/B,EAAajxC,MAAQ+wC,EAAS/wC,KAClE,MAAOD,IAAM4W,KAAKi6B,GAAOvxC,IAAI,SAAU0E,GACnC,OACI/D,KAAM+D,EAAI/D,KAAO6wC,EACjBr/B,IAAKzN,EAAIyN,IAAMs/B,EACf7wC,MAAO8D,EAAI9D,MAAQ4wC,EACnBp/B,OAAQ1N,EAAI0N,OAASq/B,EACrBxvC,OAAQyC,EAAIzC,OACZD,MAAO0C,EAAI1C,SAM/B,MAAOuvC,GAEX,QAASQ,GAASz1C,EAAOwsC,EAAKkJ,EAAMC,EAAOC,EAAQC,EAAIC,EAAI1qC,GAmCvD,QAAS2qC,GAAgBH,EAAQzzC,EAAGiJ,GAApC,GACQc,GAAQ3H,EAAKI,GAAK,EAAIixC,GAAUA,EAASF,GACzCM,GACAxzC,EAAGL,EAAEK,EAAIozC,EACT5pC,EAAG7J,EAAE6J,EAAI0pC,GAET12B,EAAO,GAAI9Z,IAAQojB,MACnBtE,MAAQhkB,MAAOA,GACfikB,OAAQ,OACT0G,OAAO,EAAG,EACb0V,GAAarhB,EAAM5T,GACnBmnC,EAAavzB,EAAM,EAAG7c,EAAE6J,GACpBsC,eACAC,UAAW2jC,EAAiBhmC,GAC5ByK,QAASxU,EAAEK,EACXoU,QAASzU,EAAE6J,IAEXgqC,EAAGxzC,EAAI,GAAKwzC,EAAGhqC,EAAI,GACnBgT,EAAK8N,OAAOkpB,EAAGxzC,EAAI+B,EAAK6I,IAAIlB,GAAQ/J,EAAE6J,EAAIgqC,EAAGhqC,EAAIzH,EAAK8I,IAAInB,IAC1DqmC,EAAavzB,EAAM,EAAG7c,EAAE6J,GACpBsC,YAAa4jC,EAAiBhmC,GAC9BqC,aACAoI,QAASq/B,EAAGxzC,EACZoU,QAASo/B,EAAGhqC,EACZ6K,eAAe,KAEZm/B,EAAGxzC,EAAI,EACdwc,EAAK8N,OAAOkpB,EAAGxzC,EAAGkzC,GAAM5oB,OAAO,EAAG4oB,GAElC12B,EAAK8N,OAAOkpB,EAAGxzC,EAAGkzC,GAAM5oB,OAAOkpB,EAAGxzC,EAAG,GAEzCyzC,EAAKz3C,OAAOwgB,EAAKzO,SAjErB,KAAImlC,GAAQ,GAAZ,CAGA,GAAI12B,GAAMi3B,EAAO,GAAI/wC,IAAQqW,KAC7B8kB,GAAa4V,EAAM7qC,GACnBskB,EAAMlxB,OAAOy3C,GACbxE,EAAeoE,GACfpE,EAAeqE,GACf92B,EAAO,GAAI9Z,IAAQojB,MACftE,MAAQhkB,MAAOA,GACfikB,OAAQ,OAEZgyB,EAAKz3C,OAAOwgB,GACZA,EAAK2L,OAAOkrB,EAAGrzC,EAAI+B,EAAKvI,IAAI65C,EAAGrzC,EAAGmzC,GAAS,EAAG,GAAG7oB,OAAO0f,GAAOsJ,EAAGtzC,EAAI+B,EAAKvI,IAAI85C,EAAGtzC,EAAGozC,GAAU,GAAI,GAAG9oB,OAAO0f,EAAMjoC,EAAKvI,IAAI85C,EAAGtzC,EAAGozC,GAASF,GAAM5oB,OAAOvoB,EAAKvI,IAAI65C,EAAGrzC,EAAGmzC,GAAQD,GAAMnlC,QACjLslC,EAAGrzC,GACHuzC,EAAgBJ,EAAOE,MAEnB,EACA,EACA,EACAA,EAAGrzC,EACH,IAGJszC,EAAGtzC,GACHuzC,EAAgBH,EAAQE,GACpB,EACA,EACA,EACA,EACAtJ,EAAMsJ,EAAGtzC,EACT,KAqCZ,QAAS0zC,GAAe9tC,GAAxB,GAgBY4W,GAOC3hB,EAtBL84C,EAAa,GAAIjxC,IAAQqW,KAsB7B,KArBA82B,EAAY8D,EAAYxC,EAASvrC,EAAKwrC,EAAMC,EAAMC,EAAMC,IACxDrkB,EAAMlxB,OAAO23C,GACU,KAAnBhsC,EAAQk/B,SAAkBl/B,EAAQ8qB,OAAS,OAAOsN,KAAK/8B,EAAE2E,GAASsuB,KAAK,WAClEgQ,GAASI,aAAgBrjC,EAAE2E,GAASuS,GAAG+rB,GAASI,eACjDsN,EAAWC,UACPphB,IAAK7qB,EAAQ8qB,KACbpf,IAAKzN,EAAIyN,IACTvR,MAAO8D,EAAI9D,MACXwR,OAAQ1N,EAAI0N,OACZzR,KAAM+D,EAAI/D,QAIlBgyC,IACIr3B,EAAO,GAAI9Z,IAAQojB,MACnBtE,MAAQhkB,MAAOq2C,EAAgBzX,aAC/B3a,OAAQ,OAEZjF,EAAK2L,OAAOviB,EAAI/D,KAAM+D,EAAIyN,KAAKiX,OAAO1kB,EAAI9D,MAAO8D,EAAIyN,KAAKiX,OAAO1kB,EAAI9D,MAAO8D,EAAI0N,QAAQgX,OAAO1kB,EAAI/D,KAAM+D,EAAI0N,QAAQvF,QACrH4lC,EAAW33C,OAAOwgB,IAEb3hB,EAAIi5C,EAAgB/4C,SAAUF,GAAK,GACxCk5C,EAAkBJ,EAAY/tC,EAAKkuC,EAAgBj5C,GAAIm5C,EAAiBn5C,EAAIm5C,EAAiBj5C,QAASk5C,EAAmBp5C,EAAIo5C,EAAmBl5C,QAASm5C,EAAiBr5C,EAAIq5C,EAAiBn5C,QAASo5C,EAAet5C,EAAIs5C,EAAep5C,SAGlP,QAASg5C,GAAkB7mB,EAAOtnB,EAAK+tC,EAAYK,EAAkBC,EAAoBC,EAAkBC,GAmBvG,QAASC,GAAoBlnB,EAAOtnB,EAAKyuC,EAAWC,EAAYC,GAuD5D,QAASC,KACL,KAAO5wB,EAAKlT,OAAO1Q,EAAI4F,EAAI/D,MACvB+hB,EAAKlT,OAAO1Q,GAAKq0C,EAGzB,QAASI,KACL,KAAO7wB,EAAKlT,OAAOlH,EAAI5D,EAAIyN,KACvBuQ,EAAKlT,OAAOlH,GAAK8qC,EAGzB,QAASI,KACL,KAAO9wB,EAAKlT,OAAO1Q,EAAI4F,EAAI9D,OACvByyC,EAASrnB,EAAOtJ,EAAKnT,SACrBmT,EAAKlT,OAAO1Q,GAAKq0C,EApE7B,GAC+C17C,GAkB/BsE,EAeRE,EAcAymB,EAqCIlT,EApFJikC,EAAeN,EAAYC,EAC3BM,EAAShvC,CAqEb,IApEwB,eAApBsuC,GACAU,EAASzF,EAASyF,EAAQ,iBAAkBjtC,GAC5CitC,EAASzF,EAASyF,EAAQ,YAAajtC,IACZ,eAApBusC,IACPU,EAASzF,EAASyF,EAAQ,iBAAkBjtC,IAE3C,yBAAyBo4B,KAAKoU,KACT,WAAlBA,GACAx7C,EAAIoJ,EAAKxI,IAAIq7C,EAAO1xC,MAAQmxC,EAAWO,EAAOzxC,OAASmxC,GACvDD,GAAa17C,EACb27C,GAAc37C,GACW,SAAlBw7C,GACPx7C,EAAIoJ,EAAKvI,IAAIo7C,EAAO1xC,MAAQmxC,EAAWO,EAAOzxC,OAASmxC,GACvDD,GAAa17C,EACb27C,GAAc37C,IAEVsE,EAAOk3C,EAAe72C,MAAM,QAE5B+2C,EADA,KAAKtU,KAAK9iC,EAAK,IACH23C,EAAO1xC,MAAQirB,EAAWlxB,EAAK,IAAM,IAErCkxB,EAAWlxB,EAAK,IAG5Bq3C,EADe,GAAfr3C,EAAKlC,QAA0B,QAAXkC,EAAK,GACZo3C,EAAYM,EAClB,KAAK5U,KAAK9iC,EAAK,IACT23C,EAAOzxC,OAASgrB,EAAWlxB,EAAK,IAAM,IAEtCkxB,EAAWlxB,EAAK,MAIrCE,GAAO82C,EAAqB,IAAI32C,MAAM,OACxB,GAAdH,EAAIpC,SACJoC,EAAI,GAAK,OAGTA,EAAI,GADJ,KAAK4iC,KAAK5iC,EAAI,IACLgxB,EAAWhxB,EAAI,IAAM,KAAOy3C,EAAO1xC,MAAQmxC,GAE3ClmB,EAAWhxB,EAAI,IAGxBA,EAAI,GADJ,KAAK4iC,KAAK5iC,EAAI,IACLgxB,EAAWhxB,EAAI,IAAM,KAAOy3C,EAAOzxC,OAASmxC,GAE5CnmB,EAAWhxB,EAAI,IAExBymB,EAAO,GAAIuiB,IAAIj2B,MACf0kC,EAAO/yC,KAAO1E,EAAI,GAClBy3C,EAAOvhC,IAAMlW,EAAI,KAEjBk3C,EACAC,IAkBoB,aAApBN,EACAO,EAASrnB,EAAOtJ,OACb,IAAwB,YAApBowB,EACPQ,IACAE,QACG,IAAwB,YAApBV,EAEP,IADAS,IACO7wB,EAAKlT,OAAOlH,EAAI5D,EAAI0N,QACvBihC,EAASrnB,EAAOtJ,EAAKnT,SACrBmT,EAAKlT,OAAOlH,GAAK8qC,MAElB,IAAwB,UAApBN,EAIP,IAHAQ,IACAC,IACI/jC,EAASkT,EAAKlT,OAAOD,QAClBmT,EAAKlT,OAAOlH,EAAI5D,EAAI0N,QACvBsQ,EAAKlT,OAAO1Q,EAAI0Q,EAAO1Q,EACvB00C,IACA9wB,EAAKlT,OAAOlH,GAAK8qC,EA3G7B,GAAKX,GAA4B,QAAdA,EAGnB,GAAuB,OAAnBA,EAAW74B,KAAe,CAC1B,GAAI,2BAA2BilB,KAAK4T,EAAWnhB,KAC3C,MAEJ,IAAI7b,GAAM42B,GAAYoG,EAAWnhB,IAC7B7b,IAAOA,EAAIzT,MAAQ,GAAKyT,EAAIxT,OAAS,GACrCixC,EAAoBlnB,EAAOtnB,EAAK+Q,EAAIzT,MAAOyT,EAAIxT,OAAQ,SAAU+pB,EAAOtJ,GACpEsJ,EAAMlxB,OAAO,GAAI0G,IAAQsjB,MAAM2tB,EAAWnhB,IAAK5O,UAGpD,CAAA,GAAuB,UAAnB+vB,EAAW74B,KAGlB,MAFAs5B,GAAoBlnB,EAAOtnB,EAAKA,EAAI1C,MAAO0C,EAAIzC,OAAQ0xC,EAAiBlB,KAkGhF,QAASmB,KAML,QAASC,GAAYp8C,GACjBm2C,EAAUnnC,EAAS,WACfA,EAAQrE,MAAMya,SAAW,UACzB,IAAIi3B,GAASrtC,EAAQ2iC,cAAc7U,cAAc2c,GACjD4C,GAAO1xC,MAAMya,SAAW,WACxBi3B,EAAO1xC,MAAMqmC,UAAY,aACA,WAArBsL,GACAD,EAAO1xC,MAAMJ,MAAQ,MACrB8xC,EAAO1xC,MAAMzB,KAAO,SACpBmzC,EAAO1xC,MAAM4xC,UAAY,SAEzBF,EAAO1xC,MAAMzB,KAAO,MAExBlJ,EAAEq8C,GACFrtC,EAAQguB,aAAaqf,EAAQrtC,EAAQ+tB,YACrC6Q,GAAcyO,EAAQ9nB,GACtBvlB,EAAQlB,YAAYuuC,KAG5B,QAASG,GAAax8C,GAAtB,GAMakC,GALLyG,EAAIqG,EAAQnB,WAAW6S,SACvB1N,EAAIhE,EAAQkqC,aAAa,oBAC7B,IAAS,MAALlmC,EACA,MAAOhT,GAAM,EAAJgT,EAAOrK,EAAEvG,OAEtB,KAASF,EAAI,EAAGA,EAAIyG,EAAEvG,SAAUF,EAC5B,GAAIyG,EAAEzG,KAAO8M,EACT,MAAOhP,GAAEkC,EAAGyG,EAAEvG,QAjC9B,GAKQk6C,GAJAG,EAAgB5M,EAAiBllC,EAAO,kBAC5C,IAAqB,QAAjB8xC,EAmCJ,OAhCIH,EAAoBzM,EAAiBllC,EAAO,uBAgCxC8xC,GACR,IAAK,SACL,IAAK,OACL,IAAK,SACDL,EAAY,SAAUC,GAClBA,EAAO1xC,MAAM+xC,SAAW,MACxBL,EAAO1xC,MAAMgyC,WAAa,OAC1BN,EAAO1xC,MAAMmnC,aAAe,QAC5BuK,EAAO1xC,MAAMiyC,WAAa,eAC1BP,EAAOnhB,WACH2hB,KAAQ,IACRC,OAAU,IACVC,OAAU,KACZN,IAEN,MACJ,KAAK,UACL,IAAK,uBACDL,EAAY,SAAUC,GAClBG,EAAa,SAAUhtC,KACjBA,EACmB,wBAAjBitC,IAA4CjtC,EAAM,IAAIpN,OAAS,IAC/DoN,EAAM,IAAMA,GAEhB6sC,EAAOnhB,UAAY1rB,EAAM,OAGjC,MACJ,KAAK,cACL,IAAK,cACD4sC,EAAY,SAAUC,GAClBG,EAAa,SAAUhtC,GACnBA,EAAMupC,GAAavpC,EAAM,GACJ,eAAjBitC,IACAjtC,EAAMA,EAAI6B,eAEdgrC,EAAOnhB,UAAY1rB,EAAM,OAGjC,MACJ,KAAK,cACL,IAAK,cACL,IAAK,cACL,IAAK,cACD4sC,EAAY,SAAUC,GAClBG,EAAa,SAAUhtC,GACnBA,EAAMylC,EAAazlC,GACf,UAAU43B,KAAKqV,KACfjtC,EAAMA,EAAI6B,eAEdgrC,EAAOnhB,UAAY1rB,EAAM,SAMzC,QAASwtC,GAAW/vC,EAAKwiC,EAASwN,GAoF9B,QAASC,GAAIx8C,GACT,OACI2G,EAAG3G,EAAEmQ,EACLA,EAAGnQ,EAAE2G,GAvFjB,GAKQ81C,GACAC,EASgBv5B,EAgDhBg1B,EACAvB,EACAC,EACAC,EACAC,CAlEJ,IAAkB,IAAdxqC,EAAI1C,OAA8B,IAAf0C,EAAIzC,SAG3BuwC,EAAe9tC,GACXkwC,EAAiBj0C,EAAKqB,MAAQ,IAAMklC,GAAkB,OAAP1zB,GAAgBkhC,GAAiB,OAAPlhC,GACzEqhC,EAAkBj0C,EAAMoB,MAAQ,IAAM0yC,GAAiB,OAAPlhC,GAAgB0zB,GAAkB,OAAP1zB,GAC7D,IAAdrB,EAAInQ,OAA8B,IAAfrB,EAAKqB,OAA+B,IAAhBpB,EAAMoB,OAAgC,IAAjBoQ,EAAOpQ,OAAvE,CAII,GAAImQ,EAAI7V,OAASsE,EAAMtE,OAAS6V,EAAI7V,OAAS8V,EAAO9V,OAAS6V,EAAI7V,OAASqE,EAAKrE,OACvE6V,EAAInQ,OAASpB,EAAMoB,OAASmQ,EAAInQ,OAASoQ,EAAOpQ,OAASmQ,EAAInQ,OAASrB,EAAKqB,OACvE4yC,GAAkBC,EAQlB,MAPAnwC,GAAMupC,EAASvpC,EAAKyN,EAAInQ,MAAQ,GAC5BsZ,EAAOq0B,EAAgBlpC,EAAS/B,EAAKyN,EAAInQ,MAAQ,GACrDsZ,EAAKhX,QAAQic,QACTjkB,MAAO6V,EAAI7V,MACX0F,MAAOmQ,EAAInQ,WAEfgqB,GAAMlxB,OAAOwgB,EAKzB,IAAe,IAAX40B,EAAKpxC,GAAsB,IAAXqxC,EAAKrxC,GAAsB,IAAXsxC,EAAKtxC,GAAsB,IAAXuxC,EAAKvxC,GACjDqT,EAAInQ,MAAQ,GAAKrB,EAAKqB,MAAQ,GAAKpB,EAAMoB,MAAQ,GAAKoQ,EAAOpQ,MAAQ,EAiCrE,MAhCImQ,GAAInQ,MAAQ,GACZgqB,EAAMlxB,OAAO,GAAI0G,IAAQojB,MACrBrE,QACIve,MAAOmQ,EAAInQ,MACX1F,MAAO6V,EAAI7V,SAEhB2qB,OAAOviB,EAAI/D,KAAM+D,EAAIyN,IAAMA,EAAInQ,MAAQ,GAAGonB,OAAO1kB,EAAI9D,MAAO8D,EAAIyN,IAAMA,EAAInQ,MAAQ,IAErFoQ,EAAOpQ,MAAQ,GACfgqB,EAAMlxB,OAAO,GAAI0G,IAAQojB,MACrBrE,QACIve,MAAOoQ,EAAOpQ,MACd1F,MAAO8V,EAAO9V,SAEnB2qB,OAAOviB,EAAI/D,KAAM+D,EAAI0N,OAASA,EAAOpQ,MAAQ,GAAGonB,OAAO1kB,EAAI9D,MAAO8D,EAAI0N,OAASA,EAAOpQ,MAAQ,IAEjG4yC,GACA5oB,EAAMlxB,OAAO,GAAI0G,IAAQojB,MACrBrE,QACIve,MAAOrB,EAAKqB,MACZ1F,MAAOqE,EAAKrE,SAEjB2qB,OAAOviB,EAAI/D,KAAOA,EAAKqB,MAAQ,EAAG0C,EAAIyN,KAAKiX,OAAO1kB,EAAI/D,KAAOA,EAAKqB,MAAQ,EAAG0C,EAAI0N,cAEpFyiC,GACA7oB,EAAMlxB,OAAO,GAAI0G,IAAQojB,MACrBrE,QACIve,MAAOpB,EAAMoB,MACb1F,MAAOsE,EAAMtE,SAElB2qB,OAAOviB,EAAI9D,MAAQA,EAAMoB,MAAQ,EAAG0C,EAAIyN,KAAKiX,OAAO1kB,EAAI9D,MAAQA,EAAMoB,MAAQ,EAAG0C,EAAI0N,SAMpGk+B,GAAMxB,EAAyBpqC,EAAKwrC,EAAMC,EAAMC,EAAMC,GACtDtB,EAAMuB,EAAIh/B,GACV09B,EAAMsB,EAAI/+B,GACV09B,EAAMqB,EAAI9+B,GACV09B,EAAMoB,EAAI7+B,GACdsgC,EAAS5/B,EAAI7V,MAAOoI,EAAI1C,MAAOmQ,EAAInQ,MAAOrB,EAAKqB,MAAOpB,EAAMoB,MAAO+sC,EAAKC,GACpE,EACA,EACA,EACA,EACAtqC,EAAI/D,KACJ+D,EAAIyN,MAER4/B,EAAS3/B,EAAO9V,MAAOoI,EAAI1C,MAAOoQ,EAAOpQ,MAAOpB,EAAMoB,MAAOrB,EAAKqB,MAAOitC,EAAKC,MAE1E,EACA,KAEAxqC,EAAI9D,MACJ8D,EAAI0N,SAQR2/B,EAASpxC,EAAKrE,MAAOoI,EAAIzC,OAAQtB,EAAKqB,MAAOoQ,EAAOpQ,MAAOmQ,EAAInQ,MAAO2yC,EAAIzF,GAAMyF,EAAI5F,IAChF,KAEA,EACA,EACArqC,EAAI/D,KACJ+D,EAAI0N,SAER2/B,EAASnxC,EAAMtE,MAAOoI,EAAIzC,OAAQrB,EAAMoB,MAAOmQ,EAAInQ,MAAOoQ,EAAOpQ,MAAO2yC,EAAI3F,GAAM2F,EAAI1F,IAClF,EACA,KAEA,EACAvqC,EAAI9D,MACJ8D,EAAIyN,OApgBhB,GAaQygC,GACAE,EACAC,EACAC,EACAC,EAIA6B,EAkBAvD,EAAO53C,EAAGm4C,EACVnX,EAvCAv4B,EAAQglC,EAAiB3gC,GACzB0L,EAAMu7B,EAAUtrC,EAAO,OACvBxB,EAAQ8sC,EAAUtrC,EAAO,SACzBgQ,EAASs7B,EAAUtrC,EAAO,UAC1BzB,EAAO+sC,EAAUtrC,EAAO,QACxB8tC,EAAOpC,EAAgB1rC,EAAO,YAC9B+tC,EAAOrC,EAAgB1rC,EAAO,aAC9BiuC,EAAOvC,EAAgB1rC,EAAO,eAC9BguC,EAAOtC,EAAgB1rC,EAAO,gBAC9BoR,EAAM8zB,EAAiBllC,EAAO,aAC9BuwC,EAAkBrL,EAAiBllC,EAAO,mBA8B9C,IA7BAuwC,EAAkB3X,EAAW2X,GACzBC,EAAkBpG,GAAqBlF,EAAiBllC,EAAO,qBAC/D0wC,EAAmB9H,GAAc1D,EAAiBllC,EAAO,sBACzD2wC,EAAqB/H,GAAc1D,EAAiBllC,EAAO,wBAC3D4wC,EAAmBhI,GAAc1D,EAAiBllC,EAAO,sBACzD6wC,EAAiBjI,GAAc1D,EAAiBllC,EAAO,oBACvDsvB,GAAQC,MAAQD,GAAQ+S,QAAU,KAClCsO,EAAqB/H,GAAcvkC,EAAQsuC,aAAahC,qBAExD+B,EAAW7G,EAASxnC,EAAQq+B,wBAAyB,iBAAkBr+B,GAC1E,WAAA,GAIWrG,GACA+R,EACAvR,EACAwR,EACAzR,EACA2vC,EACA1B,EATJppB,EAAO8hB,EAAiBllC,EAAO,QAC/BlD,EAAI,uBAAuBqvC,KAAK/oB,EAChCtmB,KACIkB,EAAIlB,EAAE,GAAG9C,MAAM,UACf+V,EAAc,QAAR/R,EAAE,GAAe00C,EAAS3iC,IAAM8a,EAAW7sB,EAAE,IAAM00C,EAAS3iC,IAClEvR,EAAgB,QAARR,EAAE,GAAe00C,EAASl0C,MAAQqsB,EAAW7sB,EAAE,IAAM00C,EAASn0C,KACtEyR,EAAiB,QAARhS,EAAE,GAAe00C,EAAS1iC,OAAS6a,EAAW7sB,EAAE,IAAM00C,EAAS3iC,IACxExR,EAAe,QAARP,EAAE,GAAe00C,EAASn0C,KAAOssB,EAAW7sB,EAAE,IAAM00C,EAASn0C,KACpE2vC,EAAM,GAAI9uC,IAAQqW,MAClB+2B,GAAW,GAAIptC,IAAQojB,MAAOqC,OAAOtmB,EAAMwR,GAAKiX,OAAOxoB,EAAOuR,GAAKiX,OAAOxoB,EAAOwR,GAAQgX,OAAOzoB,EAAMyR,GAAQvF,QAClH8hC,EAAY2B,EAAK1B,GACjB5iB,EAAMlxB,OAAOw1C,GACbtkB,EAAQskB,EACRvD,EAAc6B,OAIlBjU,EAAU2M,EAAiBllC,EAAO,WACvB,aAAXu4B,EAEA,IADA4W,KACK53C,EAAI,EAAGm4C,EAAQrrC,EAAQ0R,SAAUxe,EAAIm4C,EAAMj4C,SAAUF,EACtD43C,EAAMj4C,KAAKw4C,EAAMn4C,GAAGmrC,6BAGxByM,GAAQ9qC,EAAQuuC,iBACI,GAAhBzD,EAAM13C,SACN03C,GAAS9qC,EAAQq+B,yBAIzB,KADAyM,EAAQD,EAAYC,GACf53C,EAAI,EAAGA,EAAI43C,EAAM13C,SAAUF,EAC5B86C,EAAWlD,EAAM53C,GAAU,IAANA,EAASA,GAAK43C,EAAM13C,OAAS,EA2BtD,OAzBI03C,GAAM13C,OAAS,GAAgB,aAAX8gC,GACpBiZ,EAAWrC,EAAM,IAEpB,WACG,QAAS0D,KAAT,GACQrG,GAAWe,EAAgBlpC,EAASquC,EAAU,WAC9CxE,EAAM,GAAI9uC,IAAQqW,KACtB82B,GAAY2B,EAAK1B,GACjB5iB,EAAMlxB,OAAOw1C,GACbtkB,EAAQskB,EACRvD,EAAc6B,GAEdsG,EAAYzuC,GACZwuC,IACO,wBAAwBpW,KAAKyI,EAAiBllC,EAAO,aAC5D6yC,IACO,wBAAwBpW,KAAKyI,EAAiBllC,EAAO,eAC5D6yC,IACO,wBAAwBpW,KAAKyI,EAAiBllC,EAAO,gBAC5D6yC,OAGHE,EAAkB1uC,EAASulB,IAC5BopB,EAAe3uC,EAASulB,GAErBA,EAubX,QAAS2nB,GAAiB5Y,GACtB,MAAO,UAAU/O,EAAOtJ,GAAjB,GAIKla,GAsCA6sC,EACAC,EACA3rC,EAA6BD,EAC7Bo/B,EACAhqC,EACAwJ,EAKAitC,EAAe30C,EACfspB,EA8BAzhB,EAIAU,EAtFJnH,EAAQ0gB,EAAK1gB,QAASC,EAASygB,EAAKzgB,QACxC,QAAQ84B,EAASnhB,MACjB,IAAK,SAED,OADIpR,EAA0B,MAAlBuyB,EAASvyB,MAAgBuyB,EAASvyB,MAAQ3H,EAAKI,GACnD85B,EAASya,IACjB,IAAK,MACDhtC,EAAQ,CACR,MACJ,KAAK,OACDA,GAAS3H,EAAKI,GAAK,CACnB,MACJ,KAAK,SACDuH,EAAQ3H,EAAKI,EACb,MACJ,KAAK,QACDuH,EAAQ3H,EAAKI,GAAK,CAClB,MACJ,KAAK,WACL,IAAK,WACDuH,GAAS3H,EAAKwH,MAAMpG,EAAQD,EAC5B,MACJ,KAAK,YACL,IAAK,YACDwG,EAAQ3H,EAAKwH,MAAMpG,EAAQD,EAC3B,MACJ,KAAK,cACL,IAAK,cACDwG,EAAQ3H,EAAKI,GAAKJ,EAAKwH,MAAMpG,EAAQD,EACrC,MACJ,KAAK,eACL,IAAK,eACDwG,EAAQ3H,EAAKI,GAAKJ,EAAKwH,MAAMpG,EAAQD,GAGrC+4B,EAAS6Q,UACTpjC,GAAS3H,EAAKI,IAElBuH,GAAS,EAAI3H,EAAKI,GACduH,EAAQ,IACRA,GAAS,EAAI3H,EAAKI,IAElBo0C,EAAQx0C,EAAKyI,IAAItH,EAAQnB,EAAK8I,IAAInB,IAAU3H,EAAKyI,IAAIrH,EAASpB,EAAK6I,IAAIlB,IACvE8sC,EAAcz0C,EAAK40C,KAAKzzC,EAAQnB,EAAK60C,IAAIltC,GAASvG,GAClD0H,EAAM9I,EAAK8I,IAAI2rC,GAAc5rC,EAAM7I,EAAK6I,IAAI4rC,GAC5CxM,EAAMjoC,EAAKyI,IAAIK,GAAO9I,EAAKyI,IAAII,GAC/B5K,EAAIgqC,EAAM,EAAIn/B,EACdrB,EAAIwgC,EAAM,EAAIp/B,EACdlB,EAAQ3H,EAAKI,GAAK,GAAKuH,GAAS,EAAI3H,EAAKI,GAAK,IAC9CnC,GAAKA,EACLwJ,GAAKA,GAELitC,KAAe30C,EAAQ,EACvBspB,EAAQ6Q,EAAS7Q,MAAMlqB,IAAI,SAAUiO,EAAGtU,GAAb,GAWvBswB,GAVAlQ,EAAS9L,EAAE0nC,OA2Bf,OA1BI57B,GACAA,EAASkT,EAAWlT,GAAU,IACvB9L,EAAEpU,OACTkgB,EAASkT,EAAWhf,EAAEpU,QAAUw7C,EACnB,IAAN17C,EACPogB,EAAS,EACFpgB,GAAKohC,EAAS7Q,MAAMrwB,OAAS,IACpCkgB,EAAS,GAETkQ,GACA3tB,MAAO2R,EAAE3R,MAAM4+B,YACfnhB,OAAQA,GAEE,MAAVA,GACAnZ,EAAQmZ,EACRw7B,EAAS7O,QAAQ,SAAUz4B,EAAGtU,GAC1B,GAAIswB,GAAOhc,EAAEgc,IACbA,GAAKlQ,OAAS9L,EAAEtN,MAAQC,EAAQqN,EAAEtN,OAAShH,EAAI,IAAM47C,EAAS17C,OAAS,KAE3E07C,MAEAA,EAASj8C,MACLqH,KAAMC,EACNqpB,KAAMA,IAGPA,IAEPxhB,GACA,GAAM3J,EACN,GAAMwJ,GAENa,GACA,GAAMrK,EACN,GAAMwJ,GAEV0jB,EAAMlxB,OAAO0G,GAAQojB,KAAK+E,SAASjH,GAAMnC,OAAO,MAAMD,KAAK,GAAI9e,IAAQ0jB,gBACnEzc,MAAOA,EACPU,IAAKA,EACL+gB,MAAOA,EACPG,WAAW,KAEf,MACJ,KAAK,SACGtpB,OAAO60C,SAAW70C,OAAO60C,QAAQC,KACjC90C,OAAO60C,QAAQC,IAAI,6DAMnC,QAASV,GAAkB1uC,EAASulB,GAApC,GAEY8pB,GAEIhiB,EASA5Q,EAEA3W,CAdZ,IAAI9F,EAAQkqC,aAAav1C,MAAM25B,KAAK,WAC5B+gB,EAAS16C,MAAM26C,eAAej0C,EAAE2E,IAChCqvC,IAAWA,EAAOE,iBAAmBF,EAAOt9B,eAO5C,SAJIsb,EADAgiB,EAAOE,gBACEF,EAAOE,kBAEPF,EAAOt9B,kBAKhB0K,EAAO,GAAI1hB,IAAQqW,MACvBqL,EAAK/K,SAAS7e,KAAKw6B,GACfvnB,EAAO9F,EAAQq+B,wBACnB5hB,EAAKxb,UAAUu9B,GAAIv9B,YAAY+H,UAAUlD,EAAK5L,KAAM4L,EAAK4F,MACzD6Z,EAAMlxB,OAAOooB,IACN,GAInB,QAAS+yB,GAAYxvC,EAAS6qB,EAAKtF,GAAnC,GACQtnB,GAAMspC,EAAcvnC,GACpBic,EAAO,GAAIuiB,IAAIj2B,MACftK,EAAI/D,KACJ+D,EAAIyN,MAEJzN,EAAI1C,MACJ0C,EAAIzC,SAEJ24B,EAAQ,GAAIp5B,IAAQsjB,MAAMwM,EAAK5O,EACnCisB,GAAY/T,EAAO+U,EAAgBlpC,EAAS/B,EAAK,YACjDsnB,EAAMlxB,OAAO8/B,GAEjB,QAASsb,GAAW91C,EAAGG,GAAvB,GACQ41C,GAAK/O,EAAiBhnC,GACtBg2C,EAAKhP,EAAiB7mC,GACtB81C,EAAKppB,EAAWqa,EAAiB6O,EAAI,YACrCG,EAAKrpB,EAAWqa,EAAiB8O,EAAI,YACrCG,EAAKjP,EAAiB6O,EAAI,YAC1BpG,EAAKzI,EAAiB8O,EAAI,WAC9B,OAAIt9C,OAAMu9C,IAAOv9C,MAAMw9C,GACf,kBAAkBzX,KAAK0X,IAAO,kBAAkB1X,KAAKkR,GAC9C,EAED,UAANwG,KAGM,UAANxG,EACO,EAEJ,EAEPj3C,MAAMu9C,GACQ,IAAPC,EAAW,EAAIA,EAAK,KAAS,EAEpCx9C,MAAMw9C,GACQ,IAAPD,EAAW,EAAIA,EAAK,EAAI,KAE5BppB,EAAWopB,GAAMppB,EAAWqpB,GAEvC,QAASpB,GAAYzuC,GACjB,MAAO,+BAA+Bo4B,KAAKp4B,EAAQk/B,SAEvD,QAAS6Q,GAAkB/vC,GACvB,MAAIA,GAAQgwC,iBAAmBhwC,EAAQgwC,gBAAgB58C,OAAS,EACrD4M,EAAQgwC,gBAAgB,GAE5BhwC,EAAQnC,QAAQmC,EAAQiwC,eAEnC,QAASC,GAAelwC,EAASulB,GAAjC,GACQ5pB,GAAQglC,EAAiB3gC,GACzBnK,EAAQgrC,EAAiBllC,EAAO,SAChCsC,EAAM+B,EAAQq+B,uBACE,aAAhBr+B,EAAQmT,MACRoS,EAAMlxB,OAAO0G,GAAQojB,KAAK+E,SAAS,GAAIsb,IAAIj2B,MACvCtK,EAAI/D,KAAO,EACX+D,EAAIyN,IAAM,IAEVzN,EAAI1C,MAAQ,EACZ0C,EAAIzC,OAAS,KACbse,OAAOjkB,EAAO,IACdmK,EAAQmwC,SACR5qB,EAAMlxB,QAAO,GAAI0G,IAAQojB,MAAOrE,OAAOjkB,EAAO,KAAK2qB,OAAOviB,EAAI/D,KAAO,IAAO+D,EAAI1C,MAAO0C,EAAIyN,IAAM,IAAOzN,EAAIzC,QAAQmnB,OAAO1kB,EAAI/D,KAAO,IAAO+D,EAAI1C,MAAO0C,EAAIyN,IAAM,IAAOzN,EAAIzC,QAAQmnB,OAAO1kB,EAAI/D,KAAO,IAAO+D,EAAI1C,MAAO0C,EAAIyN,IAAM,IAAOzN,EAAI1C,UAGlPgqB,EAAMlxB,OAAO,GAAI0G,IAAQyN,OAAO,GAAIg2B,IAAIh2B,SACnCvK,EAAI/D,KAAO+D,EAAI9D,OAAS,GACxB8D,EAAIyN,IAAMzN,EAAI0N,QAAU,GAC1BvR,EAAKxI,IAAIqM,EAAI1C,MAAQ,EAAG0C,EAAIzC,OAAS,GAAK,IAAIse,OAAOjkB,EAAO,IAC3DmK,EAAQmwC,SACR5qB,EAAMlxB,OAAO,GAAI0G,IAAQyN,OAAO,GAAIg2B,IAAIh2B,SACnCvK,EAAI/D,KAAO+D,EAAI9D,OAAS,GACxB8D,EAAIyN,IAAMzN,EAAI0N,QAAU,GAC1BvR,EAAKxI,IAAIqM,EAAI1C,MAAQ,EAAG0C,EAAIzC,OAAS,GAAK,IAAIqe,KAAKhkB,GAAOikB,OAAO,QAIhF,QAASs2B,GAAgBpwC,EAASulB,GAAlC,GAKQ7zB,GACAkL,EACAkiC,EACAuR,EAUan9C,EAjBbstC,EAAMxgC,EAAQk/B,QAAQ9mC,aAC1B,IAAW,SAAPooC,IAAmC,YAAhBxgC,EAAQmT,MAAsC,SAAhBnT,EAAQmT,MACzD,MAAO+8B,GAAelwC,EAASulB,EAanC,IAXI7zB,EAAIsO,EAAQnB,WACZjC,EAAMoD,EAAQ2iC,cACd7D,EAAKliC,EAAIkxB,cAAc2c,IAE3B3L,EAAGnjC,MAAM+oC,QAAUyF,EAAWxJ,EAAiB3gC,IACpC,SAAPwgC,IACA1B,EAAGnjC,MAAM20C,WAAa,OAEf,UAAP9P,GAA0B,YAAPA,IACnB1B,EAAGnjC,MAAMumC,SAAW,QAEb,UAAP1B,EACA,GAAIxgC,EAAQuwC,SACR,IAASr9C,EAAI,EAAGA,EAAI8M,EAAQnC,QAAQzK,SAAUF,EAC1Cm9C,EAASzzC,EAAIkxB,cAAc2c,IAC3B4F,EAAO10C,MAAM+oC,QAAUyF,EAAWxJ,EAAiB3gC,EAAQnC,QAAQ3K,KACnEm9C,EAAO10C,MAAMu4B,QAAU,QACvBmc,EAAOlkB,YAAcnsB,EAAQnC,QAAQ3K,GAAGi5B,YACxC2S,EAAGtgC,YAAY6xC,OAGnBA,GAASN,EAAkB/vC,GACvBqwC,IACAvR,EAAG3S,YAAckkB,EAAOlkB,iBAIhC2S,GAAG3S,YAAcnsB,EAAQ7O,KAE7BO,GAAEs8B,aAAa8Q,EAAI9+B,GACnB8+B,EAAG0R,WAAaxwC,EAAQwwC,WACxB1R,EAAG2R,UAAYzwC,EAAQywC,UACvBzwC,EAAQrE,MAAMu4B,QAAU,OACxBya,EAAe7P,EAAIvZ,GACnBvlB,EAAQrE,MAAMu4B,QAAU,GACxBxiC,EAAEoN,YAAYggC,GAElB,QAAS6P,GAAe3uC,EAASulB,GAAjC,GAoBYmrB,GAAaC,EAAaC,EAAaC,EAClC39C,EAQGyI,EACAu4B,EACA4c,EACA16B,CA5BhB,QAHIkoB,GAASG,iBAAiBz+B,UAAYA,IACtCs+B,GAASG,iBAAiBlZ,MAAQA,GAE9BvlB,EAAQk/B,QAAQ9mC,eACxB,IAAK,MACDo3C,EAAYxvC,EAASA,EAAQqjB,IAAKkC,EAClC,MACJ,KAAK,SACD,IACIiqB,EAAYxvC,EAASA,EAAQq1B,UAAU,aAAc9P,GACvD,MAAO4e;AAET,KACJ,KAAK,WACL,IAAK,QACL,IAAK,SACDiM,EAAgBpwC,EAASulB,EACzB,MACJ,SAEI,IADImrB,KAAaC,KAAaC,KAAaC,KAClC39C,EAAI8M,EAAQ+tB,WAAY76B,EAAGA,EAAIA,EAAEisC,YACtC,OAAQjsC,EAAE+mB,UACV,IAAK,GACG,KAAKme,KAAKllC,EAAEkiC,OACZ2b,EAAW/wC,EAAS9M,EAAGqyB,EAE3B,MACJ,KAAK,GACG5pB,EAAQglC,EAAiBztC,GACzBghC,EAAU2M,EAAiBllC,EAAO,WAClCm1C,EAAWjQ,EAAiBllC,EAAO,SACnCya,EAAWyqB,EAAiBllC,EAAO,YACvB,UAAZya,EACAy6B,EAAWh+C,KAAKK,GACE,UAAXghC,EACS,QAAZ4c,EACAH,EAAO99C,KAAKK,GAEZw9C,EAAO79C,KAAKK,GAGhB09C,EAAO/9C,KAAKK,GAKxBwG,GAAUg3C,EAAQjB,GAAYxP,QAAQ,SAAUnB,GAC5CF,GAAcE,EAAIvZ,KAEtB7rB,GAAUi3C,EAAQlB,GAAYxP,QAAQ,SAAUnB,GAC5CF,GAAcE,EAAIvZ,KAEtB7rB,GAAUk3C,EAAQnB,GAAYxP,QAAQ,SAAUnB,GAC5CF,GAAcE,EAAIvZ,KAEtB7rB,GAAUm3C,EAAYpB,GAAYxP,QAAQ,SAAUnB,GAChDF,GAAcE,EAAIvZ,MAI9B,QAASwrB,GAAW/wC,EAASkS,EAAMqT,GAoD/B,QAASyrB,GAA6B7oC,GAAtC,GAEY8oC,GAAqChzC,EAMhC/K,EACD4G,CARZ,IAAImxB,GAAQC,MAAQD,GAAQimB,OAAQ,CAOhC,IANID,EAAa9oC,EAAMomC,iBAAkBtwC,GACjCyN,MAAMylC,EAAAA,GACNh3C,QAAQg3C,EAAAA,GACRxlC,SAASwlC,EAAAA,GACTj3C,OAAOi3C,EAAAA,IAENj+C,EAAI,EAAGA,EAAI+9C,EAAW79C,SAAUF,EACjC4G,EAAIm3C,EAAW/9C,GACf4G,EAAEyB,OAAS,GAAKzB,EAAE6R,SAAWylC,IAGjCnzC,EAAI/D,KAAOE,EAAKxI,IAAIkI,EAAEI,KAAM+D,EAAI/D,MAChC+D,EAAIyN,IAAMtR,EAAKxI,IAAIkI,EAAE4R,IAAKzN,EAAIyN,KAC9BzN,EAAI9D,MAAQC,EAAKvI,IAAIiI,EAAEK,MAAO8D,EAAI9D,OAClC8D,EAAI0N,OAASvR,EAAKvI,IAAIiI,EAAE6R,OAAQ1N,EAAI0N,QAIxC,OAFA1N,GAAI1C,MAAQ0C,EAAI9D,MAAQ8D,EAAI/D,KAC5B+D,EAAIzC,OAASyC,EAAI0N,OAAS1N,EAAIyN,IACvBzN,EAEX,MAAOkK,GAAMk2B,wBAEjB,QAASgT,KAAT,GAEQpzC,GAQAqzC,EAKQt5C,EAyCR/E,EAIIs+C,EAEIC,EAUAC,EAvERC,EAAY1vC,EACPxM,EAAMd,EAAKi9C,OAAO3vC,GAAO4vC,OAAO,KAEzC,IADA5vC,GAASxM,EACLA,EAAM,GAAKwM,GAASU,EACpB,OAAO,CAkBX,IAhBAyF,EAAM0pC,SAAS3/B,EAAMlQ,GACrBmG,EAAMs6B,OAAOvwB,EAAMlQ,EAAQ,GAC3B/D,EAAM+yC,EAA6B7oC,GAC/BmpC,GAAQ,EACRQ,IACAt8C,EAAMd,EAAKi9C,OAAO3vC,GAAO4vC,OAAO,MAC5Bp8C,GAAO,IACP2S,EAAMs6B,OAAOvwB,EAAMlQ,EAAQxM,GACvBwC,EAAIg5C,EAA6B7oC,GACjCnQ,EAAE2T,QAAU1N,EAAI0N,SAChB1N,EAAMjG,EACNs5C,GAAQ,EACRtvC,GAASxM,MAIhB87C,EAAO,CAiBR,GAhBA97C,EAAM,QAASu8C,GAAQngD,EAAKogD,EAAKngD,GAC7BsW,EAAMs6B,OAAOvwB,EAAM8/B,EACnB,IAAIh6C,GAAIg5C,EAA6B7oC,EACrC,OAAInQ,GAAE2T,QAAU1N,EAAI0N,QAAU/Z,EAAMogD,EACzBD,EAAQngD,EAAKA,EAAMogD,GAAO,EAAGA,GAC7Bh6C,EAAEmC,OAAS8D,EAAI9D,OACtB8D,EAAMjG,EACFg6C,EAAMngD,EACCkgD,EAAQC,EAAKA,EAAMngD,GAAO,EAAGA,GAE7BmgD,GAGJA,GAEbhwC,EAAO5H,EAAKxI,IAAI8Q,EAAKV,EAAQiwC,GAAqBvvC,GAChDlN,GAAOwM,EACP,OAAO,CAIX,IAFAA,EAAQxM,EACRA,GAAM2S,GAAAA,GAAiBypC,OAAO,QAClB,IAARp8C,EACA,MAEAA,GAAM,IACN2S,EAAMs6B,OAAOvwB,EAAM/J,EAAM+pC,YAAc18C,GACvCyI,EAAM+yC,EAA6B7oC,IAO3C,GAJI8iB,GAAQC,OACRjtB,EAAMkK,EAAMomC,iBAAiB,IAE7Bt7C,EAAMkV,GAAAA,EACL,sBAAsBiwB,KAAKkY,IAEzB,GAAI,KAAKlY,KAAKnlC,GAAM,CAEvB,IADIs+C,EAAK,EACJ/7C,EAAMk8C,EAAWl8C,EAAM2S,EAAM+pC,cAAe18C,EACzCg8C,EAAO98C,EAAKrB,WAAWmC,GACf,GAARg8C,EACAD,GAAM,EAAIA,EAAK,EACA,IAARC,GAAsB,IAARA,EACrBD,EAAK,EAELA,GAGR,OAAQ/7C,EAAMvC,EAAI2+C,OAAO,QAAU,GAC3BH,EAAS,WAAWE,OAAO,EAAG,GAAKJ,EAAK/7C,GAAO,GACnDvC,EAAMA,EAAI0+C,OAAO,EAAGn8C,GAAOi8C,EAASx+C,EAAI0+C,OAAOn8C,EAAM,QAfzDvC,GAAMA,EAAIozB,QAAQ,OAAQ,IAkBzBirB,KACDF,EAAiBnzC,EAAI0N,QAEzBwmC,EAASl/C,EAAKgL,GAElB,QAASk0C,GAASl/C,EAAKgL,GAAvB,GAEYzC,GACAkQ,EAUJhX,CAZAu2B,IAAQC,OAAS74B,MAAMs7C,KACnBnyC,EAAS42C,GAAc/1C,GACvBqP,GAAOzN,EAAIyN,IAAMzN,EAAI0N,OAASnQ,GAAU,EAC5CyC,GACIyN,IAAKA,EACLvR,MAAO8D,EAAI9D,MACXwR,OAAQD,EAAMlQ,EACdtB,KAAM+D,EAAI/D,KACVsB,OAAQA,EACRD,MAAO0C,EAAI9D,MAAQ8D,EAAI/D,OAG3BxF,EAAO,GAAI29C,IAASp/C,EAAK,GAAIurC,IAAIj2B,MACjCtK,EAAI/D,KACJ+D,EAAIyN,MAEJzN,EAAI1C,MACJ0C,EAAIzC,UAEJa,KAAMA,EACNwd,MAAQhkB,MAAOA,KAEnB0vB,EAAMlxB,OAAOK,GACb49C,EAASr0C,GAEb,QAASq0C,GAASr0C,GAId,QAASs0C,GAAK18C,EAAO28C,GAArB,GAEYj3C,GACAsZ,CAFJhf,KACI0F,EAAQmyC,EAAW,GACnB74B,EAAO,GAAI9Z,IAAQojB,MACnBrE,QACIve,MAAOA,EACP1F,MAAOA,KAGf28C,GAAQj3C,EACRsZ,EAAK2L,OAAOviB,EAAI/D,KAAMs4C,GAAM7vB,OAAO1kB,EAAI9D,MAAOq4C,GAC9CjtB,EAAMlxB,OAAOwgB,IAdrB09B,EAAKjU,GAAoB,UAAGrgC,EAAI0N,QAChC4mC,EAAKjU,GAAS,gBAAiBrgC,EAAI0N,OAAS1N,EAAIzC,OAAS,KACzD+2C,EAAKjU,GAAmB,SAAGrgC,EAAIyN,KA1LvC,GAIQ/P,GAIAjH,EACAsN,EACAU,EAIAgrC,EACAC,EACAtxC,EAYAxG,EACAsS,EACA6T,EACA81B,EACAxB,EACAmC,EAAcC,EAQdT,EAIAb,CA5CJ,KAAI7K,MAGA5qC,EAAQglC,EAAiB3gC,KACzBwmB,EAAWqa,EAAiBllC,EAAO,wBAGnCjH,EAAOwd,EAAKkjB,KACZpzB,EAAQ,EACRU,EAAMhO,EAAKk9C,OAAO,UAAY,EAC7BlvC,IAGDgrC,EAAW7M,EAAiBllC,EAAO,aACnCgyC,EAAa9M,EAAiBllC,EAAO,eACrCU,GACAwkC,EAAiBllC,EAAO,cACxBklC,EAAiBllC,EAAO,gBACxBklC,EAAiBllC,EAAO,eACxB+xC,EACA7M,EAAiBllC,EAAO,gBAC1B5I,KAAK,KACP26C,EAAWlnB,EAAWknB,GACtBC,EAAannB,EAAWmnB,GACP,IAAbD,KAAJ,CAqBA,IAlBI73C,EAAQgrC,EAAiBllC,EAAO,SAChCwM,EAAQnI,EAAQ2iC,cAAcf,cAC9B5lB,EAAQ6kB,EAAiBllC,EAAO,cAChCm2C,EAAuB,WAAT91B,EACds0B,EAAazP,EAAiBllC,EAAO,eAErCsvB,GAAQC,OACRunB,EAAe92C,EAAM82C,aACD,YAAhBA,IACAC,EAAmB1yC,EAAQrE,MAAM82C,aACjCzyC,EAAQrE,MAAM82C,aAAe,SAGjCR,EAAqBjyC,EAAQq+B,wBAAwB9iC,MAAQmyC,EAAW,EACjD,IAAvBuE,IACAA,EAAqB,KAErBb,EAAiB,MACbC,MAEJpmB,GAAQC,MAAwB,YAAhBunB,IAChBzyC,EAAQrE,MAAM82C,aAAeC,IA0JrC,QAASC,IAAuB3yC,EAASulB,EAAOmE,GAAhD,GACQkpB,GAQAj5C,EACKzG,EAKL22C,EAKQpxC,EACAT,CAXZ,KARc,QAAV0xB,GACAkpB,EAAOtU,GAASG,iBAAiBlZ,MACjCmE,EAASlD,EAAWkD,KAEpBkpB,EAAOrtB,EACPmE,EAAS,GAET/vB,EAAIi5C,EAAKlhC,SACJxe,EAAI,EAAGA,EAAIyG,EAAEvG,UACM,MAApBuG,EAAEzG,GAAG2/C,aAAuBl5C,EAAEzG,GAAG2/C,YAAcnpB,KADvBx2B,GAehC,MAVI22C,GAAM,GAAI9uC,IAAQqW,MACtBwhC,EAAK7+B,SAAS81B,EAAK32C,GACnB22C,EAAIgJ,YAAcnpB,EACdkpB,IAASrtB,GACL+Y,GAASC,WACL9lC,EAAI6lC,GAASxvB,QAAQN,SACrBxW,EAAIsmC,GAASC,SAASx2B,cAActP,GACxCyvC,EAAY2B,EAAK9uC,GAAQojB,KAAK+E,SAASlrB,KAGxC6xC,EAEX,QAASjL,IAAc5+B,EAAS6tB,GAAhC,GAMQilB,GAUA/4B,EACAg5B,EACA7e,EAIAppB,EACAya,EACAmE,EAvBA/tB,EAAQglC,EAAiB3gC,GACzBgzC,EAAenS,EAAiBllC,EAAO,gBACvCq3C,IACAzN,EAAWhB,GAAcyO,EAAc,QAAS1N,EAAc,GAE9DwN,EAAmBjS,EAAiBllC,EAAO,qBAC3Cm3C,GACAvN,EAAWhB,GAAcuO,EAAkB,QAAS1N,EAAY,GAEhE,sDAAsDhN,KAAKp4B,EAAQk/B,UAG9C,MAArBZ,GAASC,WAGTxkB,EAAUyM,EAAWqa,EAAiBllC,EAAO,YAC7Co3C,EAAalS,EAAiBllC,EAAO,cACrCu4B,EAAU2M,EAAiBllC,EAAO,WACtB,IAAZoe,GAA+B,UAAdg5B,GAAqC,QAAX7e,IAG3CppB,EAAK+8B,EAAalsC,GAElB+tB,EAASmX,EAAiBllC,EAAO,YAChCmP,GAAMiP,EAAU,IAAgB,QAAV2P,IACvBA,EAAS,GAEbnE,EAAQotB,GAAuB3yC,EAAS6tB,EAAWnE,GAC/C3P,EAAU,GACVwL,EAAMxL,QAAQA,EAAUwL,EAAMxL,WAElCmsB,EAAalmC,EAASrE,EAAO4pB,GACxBza,EAGDq8B,EAAUnnC,EAAS,WAAA,GAMX8F,GACAzN,EACAwJ,EACApJ,CARJquC,GAAuB9mC,EAAQrE,MAAO,YAAa,OAAQ,aAC3DmrC,EAAuB9mC,EAAQrE,MAAO,aAAc,OAAQ,aACjB,UAAvCklC,EAAiBllC,EAAO,aACxBmrC,EAAuB9mC,EAAQrE,MAAO,WAAY,WAAY,aAE9DmK,EAAO9F,EAAQq+B,wBACfhmC,EAAIyN,EAAK5L,KAAO4Q,EAAG/B,OAAO,GAC1BlH,EAAIiE,EAAK4F,IAAMZ,EAAG/B,OAAO,GACzBtQ,GACA,EACA,EACA,EACA,GACCJ,GACAwJ,GAELpJ,EAAIw6C,GAAKx6C,EAAGqS,EAAG5J,QACfzI,EAAIw6C,GAAKx6C,GACL,EACA,EACA,EACA,EACAJ,EACAwJ,IAEJpJ,EAAIy9B,EAAa3Q,EAAO9sB,GACxB6lC,GAASxvB,QAAUwvB,GAASxvB,QAAQP,aAAa9V,GACjD2xC,EAA0BpqC,EAASulB,KA9BvC6kB,EAA0BpqC,EAASulB,GAiCvC8gB,MAEJ,QAAS4M,IAAKt5C,EAAGG,GAAjB,GACQoB,GAAKvB,EAAE,GAAIu5C,EAAKv5C,EAAE,GAAIw5C,EAAKx5C,EAAE,GAAIy5C,EAAKz5C,EAAE,GAAI05C,EAAK15C,EAAE,GAAI25C,EAAK35C,EAAE,GAC9DwB,EAAKrB,EAAE,GAAIy5C,EAAKz5C,EAAE,GAAI05C,EAAK15C,EAAE,GAAI25C,EAAK35C,EAAE,GAAI45C,EAAK55C,EAAE,GAAI65C,EAAK75C,EAAE,EAClE,QACIoB,EAAKC,EAAK+3C,EAAKM,EACft4C,EAAKq4C,EAAKL,EAAKO,EACfN,EAAKh4C,EAAKi4C,EAAKI,EACfL,EAAKI,EAAKH,EAAKK,EACfJ,EAAKl4C,EAAKm4C,EAAKE,EAAKE,EACpBL,EAAKE,EAAKD,EAAKG,EAAKE,GA72E/B,GAYOtB,IA0bAtM,GA8HAxB,GAyDAE,GAcA2N,GAzoBAr3C,GAAUpG,MAAMoG,QAChByjC,GAAM7pC,MAAM0a,SACZpV,GAAQ+vB,MAAM/a,UAAUhV,MACxBgxB,GAAUt2B,MAAMq2B,QAAQC,QACxB8e,GAAep1C,MAAMmG,KAAKhF,cAC1B4D,GAAY/E,MAAMmG,KAAKpB,UACvB+wC,GAAuB,uBACvB7E,MACAtH,KACJA,IAAS3R,MAAQ2R,GACb+T,GAAWt3C,GAAQijB,KAAKjhB,QACxBkd,SAAU,OACVjd,KAAM,SAAU/J,EAAKgpB,EAAMpe,GACvB9C,GAAQijB,KAAK9b,GAAGlF,KAAK6T,KAAK5X,KAAMhG,EAAKgpB,EAAKzR,YAAa3M,GACvD5E,KAAK26C,SAAW33B,GAEpBA,KAAM,WACF,MAAOhjB,MAAK26C,UAEhBz4B,QAAS,WACL,MAAOliB,MAAK26C,YA8apB74C,GAAQojC,QAAUA,EAClBA,EAAQ+E,aAAeA,EACnB6C,GAAuB,WAavB,QAAS3e,GAAMnoB,GAKX,QAAS40C,KACL,GAAIp7C,GAAIq7C,EAAehM,KAAK7oC,EACxBxG,KACAwG,EAAQA,EAAM0yC,OAAOl5C,EAAE,GAAGrF,SAGlC,QAAS2gD,GAAKC,GACVH,GACA,IAAIp7C,GAAIu7C,EAAMlM,KAAK7oC,EACnB,IAAIxG,EAEA,MADAwG,GAAQA,EAAM0yC,OAAOl5C,EAAE,GAAGrF,QACnBqF,EAAE,GAGjB,QAASw7C,KAAT,GAEQ7gD,GAAQ87C,EADRr5C,EAAQlB,MAAM4/B,WAAWt1B,GAAO,EAEpC,IAAIpJ,EAMA,MALAoJ,GAAQA,EAAM0yC,OAAO97C,EAAM0f,MAAM,GAAGniB,QACpCyC,EAAQA,EAAM2vC,SACRpyC,EAAS2gD,EAAKG,MAChBhF,EAAU6E,EAAKI,KAGft+C,MAAOA,EACPzC,OAAQA,EACR87C,QAASA,GAIrB,QAASkF,GAAqBC,GAA9B,GACQtyC,GACAuyC,EAAKC,EAmBGl8C,EAAuBwJ,EAevB2hB,EAjCRC,KACA0hB,GAAU,CACd,IAAI4O,EAAKS,GAAY,CA8BjB,IA7BAzyC,EAAQgyC,EAAKU,GACT1yC,GACAA,EAAQimC,EAAWjmC,GACnBgyC,EAAKW,KAELJ,EAAMP,EAAKY,GACA,MAAPL,EACAA,EAAMP,EAAKY,GACJL,GAAO,KAAKlc,KAAKic,KACxBlP,GAAU,GAEdoP,EAAMR,EAAKY,GACXZ,EAAKW,IAEL,QAAQtc,KAAKic,IAAsB,MAATtyC,GAAwB,MAAPuyC,IACvCj8C,EAAI07C,EAAKI,GAActyC,EAAIkyC,EAAKI,GACpChP,GAAU,EACD,MAAL9sC,EACAi8C,EAAM,OACM,QAALj8C,IACPi8C,EAAM,SAED,MAALzyC,EACA0yC,EAAM,MACM,QAAL1yC,IACP0yC,EAAM,UAEVR,EAAKW,IAEFz1C,IAAU80C,EAAKa,KACdpxB,EAAOywB,MAIXxwB,EAAM5wB,KAAK2wB,GACXuwB,EAAKW,EAET,QACIvhC,KAAM,SACNpR,MAAOA,EACPgtC,GAAIuF,GAAOC,EAAMD,EAAM,IAAMC,EAAMD,EAAMA,EAAMC,EAAMA,EAAM,KAC3D9wB,MAAOA,EACP0hB,QAASA,IAIrB,QAAS0P,KACL,GAAId,EAAKS,GAAY,CACjB,GAAI3pB,GAAMkpB,EAAKe,EAGf,OAFAjqB,GAAMA,EAAIxE,QAAQ,iBAAkB,IACpC0tB,EAAKa,IAEDzhC,KAAM,MACN0X,IAAKA,IA9FrB,GAkGQkqB,GAjGAC,EAAO/1C,CACX,OAAI8lC,GAAekQ,EAAQD,GAChBC,EAAOD,KAgGdD,EAAMhB,EAAKmB,IACXH,EAAMX,EAAqBW,IACpBA,EAAMhB,EAAKoB,MAClBJ,EAAMF,KAEHI,EAAOD,GAAQD,IAAS5hC,KAAM,SArHlB,GACnB+hC,GAAsB,oDACtBf,EAAc,eACdD,EAAa,gBACbS,EAAc,uCACdF,EAAY,iCACZX,EAAiB,SACjBU,EAAY,QACZI,EAAa,QACbF,EAAY,OACZS,EAAU,WACVL,EAAc,WACdG,KAAaG,IA2GjB,OAAO,UAAUn2C,GACb,MAAI8lC,GAAeqQ,EAAQn2C,GAChBm2C,EAAOn2C,GAEXm2C,EAAOn2C,GAASslC,GAActlC,GAAO1F,IAAI6tB,OAGpDmd,GAAgB,WAChB,GAAI3rC,KACJ,OAAO,UAAUqG,EAAO8K,GAapB,QAASsrC,GAAW7zC,GAChB,MAAO/I,GAAI+I,EAAGsmC,KAAK7oC,EAAM0yC,OAAOn8C,IAEpC,QAASuxB,GAAK9zB,GACV,MAAOA,GAAIozB,QAAQ,aAAc,IAjBlC,GAICloB,GAIAm3C,EACAnhD,EAAUqB,EACV+/C,EACAC,EACA/8C,CAPJ,IAJKsR,IACDA,EAAY,YAEZ5L,EAAWc,EAAQ8K,EACnBg7B,EAAensC,EAAOuF,GACtB,MAAOvF,GAAMuF,EAajB,KAXIm3C,KACAnhD,EAAO,EAAGqB,EAAM,EAChB+/C,EAAW,EACXC,GAAY,EAQThgD,EAAMyJ,EAAM7L,SACVoiD,GAAaH,EAAW,cACzBE,IACA//C,MACQggD,GAAaH,EAAW,cAChCE,IACA//C,MACQggD,GAAaH,EAAW,YAChCG,EAAY/8C,EAAE,GACdjD,KACoB,KAAbggD,GAAqBH,EAAW,SACvC7/C,GAAO,EACa,KAAbggD,GAAoBH,EAAW,SACtC7/C,GAAO,EACa,KAAbggD,GAAqBH,EAAW,QACvCG,GAAY,EACZhgD,KACoB,KAAbggD,GAAoBH,EAAW,QACtCG,GAAY,EACZhgD,KACO6/C,EAAWtrC,KACbyrC,IAAcD,GAAY//C,EAAMrB,IACjCmhD,EAAIziD,KAAKk0B,EAAK9nB,EAAMqD,UAAUnO,EAAMqB,KACpCrB,EAAOqB,EAAMiD,EAAE,GAAGrF,QAEtBoC,GAAOiD,EAAE,GAAGrF,QAEZoC,GAMR,OAHIrB,GAAOqB,GACP8/C,EAAIziD,KAAKk0B,EAAK9nB,EAAMqD,UAAUnO,EAAMqB,KAEjCoD,EAAMuF,GAAYm3C,MAG7B7Q,GAAa,SAAU7rC,GACvB,MAAO,UAAUkmC,GAAV,GAGKrmC,GAFJoyB,EAAMjyB,EAAMkmC,EAShB,OARKjU,MAEGpyB,EAAI,2DAA2DqvC,KAAKhJ,IACpEjU,EAAMjyB,EAAMkmC,GAAMrmC,EAAE,IACbA,EAAI,kCAAkCqvC,KAAKhJ,MAClDjU,EAAMjyB,EAAMkmC,GAAMrmC,EAAE,KAGrBoyB,IAEbhyB,OAAOC,OAAO,OACZs5C,GAAgB,SAAUx5C,GAC1B,MAAO,UAAUyD,GACb,GAAIb,GAAS5C,EAAMyD,EAInB,OAHc,OAAVb,IACAA,EAAS5C,EAAMyD,GAAQ1H,MAAMmG,KAAKY,YAAY,QAAUW,KAAMA,IAAQb,QAEnEA,IAEb3C,OAAOC,OAAO,QA6tDlBwB,OAAO3F,MAAMoK,OAAQynB,WAAYpsB,OACnB,kBAAVnJ,SAAwBA,OAAOgK,IAAMhK,OAAS,SAAUiK,EAAIC,EAAIC,IACrEA,GAAMD,OAEV,SAAUnK,EAAGC,QACVA,OAAO,qBACH,mBACA,gBACDD,IACL,YACG,SAAUqK,GAAV,GACO4U,GAAO5U,EAAE4U,KAAMtb,EAAQ2F,OAAO3F,MAAOkI,EAAQlI,EAAMkI,MAAO/B,EAAOnG,EAAMmG,KAAM87B,EAAiBjiC,EAAMiiC,eAAgBr8B,EAAa5F,EAAM4F,WACvIk7C,EAAY54C,EAAME,QAClBC,KAAM,SAAUgD,EAASnC,GACrB,GAAI63C,GAAOz8C,IACXy8C,GAAK73C,QAAUtD,KAAem7C,EAAK73C,QAASA,GAC5C63C,EAAK11C,QAAUA,GAEnBnC,SACI83C,SAAU,IACVC,OAAQ,SAEZC,MAAO5lC,EACP6lC,KAAM7lC,EACN8lC,KAAM,WACF,GAAIL,GAAOz8C,KAAM4E,EAAU63C,EAAK73C,QAAS+3C,EAASv6C,EAAEu6C,OAAO/3C,EAAQ+3C,QAASD,EAAW93C,EAAQ83C,SAAUv9B,EAAQva,EAAQua,OAAS,EAAGpW,EAAQlH,EAAKH,MAAQyd,EAAO49B,EAASh0C,EAAQ2zC,CACjK,KAAbA,GACAD,EAAKI,KAAK,GACVJ,EAAKO,SAEL19B,WAAW,WACP,GAAI29B,GAAO,WAAA,GAIHC,GACAC,EACA5gD,EACA6gD,CANAX,GAAKY,WAGLH,EAAWr7C,EAAKH,MAChBy7C,EAAOt7C,EAAKnJ,WAAWwkD,EAAWn0C,EAAO,EAAG2zC,GAC5CngD,EAAM4gD,EAAOT,EACbU,EAAYT,EAAOpgD,EAAK4gD,EAAM,EAAG,EAAGT,GACxCD,EAAKI,KAAKO,GACNF,EAAWH,EACXpf,EAAesf,GAEfR,EAAKO,SAGbC,MACD99B,IAGX69B,MAAO,WACHh9C,KAAKq9C,UAAW,GAEpBzkC,QAAS,WACL5Y,KAAKg9C,WAGTM,EAAmB,WACnBt9C,KAAKic,UAETqhC,GAAiBtnC,WACbkG,SAAU,SAAUngB,EAAMme,GACtBla,KAAKic,OAAOriB,MACRmC,KAAMA,EACNme,KAAMA,KAGdra,OAAQ,SAAUkH,EAASnC,GAAnB,GAEA0X,GAEIpC,EACKjgB,EAJTmhB,EAAQpb,KAAKic,MAEjB,IAAIrX,GAAWA,EAAQsV,KAEnB,IADIA,EAAOtV,EAAQsV,KAAK/a,cACflF,EAAI,EAAGA,EAAImhB,EAAMjhB,OAAQF,IAC9B,GAAImhB,EAAMnhB,GAAG8B,KAAKoD,gBAAkB+a,EAAM,CACtCoC,EAAQlB,EAAMnhB,EACd,OAIZ,GAAIqiB,EACA,MAAO,IAAIA,GAAMpC,KAAKnT,EAASnC,KAI3C04C,EAAiBz6C,QAAU,GAAIy6C,GAC/Bd,EAAU38C,OAAS,SAAUqa,EAAMnT,EAASnC,GACxC,MAAO04C,GAAiBz6C,QAAQhD,OAAOqa,EAAMnT,EAASnC,IAE1DtD,EAAW5F,EAAMoG,SACb06C,UAAWA,EACXc,iBAAkBA,KAExBj8C,OAAO3F,MAAMoK,SACC,kBAAV9N,SAAwBA,OAAOgK,IAAMhK,OAAS,SAAUiK,EAAIC,EAAIC,IACrEA,GAAMD,OAEV,SAAUnK,EAAGC,QACVA,OAAO,iBACH,cACA,YACA,oBACA,cACA,mBACA,mBACA,eACA,iBACA,iBACA,iBACA,iBACA,cACA,iBACA,cACA,eACA,qBACDD,IACL,aAYkB,kBAAVC,SAAwBA,OAAOgK,IAAMhK,OAAS,SAAUiK,EAAIC,EAAIC,IACrEA,GAAMD","file":"kendo.drawing.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('util/main', ['kendo.core'], f);\n}(function () {\n    (function () {\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend;\n        var DEG_TO_RAD = math.PI / 180, MAX_NUM = Number.MAX_VALUE, MIN_NUM = -Number.MAX_VALUE, UNDEFINED = 'undefined';\n        function defined(value) {\n            return typeof value !== UNDEFINED;\n        }\n        function round(value, precision) {\n            var power = pow(precision);\n            return math.round(value * power) / power;\n        }\n        function pow(p) {\n            if (p) {\n                return math.pow(10, p);\n            } else {\n                return 1;\n            }\n        }\n        function limitValue(value, min, max) {\n            return math.max(math.min(value, max), min);\n        }\n        function rad(degrees) {\n            return degrees * DEG_TO_RAD;\n        }\n        function deg(radians) {\n            return radians / DEG_TO_RAD;\n        }\n        function isNumber(val) {\n            return typeof val === 'number' && !isNaN(val);\n        }\n        function valueOrDefault(value, defaultValue) {\n            return defined(value) ? value : defaultValue;\n        }\n        function sqr(value) {\n            return value * value;\n        }\n        function objectKey(object) {\n            var parts = [];\n            for (var key in object) {\n                parts.push(key + object[key]);\n            }\n            return parts.sort().join('');\n        }\n        function hashKey(str) {\n            var hash = 2166136261;\n            for (var i = 0; i < str.length; ++i) {\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\n                hash ^= str.charCodeAt(i);\n            }\n            return hash >>> 0;\n        }\n        function hashObject(object) {\n            return hashKey(objectKey(object));\n        }\n        var now = Date.now;\n        if (!now) {\n            now = function () {\n                return new Date().getTime();\n            };\n        }\n        function arrayLimits(arr) {\n            var length = arr.length, i, min = MAX_NUM, max = MIN_NUM;\n            for (i = 0; i < length; i++) {\n                max = math.max(max, arr[i]);\n                min = math.min(min, arr[i]);\n            }\n            return {\n                min: min,\n                max: max\n            };\n        }\n        function arrayMin(arr) {\n            return arrayLimits(arr).min;\n        }\n        function arrayMax(arr) {\n            return arrayLimits(arr).max;\n        }\n        function sparseArrayMin(arr) {\n            return sparseArrayLimits(arr).min;\n        }\n        function sparseArrayMax(arr) {\n            return sparseArrayLimits(arr).max;\n        }\n        function sparseArrayLimits(arr) {\n            var min = MAX_NUM, max = MIN_NUM;\n            for (var i = 0, length = arr.length; i < length; i++) {\n                var n = arr[i];\n                if (n !== null && isFinite(n)) {\n                    min = math.min(min, n);\n                    max = math.max(max, n);\n                }\n            }\n            return {\n                min: min === MAX_NUM ? undefined : min,\n                max: max === MIN_NUM ? undefined : max\n            };\n        }\n        function last(array) {\n            if (array) {\n                return array[array.length - 1];\n            }\n        }\n        function append(first, second) {\n            first.push.apply(first, second);\n            return first;\n        }\n        function renderTemplate(text) {\n            return kendo.template(text, {\n                useWithBlock: false,\n                paramName: 'd'\n            });\n        }\n        function renderAttr(name, value) {\n            return defined(value) && value !== null ? ' ' + name + '=\\'' + value + '\\' ' : '';\n        }\n        function renderAllAttr(attrs) {\n            var output = '';\n            for (var i = 0; i < attrs.length; i++) {\n                output += renderAttr(attrs[i][0], attrs[i][1]);\n            }\n            return output;\n        }\n        function renderStyle(attrs) {\n            var output = '';\n            for (var i = 0; i < attrs.length; i++) {\n                var value = attrs[i][1];\n                if (defined(value)) {\n                    output += attrs[i][0] + ':' + value + ';';\n                }\n            }\n            if (output !== '') {\n                return output;\n            }\n        }\n        function renderSize(size) {\n            if (typeof size !== 'string') {\n                size += 'px';\n            }\n            return size;\n        }\n        function renderPos(pos) {\n            var result = [];\n            if (pos) {\n                var parts = kendo.toHyphens(pos).split('-');\n                for (var i = 0; i < parts.length; i++) {\n                    result.push('k-pos-' + parts[i]);\n                }\n            }\n            return result.join(' ');\n        }\n        function isTransparent(color) {\n            return color === '' || color === null || color === 'none' || color === 'transparent' || !defined(color);\n        }\n        function arabicToRoman(n) {\n            var literals = {\n                1: 'i',\n                10: 'x',\n                100: 'c',\n                2: 'ii',\n                20: 'xx',\n                200: 'cc',\n                3: 'iii',\n                30: 'xxx',\n                300: 'ccc',\n                4: 'iv',\n                40: 'xl',\n                400: 'cd',\n                5: 'v',\n                50: 'l',\n                500: 'd',\n                6: 'vi',\n                60: 'lx',\n                600: 'dc',\n                7: 'vii',\n                70: 'lxx',\n                700: 'dcc',\n                8: 'viii',\n                80: 'lxxx',\n                800: 'dccc',\n                9: 'ix',\n                90: 'xc',\n                900: 'cm',\n                1000: 'm'\n            };\n            var values = [\n                1000,\n                900,\n                800,\n                700,\n                600,\n                500,\n                400,\n                300,\n                200,\n                100,\n                90,\n                80,\n                70,\n                60,\n                50,\n                40,\n                30,\n                20,\n                10,\n                9,\n                8,\n                7,\n                6,\n                5,\n                4,\n                3,\n                2,\n                1\n            ];\n            var roman = '';\n            while (n > 0) {\n                if (n < values[0]) {\n                    values.shift();\n                } else {\n                    roman += literals[values[0]];\n                    n -= values[0];\n                }\n            }\n            return roman;\n        }\n        function romanToArabic(r) {\n            r = r.toLowerCase();\n            var digits = {\n                i: 1,\n                v: 5,\n                x: 10,\n                l: 50,\n                c: 100,\n                d: 500,\n                m: 1000\n            };\n            var value = 0, prev = 0;\n            for (var i = 0; i < r.length; ++i) {\n                var v = digits[r.charAt(i)];\n                if (!v) {\n                    return null;\n                }\n                value += v;\n                if (v > prev) {\n                    value -= 2 * prev;\n                }\n                prev = v;\n            }\n            return value;\n        }\n        function memoize(f) {\n            var cache = Object.create(null);\n            return function () {\n                var id = '';\n                for (var i = arguments.length; --i >= 0;) {\n                    id += ':' + arguments[i];\n                }\n                return id in cache ? cache[id] : cache[id] = f.apply(this, arguments);\n            };\n        }\n        function ucs2decode(string) {\n            var output = [], counter = 0, length = string.length, value, extra;\n            while (counter < length) {\n                value = string.charCodeAt(counter++);\n                if (value >= 55296 && value <= 56319 && counter < length) {\n                    extra = string.charCodeAt(counter++);\n                    if ((extra & 64512) == 56320) {\n                        output.push(((value & 1023) << 10) + (extra & 1023) + 65536);\n                    } else {\n                        output.push(value);\n                        counter--;\n                    }\n                } else {\n                    output.push(value);\n                }\n            }\n            return output;\n        }\n        function ucs2encode(array) {\n            return array.map(function (value) {\n                var output = '';\n                if (value > 65535) {\n                    value -= 65536;\n                    output += String.fromCharCode(value >>> 10 & 1023 | 55296);\n                    value = 56320 | value & 1023;\n                }\n                output += String.fromCharCode(value);\n                return output;\n            }).join('');\n        }\n        function mergeSort(a, cmp) {\n            if (a.length < 2) {\n                return a.slice();\n            }\n            function merge(a, b) {\n                var r = [], ai = 0, bi = 0, i = 0;\n                while (ai < a.length && bi < b.length) {\n                    if (cmp(a[ai], b[bi]) <= 0) {\n                        r[i++] = a[ai++];\n                    } else {\n                        r[i++] = b[bi++];\n                    }\n                }\n                if (ai < a.length) {\n                    r.push.apply(r, a.slice(ai));\n                }\n                if (bi < b.length) {\n                    r.push.apply(r, b.slice(bi));\n                }\n                return r;\n            }\n            return function sort(a) {\n                if (a.length <= 1) {\n                    return a;\n                }\n                var m = Math.floor(a.length / 2);\n                var left = a.slice(0, m);\n                var right = a.slice(m);\n                left = sort(left);\n                right = sort(right);\n                return merge(left, right);\n            }(a);\n        }\n        deepExtend(kendo, {\n            util: {\n                MAX_NUM: MAX_NUM,\n                MIN_NUM: MIN_NUM,\n                append: append,\n                arrayLimits: arrayLimits,\n                arrayMin: arrayMin,\n                arrayMax: arrayMax,\n                defined: defined,\n                deg: deg,\n                hashKey: hashKey,\n                hashObject: hashObject,\n                isNumber: isNumber,\n                isTransparent: isTransparent,\n                last: last,\n                limitValue: limitValue,\n                now: now,\n                objectKey: objectKey,\n                round: round,\n                rad: rad,\n                renderAttr: renderAttr,\n                renderAllAttr: renderAllAttr,\n                renderPos: renderPos,\n                renderSize: renderSize,\n                renderStyle: renderStyle,\n                renderTemplate: renderTemplate,\n                sparseArrayLimits: sparseArrayLimits,\n                sparseArrayMin: sparseArrayMin,\n                sparseArrayMax: sparseArrayMax,\n                sqr: sqr,\n                valueOrDefault: valueOrDefault,\n                romanToArabic: romanToArabic,\n                arabicToRoman: arabicToRoman,\n                memoize: memoize,\n                ucs2encode: ucs2encode,\n                ucs2decode: ucs2decode,\n                mergeSort: mergeSort\n            }\n        });\n        kendo.drawing.util = kendo.util;\n        kendo.dataviz.util = kendo.util;\n    }());\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('util/text-metrics', [\n        'kendo.core',\n        'util/main'\n    ], f);\n}(function () {\n    (function ($) {\n        var doc = document, kendo = window.kendo, Class = kendo.Class, util = kendo.util, defined = util.defined;\n        var LRUCache = Class.extend({\n            init: function (size) {\n                this._size = size;\n                this._length = 0;\n                this._map = {};\n            },\n            put: function (key, value) {\n                var lru = this, map = lru._map, entry = {\n                        key: key,\n                        value: value\n                    };\n                map[key] = entry;\n                if (!lru._head) {\n                    lru._head = lru._tail = entry;\n                } else {\n                    lru._tail.newer = entry;\n                    entry.older = lru._tail;\n                    lru._tail = entry;\n                }\n                if (lru._length >= lru._size) {\n                    map[lru._head.key] = null;\n                    lru._head = lru._head.newer;\n                    lru._head.older = null;\n                } else {\n                    lru._length++;\n                }\n            },\n            get: function (key) {\n                var lru = this, entry = lru._map[key];\n                if (entry) {\n                    if (entry === lru._head && entry !== lru._tail) {\n                        lru._head = entry.newer;\n                        lru._head.older = null;\n                    }\n                    if (entry !== lru._tail) {\n                        if (entry.older) {\n                            entry.older.newer = entry.newer;\n                            entry.newer.older = entry.older;\n                        }\n                        entry.older = lru._tail;\n                        entry.newer = null;\n                        lru._tail.newer = entry;\n                        lru._tail = entry;\n                    }\n                    return entry.value;\n                }\n            }\n        });\n        var defaultMeasureBox = $('<div style=\\'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;\\' />')[0];\n        function zeroSize() {\n            return {\n                width: 0,\n                height: 0,\n                baseline: 0\n            };\n        }\n        var TextMetrics = Class.extend({\n            init: function (options) {\n                this._cache = new LRUCache(1000);\n                this._initOptions(options);\n            },\n            options: { baselineMarkerSize: 1 },\n            measure: function (text, style, box) {\n                if (!text) {\n                    return zeroSize();\n                }\n                var styleKey = util.objectKey(style), cacheKey = util.hashKey(text + styleKey), cachedResult = this._cache.get(cacheKey);\n                if (cachedResult) {\n                    return cachedResult;\n                }\n                var size = zeroSize();\n                var measureBox = box ? box : defaultMeasureBox;\n                var baselineMarker = this._baselineMarker().cloneNode(false);\n                for (var key in style) {\n                    var value = style[key];\n                    if (defined(value)) {\n                        measureBox.style[key] = value;\n                    }\n                }\n                $(measureBox).text(text);\n                measureBox.appendChild(baselineMarker);\n                doc.body.appendChild(measureBox);\n                if ((text + '').length) {\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\n                    size.height = measureBox.offsetHeight;\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\n                }\n                if (size.width > 0 && size.height > 0) {\n                    this._cache.put(cacheKey, size);\n                }\n                measureBox.parentNode.removeChild(measureBox);\n                return size;\n            },\n            _baselineMarker: function () {\n                return $('<div class=\\'k-baseline-marker\\' ' + 'style=\\'display: inline-block; vertical-align: baseline;' + 'width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;' + 'overflow: hidden;\\' />')[0];\n            }\n        });\n        TextMetrics.current = new TextMetrics();\n        function measureText(text, style, measureBox) {\n            return TextMetrics.current.measure(text, style, measureBox);\n        }\n        function loadFonts(fonts, callback) {\n            var promises = [];\n            if (fonts.length > 0 && document.fonts) {\n                try {\n                    promises = fonts.map(function (font) {\n                        return document.fonts.load(font);\n                    });\n                } catch (e) {\n                    kendo.logToConsole(e);\n                }\n                Promise.all(promises).then(callback, callback);\n            } else {\n                callback();\n            }\n        }\n        kendo.util.TextMetrics = TextMetrics;\n        kendo.util.LRUCache = LRUCache;\n        kendo.util.loadFonts = loadFonts;\n        kendo.util.measureText = measureText;\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('util/base64', ['util/main'], f);\n}(function () {\n    (function () {\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, fromCharCode = String.fromCharCode;\n        var KEY_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n        function encodeBase64(input) {\n            var output = '';\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n            var i = 0;\n            input = encodeUTF8(input);\n            while (i < input.length) {\n                chr1 = input.charCodeAt(i++);\n                chr2 = input.charCodeAt(i++);\n                chr3 = input.charCodeAt(i++);\n                enc1 = chr1 >> 2;\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\n                enc4 = chr3 & 63;\n                if (isNaN(chr2)) {\n                    enc3 = enc4 = 64;\n                } else if (isNaN(chr3)) {\n                    enc4 = 64;\n                }\n                output = output + KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) + KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\n            }\n            return output;\n        }\n        function encodeUTF8(input) {\n            var output = '';\n            for (var i = 0; i < input.length; i++) {\n                var c = input.charCodeAt(i);\n                if (c < 128) {\n                    output += fromCharCode(c);\n                } else if (c < 2048) {\n                    output += fromCharCode(192 | c >>> 6);\n                    output += fromCharCode(128 | c & 63);\n                } else if (c < 65536) {\n                    output += fromCharCode(224 | c >>> 12);\n                    output += fromCharCode(128 | c >>> 6 & 63);\n                    output += fromCharCode(128 | c & 63);\n                }\n            }\n            return output;\n        }\n        deepExtend(kendo.util, {\n            encodeBase64: encodeBase64,\n            encodeUTF8: encodeUTF8\n        });\n    }());\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('mixins/observers', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend, inArray = $.inArray;\n        var ObserversMixin = {\n            observers: function () {\n                this._observers = this._observers || [];\n                return this._observers;\n            },\n            addObserver: function (element) {\n                if (!this._observers) {\n                    this._observers = [element];\n                } else {\n                    this._observers.push(element);\n                }\n                return this;\n            },\n            removeObserver: function (element) {\n                var observers = this.observers();\n                var index = inArray(element, observers);\n                if (index != -1) {\n                    observers.splice(index, 1);\n                }\n                return this;\n            },\n            trigger: function (methodName, event) {\n                var observers = this._observers;\n                var observer;\n                var idx;\n                if (observers && !this._suspended) {\n                    for (idx = 0; idx < observers.length; idx++) {\n                        observer = observers[idx];\n                        if (observer[methodName]) {\n                            observer[methodName](event);\n                        }\n                    }\n                }\n                return this;\n            },\n            optionsChange: function (e) {\n                e = e || {};\n                e.element = this;\n                this.trigger('optionsChange', e);\n            },\n            geometryChange: function () {\n                this.trigger('geometryChange', { element: this });\n            },\n            suspend: function () {\n                this._suspended = (this._suspended || 0) + 1;\n                return this;\n            },\n            resume: function () {\n                this._suspended = math.max((this._suspended || 0) - 1, 0);\n                return this;\n            },\n            _observerField: function (field, value) {\n                if (this[field]) {\n                    this[field].removeObserver(this);\n                }\n                this[field] = value;\n                value.addObserver(this);\n            }\n        };\n        deepExtend(kendo, { mixins: { ObserversMixin: ObserversMixin } });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/geometry', [\n        'util/main',\n        'mixins/observers'\n    ], f);\n}(function () {\n    (function () {\n        var math = Math, pow = math.pow, kendo = window.kendo, Class = kendo.Class, deepExtend = kendo.deepExtend, ObserversMixin = kendo.mixins.ObserversMixin, util = kendo.util, defined = util.defined, rad = util.rad, deg = util.deg, round = util.round;\n        var PI_DIV_2 = math.PI / 2, MIN_NUM = util.MIN_NUM, MAX_NUM = util.MAX_NUM, PRECISION = 10;\n        var Point = Class.extend({\n            init: function (x, y) {\n                this.x = x || 0;\n                this.y = y || 0;\n            },\n            equals: function (other) {\n                return other && other.x === this.x && other.y === this.y;\n            },\n            clone: function () {\n                return new Point(this.x, this.y);\n            },\n            rotate: function (angle, origin) {\n                return this.transform(transform().rotate(angle, origin));\n            },\n            translate: function (x, y) {\n                this.x += x;\n                this.y += y;\n                this.geometryChange();\n                return this;\n            },\n            translateWith: function (point) {\n                return this.translate(point.x, point.y);\n            },\n            move: function (x, y) {\n                this.x = this.y = 0;\n                return this.translate(x, y);\n            },\n            scale: function (scaleX, scaleY) {\n                if (!defined(scaleY)) {\n                    scaleY = scaleX;\n                }\n                this.x *= scaleX;\n                this.y *= scaleY;\n                this.geometryChange();\n                return this;\n            },\n            scaleCopy: function (scaleX, scaleY) {\n                return this.clone().scale(scaleX, scaleY);\n            },\n            transform: function (transformation) {\n                var mx = toMatrix(transformation), x = this.x, y = this.y;\n                this.x = mx.a * x + mx.c * y + mx.e;\n                this.y = mx.b * x + mx.d * y + mx.f;\n                this.geometryChange();\n                return this;\n            },\n            transformCopy: function (transformation) {\n                var point = this.clone();\n                if (transformation) {\n                    point.transform(transformation);\n                }\n                return point;\n            },\n            distanceTo: function (point) {\n                var dx = this.x - point.x;\n                var dy = this.y - point.y;\n                return math.sqrt(dx * dx + dy * dy);\n            },\n            round: function (digits) {\n                this.x = round(this.x, digits);\n                this.y = round(this.y, digits);\n                this.geometryChange();\n                return this;\n            },\n            toArray: function (digits) {\n                var doRound = defined(digits);\n                var x = doRound ? round(this.x, digits) : this.x;\n                var y = doRound ? round(this.y, digits) : this.y;\n                return [\n                    x,\n                    y\n                ];\n            }\n        });\n        defineAccessors(Point.fn, [\n            'x',\n            'y'\n        ]);\n        deepExtend(Point.fn, ObserversMixin);\n        Point.fn.toString = function (digits, separator) {\n            var x = this.x, y = this.y;\n            if (defined(digits)) {\n                x = round(x, digits);\n                y = round(y, digits);\n            }\n            separator = separator || ' ';\n            return x + separator + y;\n        };\n        Point.create = function (arg0, arg1) {\n            if (defined(arg0)) {\n                if (arg0 instanceof Point) {\n                    return arg0;\n                } else if (arguments.length === 1 && arg0.length === 2) {\n                    return new Point(arg0[0], arg0[1]);\n                } else {\n                    return new Point(arg0, arg1);\n                }\n            }\n        };\n        Point.min = function () {\n            var minX = util.MAX_NUM;\n            var minY = util.MAX_NUM;\n            for (var i = 0; i < arguments.length; i++) {\n                var pt = arguments[i];\n                minX = math.min(pt.x, minX);\n                minY = math.min(pt.y, minY);\n            }\n            return new Point(minX, minY);\n        };\n        Point.max = function () {\n            var maxX = util.MIN_NUM;\n            var maxY = util.MIN_NUM;\n            for (var i = 0; i < arguments.length; i++) {\n                var pt = arguments[i];\n                maxX = math.max(pt.x, maxX);\n                maxY = math.max(pt.y, maxY);\n            }\n            return new Point(maxX, maxY);\n        };\n        Point.minPoint = function () {\n            return new Point(MIN_NUM, MIN_NUM);\n        };\n        Point.maxPoint = function () {\n            return new Point(MAX_NUM, MAX_NUM);\n        };\n        Point.ZERO = new Point(0, 0);\n        var Size = Class.extend({\n            init: function (width, height) {\n                this.width = width || 0;\n                this.height = height || 0;\n            },\n            equals: function (other) {\n                return other && other.width === this.width && other.height === this.height;\n            },\n            clone: function () {\n                return new Size(this.width, this.height);\n            },\n            toArray: function (digits) {\n                var doRound = defined(digits);\n                var width = doRound ? round(this.width, digits) : this.width;\n                var height = doRound ? round(this.height, digits) : this.height;\n                return [\n                    width,\n                    height\n                ];\n            }\n        });\n        defineAccessors(Size.fn, [\n            'width',\n            'height'\n        ]);\n        deepExtend(Size.fn, ObserversMixin);\n        Size.create = function (arg0, arg1) {\n            if (defined(arg0)) {\n                if (arg0 instanceof Size) {\n                    return arg0;\n                } else if (arguments.length === 1 && arg0.length === 2) {\n                    return new Size(arg0[0], arg0[1]);\n                } else {\n                    return new Size(arg0, arg1);\n                }\n            }\n        };\n        Size.ZERO = new Size(0, 0);\n        var Rect = Class.extend({\n            init: function (origin, size) {\n                this.setOrigin(origin || new Point());\n                this.setSize(size || new Size());\n            },\n            clone: function () {\n                return new Rect(this.origin.clone(), this.size.clone());\n            },\n            equals: function (other) {\n                return other && other.origin.equals(this.origin) && other.size.equals(this.size);\n            },\n            setOrigin: function (value) {\n                this._observerField('origin', Point.create(value));\n                this.geometryChange();\n                return this;\n            },\n            getOrigin: function () {\n                return this.origin;\n            },\n            setSize: function (value) {\n                this._observerField('size', Size.create(value));\n                this.geometryChange();\n                return this;\n            },\n            getSize: function () {\n                return this.size;\n            },\n            width: function () {\n                return this.size.width;\n            },\n            height: function () {\n                return this.size.height;\n            },\n            topLeft: function () {\n                return this.origin.clone();\n            },\n            bottomRight: function () {\n                return this.origin.clone().translate(this.width(), this.height());\n            },\n            topRight: function () {\n                return this.origin.clone().translate(this.width(), 0);\n            },\n            bottomLeft: function () {\n                return this.origin.clone().translate(0, this.height());\n            },\n            center: function () {\n                return this.origin.clone().translate(this.width() / 2, this.height() / 2);\n            },\n            bbox: function (matrix) {\n                var tl = this.topLeft().transformCopy(matrix);\n                var tr = this.topRight().transformCopy(matrix);\n                var br = this.bottomRight().transformCopy(matrix);\n                var bl = this.bottomLeft().transformCopy(matrix);\n                return Rect.fromPoints(tl, tr, br, bl);\n            },\n            transformCopy: function (m) {\n                return Rect.fromPoints(this.topLeft().transform(m), this.bottomRight().transform(m));\n            },\n            expand: function (x, y) {\n                if (!defined(y)) {\n                    y = x;\n                }\n                this.size.width += 2 * x;\n                this.size.height += 2 * y;\n                this.origin.translate(-x, -y);\n                return this;\n            },\n            expandCopy: function (x, y) {\n                return this.clone().expand(x, y);\n            },\n            containsPoint: function (point) {\n                var origin = this.origin;\n                var bottomRight = this.bottomRight();\n                return !(point.x < origin.x || point.y < origin.y || bottomRight.x < point.x || bottomRight.y < point.y);\n            },\n            _isOnPath: function (point, width) {\n                var rectOuter = this.expandCopy(width, width);\n                var rectInner = this.expandCopy(-width, -width);\n                return rectOuter.containsPoint(point) && !rectInner.containsPoint(point);\n            }\n        });\n        deepExtend(Rect.fn, ObserversMixin);\n        Rect.fromPoints = function () {\n            var topLeft = Point.min.apply(this, arguments);\n            var bottomRight = Point.max.apply(this, arguments);\n            var size = new Size(bottomRight.x - topLeft.x, bottomRight.y - topLeft.y);\n            return new Rect(topLeft, size);\n        };\n        Rect.union = function (a, b) {\n            return Rect.fromPoints(Point.min(a.topLeft(), b.topLeft()), Point.max(a.bottomRight(), b.bottomRight()));\n        };\n        Rect.intersect = function (a, b) {\n            a = {\n                left: a.topLeft().x,\n                top: a.topLeft().y,\n                right: a.bottomRight().x,\n                bottom: a.bottomRight().y\n            };\n            b = {\n                left: b.topLeft().x,\n                top: b.topLeft().y,\n                right: b.bottomRight().x,\n                bottom: b.bottomRight().y\n            };\n            if (a.left <= b.right && b.left <= a.right && a.top <= b.bottom && b.top <= a.bottom) {\n                return Rect.fromPoints(new Point(math.max(a.left, b.left), math.max(a.top, b.top)), new Point(math.min(a.right, b.right), math.min(a.bottom, b.bottom)));\n            }\n        };\n        var Circle = Class.extend({\n            init: function (center, radius) {\n                this.setCenter(center || new Point());\n                this.setRadius(radius || 0);\n            },\n            setCenter: function (value) {\n                this._observerField('center', Point.create(value));\n                this.geometryChange();\n                return this;\n            },\n            getCenter: function () {\n                return this.center;\n            },\n            equals: function (other) {\n                return other && other.center.equals(this.center) && other.radius === this.radius;\n            },\n            clone: function () {\n                return new Circle(this.center.clone(), this.radius);\n            },\n            pointAt: function (angle) {\n                return this._pointAt(rad(angle));\n            },\n            bbox: function (matrix) {\n                var minPoint = Point.maxPoint();\n                var maxPoint = Point.minPoint();\n                var extremeAngles = ellipseExtremeAngles(this.center, this.radius, this.radius, matrix);\n                for (var i = 0; i < 4; i++) {\n                    var currentPointX = this._pointAt(extremeAngles.x + i * PI_DIV_2).transformCopy(matrix);\n                    var currentPointY = this._pointAt(extremeAngles.y + i * PI_DIV_2).transformCopy(matrix);\n                    var currentPoint = new Point(currentPointX.x, currentPointY.y);\n                    minPoint = Point.min(minPoint, currentPoint);\n                    maxPoint = Point.max(maxPoint, currentPoint);\n                }\n                return Rect.fromPoints(minPoint, maxPoint);\n            },\n            _pointAt: function (angle) {\n                var c = this.center;\n                var r = this.radius;\n                return new Point(c.x - r * math.cos(angle), c.y - r * math.sin(angle));\n            },\n            containsPoint: function (point) {\n                var center = this.center;\n                var inCircle = math.pow(point.x - center.x, 2) + math.pow(point.y - center.y, 2) <= math.pow(this.radius, 2);\n                return inCircle;\n            },\n            _isOnPath: function (point, width) {\n                var center = this.center;\n                var radius = this.radius;\n                var pointDistance = center.distanceTo(point);\n                return radius - width <= pointDistance && pointDistance <= radius + width;\n            }\n        });\n        defineAccessors(Circle.fn, ['radius']);\n        deepExtend(Circle.fn, ObserversMixin);\n        var Arc = Class.extend({\n            init: function (center, options) {\n                this.setCenter(center || new Point());\n                options = options || {};\n                this.radiusX = options.radiusX;\n                this.radiusY = options.radiusY || options.radiusX;\n                this.startAngle = options.startAngle;\n                this.endAngle = options.endAngle;\n                this.anticlockwise = options.anticlockwise || false;\n            },\n            clone: function () {\n                return new Arc(this.center, {\n                    radiusX: this.radiusX,\n                    radiusY: this.radiusY,\n                    startAngle: this.startAngle,\n                    endAngle: this.endAngle,\n                    anticlockwise: this.anticlockwise\n                });\n            },\n            setCenter: function (value) {\n                this._observerField('center', Point.create(value));\n                this.geometryChange();\n                return this;\n            },\n            getCenter: function () {\n                return this.center;\n            },\n            MAX_INTERVAL: 45,\n            pointAt: function (angle) {\n                var center = this.center;\n                var radian = rad(angle);\n                return new Point(center.x + this.radiusX * math.cos(radian), center.y + this.radiusY * math.sin(radian));\n            },\n            curvePoints: function () {\n                var startAngle = this.startAngle;\n                var dir = this.anticlockwise ? -1 : 1;\n                var curvePoints = [this.pointAt(startAngle)];\n                var currentAngle = startAngle;\n                var interval = this._arcInterval();\n                var intervalAngle = interval.endAngle - interval.startAngle;\n                var subIntervalsCount = math.ceil(intervalAngle / this.MAX_INTERVAL);\n                var subIntervalAngle = intervalAngle / subIntervalsCount;\n                for (var i = 1; i <= subIntervalsCount; i++) {\n                    var nextAngle = currentAngle + dir * subIntervalAngle;\n                    var points = this._intervalCurvePoints(currentAngle, nextAngle);\n                    curvePoints.push(points.cp1, points.cp2, points.p2);\n                    currentAngle = nextAngle;\n                }\n                return curvePoints;\n            },\n            bbox: function (matrix) {\n                var arc = this;\n                var interval = arc._arcInterval();\n                var startAngle = interval.startAngle;\n                var endAngle = interval.endAngle;\n                var extremeAngles = ellipseExtremeAngles(this.center, this.radiusX, this.radiusY, matrix);\n                var extremeX = deg(extremeAngles.x);\n                var extremeY = deg(extremeAngles.y);\n                var currentPoint = arc.pointAt(startAngle).transformCopy(matrix);\n                var endPoint = arc.pointAt(endAngle).transformCopy(matrix);\n                var minPoint = Point.min(currentPoint, endPoint);\n                var maxPoint = Point.max(currentPoint, endPoint);\n                var currentAngleX = bboxStartAngle(extremeX, startAngle);\n                var currentAngleY = bboxStartAngle(extremeY, startAngle);\n                while (currentAngleX < endAngle || currentAngleY < endAngle) {\n                    var currentPointX;\n                    if (currentAngleX < endAngle) {\n                        currentPointX = arc.pointAt(currentAngleX).transformCopy(matrix);\n                        currentAngleX += 90;\n                    }\n                    var currentPointY;\n                    if (currentAngleY < endAngle) {\n                        currentPointY = arc.pointAt(currentAngleY).transformCopy(matrix);\n                        currentAngleY += 90;\n                    }\n                    currentPoint = new Point(currentPointX.x, currentPointY.y);\n                    minPoint = Point.min(minPoint, currentPoint);\n                    maxPoint = Point.max(maxPoint, currentPoint);\n                }\n                return Rect.fromPoints(minPoint, maxPoint);\n            },\n            _arcInterval: function () {\n                var startAngle = this.startAngle;\n                var endAngle = this.endAngle;\n                var anticlockwise = this.anticlockwise;\n                if (anticlockwise) {\n                    var oldStart = startAngle;\n                    startAngle = endAngle;\n                    endAngle = oldStart;\n                }\n                if (startAngle > endAngle || anticlockwise && startAngle === endAngle) {\n                    endAngle += 360;\n                }\n                return {\n                    startAngle: startAngle,\n                    endAngle: endAngle\n                };\n            },\n            _intervalCurvePoints: function (startAngle, endAngle) {\n                var arc = this;\n                var p1 = arc.pointAt(startAngle);\n                var p2 = arc.pointAt(endAngle);\n                var p1Derivative = arc._derivativeAt(startAngle);\n                var p2Derivative = arc._derivativeAt(endAngle);\n                var t = (rad(endAngle) - rad(startAngle)) / 3;\n                var cp1 = new Point(p1.x + t * p1Derivative.x, p1.y + t * p1Derivative.y);\n                var cp2 = new Point(p2.x - t * p2Derivative.x, p2.y - t * p2Derivative.y);\n                return {\n                    p1: p1,\n                    cp1: cp1,\n                    cp2: cp2,\n                    p2: p2\n                };\n            },\n            _derivativeAt: function (angle) {\n                var arc = this;\n                var radian = rad(angle);\n                return new Point(-arc.radiusX * math.sin(radian), arc.radiusY * math.cos(radian));\n            },\n            containsPoint: function (point) {\n                var interval = this._arcInterval();\n                var intervalAngle = interval.endAngle - interval.startAngle;\n                var center = this.center;\n                var distance = center.distanceTo(point);\n                var angleRad = math.atan2(point.y - center.y, point.x - center.x);\n                var pointRadius = this.radiusX * this.radiusY / math.sqrt(math.pow(this.radiusX, 2) * math.pow(math.sin(angleRad), 2) + math.pow(this.radiusY, 2) * math.pow(math.cos(angleRad), 2));\n                var startPoint = this.pointAt(this.startAngle).round(PRECISION);\n                var endPoint = this.pointAt(this.endAngle).round(PRECISION);\n                var intersection = lineIntersection(center, point.round(PRECISION), startPoint, endPoint);\n                var containsPoint;\n                if (intervalAngle < 180) {\n                    containsPoint = intersection && closeOrLess(center.distanceTo(intersection), distance) && closeOrLess(distance, pointRadius);\n                } else {\n                    var angle = calculateAngle(center.x, center.y, this.radiusX, this.radiusY, point.x, point.y);\n                    if (angle != 360) {\n                        angle = (360 + angle) % 360;\n                    }\n                    var inAngleRange = interval.startAngle <= angle && angle <= interval.endAngle;\n                    containsPoint = inAngleRange && closeOrLess(distance, pointRadius) || !inAngleRange && (!intersection || intersection.equals(point));\n                }\n                return containsPoint;\n            },\n            _isOnPath: function (point, width) {\n                var interval = this._arcInterval();\n                var center = this.center;\n                var angle = calculateAngle(center.x, center.y, this.radiusX, this.radiusY, point.x, point.y);\n                if (angle != 360) {\n                    angle = (360 + angle) % 360;\n                }\n                var inAngleRange = interval.startAngle <= angle && angle <= interval.endAngle;\n                return inAngleRange && this.pointAt(angle).distanceTo(point) <= width;\n            }\n        });\n        defineAccessors(Arc.fn, [\n            'radiusX',\n            'radiusY',\n            'startAngle',\n            'endAngle',\n            'anticlockwise'\n        ]);\n        deepExtend(Arc.fn, ObserversMixin);\n        Arc.fromPoints = function (start, end, rx, ry, largeArc, swipe) {\n            var arcParameters = normalizeArcParameters(start.x, start.y, end.x, end.y, rx, ry, largeArc, swipe);\n            return new Arc(arcParameters.center, {\n                startAngle: arcParameters.startAngle,\n                endAngle: arcParameters.endAngle,\n                radiusX: rx,\n                radiusY: ry,\n                anticlockwise: swipe === 0\n            });\n        };\n        var Matrix = Class.extend({\n            init: function (a, b, c, d, e, f) {\n                this.a = a || 0;\n                this.b = b || 0;\n                this.c = c || 0;\n                this.d = d || 0;\n                this.e = e || 0;\n                this.f = f || 0;\n            },\n            multiplyCopy: function (m) {\n                return new Matrix(this.a * m.a + this.c * m.b, this.b * m.a + this.d * m.b, this.a * m.c + this.c * m.d, this.b * m.c + this.d * m.d, this.a * m.e + this.c * m.f + this.e, this.b * m.e + this.d * m.f + this.f);\n            },\n            invert: function () {\n                var a = this.a, b = this.b;\n                var d = this.c, e = this.d;\n                var g = this.e, h = this.f;\n                var det = a * e - b * d;\n                if (det === 0) {\n                    return null;\n                }\n                return new Matrix(e / det, -b / det, -d / det, a / det, (d * h - e * g) / det, (b * g - a * h) / det);\n            },\n            clone: function () {\n                return new Matrix(this.a, this.b, this.c, this.d, this.e, this.f);\n            },\n            equals: function (other) {\n                if (!other) {\n                    return false;\n                }\n                return this.a === other.a && this.b === other.b && this.c === other.c && this.d === other.d && this.e === other.e && this.f === other.f;\n            },\n            round: function (precision) {\n                this.a = round(this.a, precision);\n                this.b = round(this.b, precision);\n                this.c = round(this.c, precision);\n                this.d = round(this.d, precision);\n                this.e = round(this.e, precision);\n                this.f = round(this.f, precision);\n                return this;\n            },\n            toArray: function (precision) {\n                var arr = [\n                    this.a,\n                    this.b,\n                    this.c,\n                    this.d,\n                    this.e,\n                    this.f\n                ];\n                if (defined(precision)) {\n                    for (var i = 0; i < arr.length; i++) {\n                        arr[i] = round(arr[i], precision);\n                    }\n                }\n                return arr;\n            }\n        });\n        Matrix.fn.toString = function (precision, separator) {\n            return this.toArray(precision).join(separator || ',');\n        };\n        Matrix.translate = function (x, y) {\n            return new Matrix(1, 0, 0, 1, x, y);\n        };\n        Matrix.unit = function () {\n            return new Matrix(1, 0, 0, 1, 0, 0);\n        };\n        Matrix.rotate = function (angle, x, y) {\n            var m = new Matrix();\n            m.a = math.cos(rad(angle));\n            m.b = math.sin(rad(angle));\n            m.c = -m.b;\n            m.d = m.a;\n            m.e = x - x * m.a + y * m.b || 0;\n            m.f = y - y * m.a - x * m.b || 0;\n            return m;\n        };\n        Matrix.scale = function (scaleX, scaleY) {\n            return new Matrix(scaleX, 0, 0, scaleY, 0, 0);\n        };\n        Matrix.IDENTITY = Matrix.unit();\n        var Transformation = Class.extend({\n            init: function (matrix) {\n                this._matrix = matrix || Matrix.unit();\n            },\n            clone: function () {\n                return new Transformation(this._matrix.clone());\n            },\n            equals: function (other) {\n                return other && other._matrix.equals(this._matrix);\n            },\n            _optionsChange: function () {\n                this.optionsChange({\n                    field: 'transform',\n                    value: this\n                });\n            },\n            translate: function (x, y) {\n                this._matrix = this._matrix.multiplyCopy(Matrix.translate(x, y));\n                this._optionsChange();\n                return this;\n            },\n            scale: function (scaleX, scaleY, origin) {\n                if (!defined(scaleY)) {\n                    scaleY = scaleX;\n                }\n                if (origin) {\n                    origin = Point.create(origin);\n                    this._matrix = this._matrix.multiplyCopy(Matrix.translate(origin.x, origin.y));\n                }\n                this._matrix = this._matrix.multiplyCopy(Matrix.scale(scaleX, scaleY));\n                if (origin) {\n                    this._matrix = this._matrix.multiplyCopy(Matrix.translate(-origin.x, -origin.y));\n                }\n                this._optionsChange();\n                return this;\n            },\n            rotate: function (angle, origin) {\n                origin = Point.create(origin) || Point.ZERO;\n                this._matrix = this._matrix.multiplyCopy(Matrix.rotate(angle, origin.x, origin.y));\n                this._optionsChange();\n                return this;\n            },\n            multiply: function (transformation) {\n                var matrix = toMatrix(transformation);\n                this._matrix = this._matrix.multiplyCopy(matrix);\n                this._optionsChange();\n                return this;\n            },\n            matrix: function (matrix) {\n                if (matrix) {\n                    this._matrix = matrix;\n                    this._optionsChange();\n                    return this;\n                } else {\n                    return this._matrix;\n                }\n            }\n        });\n        deepExtend(Transformation.fn, ObserversMixin);\n        function transform(matrix) {\n            if (matrix === null) {\n                return null;\n            }\n            if (matrix instanceof Transformation) {\n                return matrix;\n            }\n            return new Transformation(matrix);\n        }\n        function toMatrix(value) {\n            if (value && kendo.isFunction(value.matrix)) {\n                return value.matrix();\n            }\n            return value;\n        }\n        function ellipseExtremeAngles(center, rx, ry, matrix) {\n            var extremeX = 0, extremeY = 0;\n            if (matrix) {\n                extremeX = math.atan2(matrix.c * ry, matrix.a * rx);\n                if (matrix.b !== 0) {\n                    extremeY = math.atan2(matrix.d * ry, matrix.b * rx);\n                }\n            }\n            return {\n                x: extremeX,\n                y: extremeY\n            };\n        }\n        function bboxStartAngle(angle, start) {\n            while (angle < start) {\n                angle += 90;\n            }\n            return angle;\n        }\n        function defineAccessors(fn, fields) {\n            for (var i = 0; i < fields.length; i++) {\n                var name = fields[i];\n                var capitalized = name.charAt(0).toUpperCase() + name.substring(1, name.length);\n                fn['set' + capitalized] = setAccessor(name);\n                fn['get' + capitalized] = getAccessor(name);\n            }\n        }\n        function setAccessor(field) {\n            return function (value) {\n                if (this[field] !== value) {\n                    this[field] = value;\n                    this.geometryChange();\n                }\n                return this;\n            };\n        }\n        function getAccessor(field) {\n            return function () {\n                return this[field];\n            };\n        }\n        function elipseAngle(start, end, swipe) {\n            if (start > end) {\n                end += 360;\n            }\n            var alpha = math.abs(end - start);\n            if (!swipe) {\n                alpha = 360 - alpha;\n            }\n            return alpha;\n        }\n        function calculateAngle(cx, cy, rx, ry, x, y) {\n            var cos = round((x - cx) / rx, 3);\n            var sin = round((y - cy) / ry, 3);\n            return round(deg(math.atan2(sin, cos)));\n        }\n        function normalizeArcParameters(x1, y1, x2, y2, rx, ry, largeArc, swipe) {\n            var cx, cy;\n            var cx1, cy1;\n            var a, b, c, sqrt;\n            if (y1 !== y2) {\n                var x21 = x2 - x1;\n                var y21 = y2 - y1;\n                var rx2 = pow(rx, 2), ry2 = pow(ry, 2);\n                var k = (ry2 * x21 * (x1 + x2) + rx2 * y21 * (y1 + y2)) / (2 * rx2 * y21);\n                var yk2 = k - y2;\n                var l = -(x21 * ry2) / (rx2 * y21);\n                a = 1 / rx2 + pow(l, 2) / ry2;\n                b = 2 * (l * yk2 / ry2 - x2 / rx2);\n                c = pow(x2, 2) / rx2 + pow(yk2, 2) / ry2 - 1;\n                sqrt = math.sqrt(pow(b, 2) - 4 * a * c);\n                cx = (-b - sqrt) / (2 * a);\n                cy = k + l * cx;\n                cx1 = (-b + sqrt) / (2 * a);\n                cy1 = k + l * cx1;\n            } else if (x1 !== x2) {\n                b = -2 * y2;\n                c = pow((x2 - x1) * ry / (2 * rx), 2) + pow(y2, 2) - pow(ry, 2);\n                sqrt = math.sqrt(pow(b, 2) - 4 * c);\n                cx = cx1 = (x1 + x2) / 2;\n                cy = (-b - sqrt) / 2;\n                cy1 = (-b + sqrt) / 2;\n            } else {\n                return false;\n            }\n            var start = calculateAngle(cx, cy, rx, ry, x1, y1);\n            var end = calculateAngle(cx, cy, rx, ry, x2, y2);\n            var alpha = elipseAngle(start, end, swipe);\n            if (largeArc && alpha <= 180 || !largeArc && alpha > 180) {\n                cx = cx1;\n                cy = cy1;\n                start = calculateAngle(cx, cy, rx, ry, x1, y1);\n                end = calculateAngle(cx, cy, rx, ry, x2, y2);\n            }\n            return {\n                center: new Point(cx, cy),\n                startAngle: start,\n                endAngle: end\n            };\n        }\n        var ComplexNumber = function (real, img) {\n            this.real = real || 0;\n            this.img = img || 0;\n        };\n        ComplexNumber.fn = ComplexNumber.prototype = {\n            add: function (cNumber) {\n                return new ComplexNumber(round(this.real + cNumber.real, PRECISION), round(this.img + cNumber.img, PRECISION));\n            },\n            addConstant: function (value) {\n                return new ComplexNumber(this.real + value, this.img);\n            },\n            negate: function () {\n                return new ComplexNumber(-this.real, -this.img);\n            },\n            multiply: function (cNumber) {\n                return new ComplexNumber(this.real * cNumber.real - this.img * cNumber.img, this.real * cNumber.img + this.img * cNumber.real);\n            },\n            multiplyConstant: function (value) {\n                return new ComplexNumber(this.real * value, this.img * value);\n            },\n            nthRoot: function (n) {\n                var rad = math.atan2(this.img, this.real), r = math.sqrt(math.pow(this.img, 2) + math.pow(this.real, 2)), nthR = math.pow(r, 1 / n);\n                return new ComplexNumber(nthR * math.cos(rad / n), nthR * math.sin(rad / n));\n            },\n            equals: function (cNumber) {\n                return this.real === cNumber.real && this.img === cNumber.img;\n            },\n            isReal: function () {\n                return this.img === 0;\n            }\n        };\n        function solveCubic(a, b, c, d) {\n            if (a === 0) {\n                return solveQuadratic(b, c, d);\n            }\n            var p = (3 * a * c - math.pow(b, 2)) / (3 * math.pow(a, 2)), q = (2 * math.pow(b, 3) - 9 * a * b * c + 27 * math.pow(a, 2) * d) / (27 * math.pow(a, 3)), Q = math.pow(p / 3, 3) + math.pow(q / 2, 2), i = new ComplexNumber(0, 1), b3a = -b / (3 * a), x1, x2, y1, y2, y3, result = [], z1, z2;\n            if (Q < 0) {\n                x1 = new ComplexNumber(-q / 2, math.sqrt(-Q)).nthRoot(3);\n                x2 = new ComplexNumber(-q / 2, -math.sqrt(-Q)).nthRoot(3);\n            } else {\n                x1 = -q / 2 + math.sqrt(Q);\n                x1 = new ComplexNumber(numberSign(x1) * math.pow(math.abs(x1), 1 / 3));\n                x2 = -q / 2 - math.sqrt(Q);\n                x2 = new ComplexNumber(numberSign(x2) * math.pow(math.abs(x2), 1 / 3));\n            }\n            y1 = x1.add(x2);\n            z1 = x1.add(x2).multiplyConstant(-1 / 2);\n            z2 = x1.add(x2.negate()).multiplyConstant(math.sqrt(3) / 2);\n            y2 = z1.add(i.multiply(z2));\n            y3 = z1.add(i.negate().multiply(z2));\n            if (y1.isReal()) {\n                result.push(round(y1.real + b3a, PRECISION));\n            }\n            if (y2.isReal()) {\n                result.push(round(y2.real + b3a, PRECISION));\n            }\n            if (y3.isReal()) {\n                result.push(round(y3.real + b3a, PRECISION));\n            }\n            return result;\n        }\n        function toCubicPolynomial(points, field) {\n            return [\n                -points[0][field] + 3 * points[1][field] - 3 * points[2][field] + points[3][field],\n                3 * (points[0][field] - 2 * points[1][field] + points[2][field]),\n                3 * (-points[0][field] + points[1][field]),\n                points[0][field]\n            ];\n        }\n        function calculateCurveAt(t, field, points) {\n            var t1 = 1 - t;\n            return math.pow(t1, 3) * points[0][field] + 3 * math.pow(t1, 2) * t * points[1][field] + 3 * math.pow(t, 2) * t1 * points[2][field] + math.pow(t, 3) * points[3][field];\n        }\n        function curveIntersectionsCount(points, point, bbox) {\n            var polynomial = toCubicPolynomial(points, 'x');\n            var roots = solveCubic(polynomial[0], polynomial[1], polynomial[2], polynomial[3] - point.x);\n            var count = 0;\n            var rayIntersection;\n            var intersectsRay;\n            for (var i = 0; i < roots.length; i++) {\n                rayIntersection = calculateCurveAt(roots[i], 'y', points);\n                intersectsRay = close(rayIntersection, point.y) || rayIntersection > point.y;\n                if (intersectsRay && ((roots[i] === 0 || roots[i] === 1) && bbox.bottomRight().x > point.x || 0 < roots[i] && roots[i] < 1)) {\n                    count++;\n                }\n            }\n            return count;\n        }\n        function lineIntersectionsCount(a, b, point) {\n            var intersects;\n            if (a.x != b.x) {\n                var minX = math.min(a.x, b.x), maxX = math.max(a.x, b.x), minY = math.min(a.y, b.y), maxY = math.max(a.y, b.y), inRange = minX <= point.x && point.x < maxX;\n                if (minY == maxY) {\n                    intersects = point.y <= minY && inRange;\n                } else {\n                    intersects = inRange && (maxY - minY) * ((a.x - b.x) * (a.y - b.y) > 0 ? point.x - minX : maxX - point.x) / (maxX - minX) + minY - point.y >= 0;\n                }\n            }\n            return intersects ? 1 : 0;\n        }\n        function lineIntersection(p0, p1, p2, p3) {\n            var s1x = p1.x - p0.x;\n            var s2x = p3.x - p2.x;\n            var s1y = p1.y - p0.y;\n            var s2y = p3.y - p2.y;\n            var nx = p0.x - p2.x;\n            var ny = p0.y - p2.y;\n            var d = s1x * s2y - s2x * s1y;\n            var s = (s1x * ny - s1y * nx) / d;\n            var t = (s2x * ny - s2y * nx) / d;\n            if (s >= 0 && s <= 1 && t >= 0 && t <= 1) {\n                return new Point(p0.x + t * s1x, p0.y + t * s1y);\n            }\n        }\n        function close(a, b, tolerance) {\n            return round(math.abs(a - b), tolerance || PRECISION) === 0;\n        }\n        function closeOrLess(a, b, tolerance) {\n            return a < b || close(a, b, tolerance);\n        }\n        function numberSign(x) {\n            return x < 0 ? -1 : 1;\n        }\n        function isOutOfEndPoint(endPoint, controlPoint, point) {\n            var angle = util.deg(math.atan2(controlPoint.y - endPoint.y, controlPoint.x - endPoint.x));\n            var rotatedPoint = point.transformCopy(transform().rotate(-angle, endPoint));\n            return rotatedPoint.x < endPoint.x;\n        }\n        function hasRootsInRange(points, point, field, rootField, range) {\n            var polynomial = toCubicPolynomial(points, rootField);\n            var roots = solveCubic(polynomial[0], polynomial[1], polynomial[2], polynomial[3] - point[rootField]);\n            var intersection;\n            for (var idx = 0; idx < roots.length; idx++) {\n                if (0 <= roots[idx] && roots[idx] <= 1) {\n                    intersection = calculateCurveAt(roots[idx], field, points);\n                    if (math.abs(intersection - point[field]) <= range) {\n                        return true;\n                    }\n                }\n            }\n        }\n        function solveQuadratic(a, b, c) {\n            var squareRoot = math.sqrt(math.pow(b, 2) - 4 * a * c);\n            return [\n                (-b + squareRoot) / (2 * a),\n                (-b - squareRoot) / (2 * a)\n            ];\n        }\n        deepExtend(kendo, {\n            geometry: {\n                Arc: Arc,\n                Circle: Circle,\n                curveIntersectionsCount: curveIntersectionsCount,\n                lineIntersectionsCount: lineIntersectionsCount,\n                Matrix: Matrix,\n                Point: Point,\n                Rect: Rect,\n                Size: Size,\n                Transformation: Transformation,\n                transform: transform,\n                toMatrix: toMatrix,\n                isOutOfEndPoint: isOutOfEndPoint,\n                hasRootsInRange: hasRootsInRange\n            }\n        });\n        kendo.dataviz.geometry = kendo.geometry;\n    }());\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/core', [\n        'drawing/geometry',\n        'kendo.popup'\n    ], f);\n}(function () {\n    (function ($) {\n        var noop = $.noop, toString = Object.prototype.toString, kendo = window.kendo, outerWidth = kendo._outerWidth, outerHeight = kendo._outerHeight, Class = kendo.Class, Widget = kendo.ui.Widget, deepExtend = kendo.deepExtend, util = kendo.util, defined = util.defined, limitValue = util.limitValue, g = kendo.geometry, proxy = $.proxy, NS = '.kendo', TOOLTIP_TEMPLATE = '<div class=\"k-tooltip\">' + '<div class=\"k-tooltip-content\"></div>' + '</div>', TOOLTIP_CLOSE_TEMPLATE = '<div class=\"k-tooltip-button\"><a href=\"\\\\#\" class=\"k-icon k-i-close\">close</a></div>';\n        var Surface = Widget.extend({\n            init: function (element, options) {\n                this.options = deepExtend({}, this.options, options);\n                Widget.fn.init.call(this, element, this.options);\n                this._click = this._handler('click');\n                this._mouseenter = this._handler('mouseenter');\n                this._mouseleave = this._handler('mouseleave');\n                this._mousemove = this._handler('mousemove');\n                this._visual = new kendo.drawing.Group();\n                if (this.options.width) {\n                    this.element.css('width', this.options.width);\n                }\n                if (this.options.height) {\n                    this.element.css('height', this.options.height);\n                }\n                this._enableTracking();\n            },\n            options: {\n                name: 'Surface',\n                tooltip: {}\n            },\n            events: [\n                'click',\n                'mouseenter',\n                'mouseleave',\n                'mousemove',\n                'resize',\n                'tooltipOpen',\n                'tooltipClose'\n            ],\n            draw: function (element) {\n                this._visual.children.push(element);\n            },\n            clear: function () {\n                this._visual.children = [];\n                this.hideTooltip();\n            },\n            destroy: function () {\n                this._visual = null;\n                if (this._tooltip) {\n                    this._tooltip.destroy();\n                    delete this._tooltip;\n                }\n                Widget.fn.destroy.call(this);\n            },\n            exportVisual: function () {\n                return this._visual;\n            },\n            getSize: function () {\n                return {\n                    width: this.element.width(),\n                    height: this.element.height()\n                };\n            },\n            setSize: function (size) {\n                this.element.css({\n                    width: size.width,\n                    height: size.height\n                });\n                this._size = size;\n                this._resize();\n            },\n            eventTarget: function (e) {\n                var domNode = $(e.touch ? e.touch.initialTouch : e.target);\n                var node;\n                while (!node && domNode.length > 0) {\n                    node = domNode[0]._kendoNode;\n                    if (domNode.is(this.element) || domNode.length === 0) {\n                        break;\n                    }\n                    domNode = domNode.parent();\n                }\n                if (node) {\n                    return node.srcElement;\n                }\n            },\n            showTooltip: function (shape, options) {\n                if (this._tooltip) {\n                    this._tooltip.show(shape, options);\n                }\n            },\n            hideTooltip: function () {\n                if (this._tooltip) {\n                    this._tooltip.hide();\n                }\n            },\n            suspendTracking: function () {\n                this._suspendedTracking = true;\n                this.hideTooltip();\n            },\n            resumeTracking: function () {\n                this._suspendedTracking = false;\n            },\n            _resize: noop,\n            _handler: function (event) {\n                var surface = this;\n                return function (e) {\n                    var node = surface.eventTarget(e);\n                    if (node && !surface._suspendedTracking) {\n                        surface.trigger(event, {\n                            element: node,\n                            originalEvent: e,\n                            type: event\n                        });\n                    }\n                };\n            },\n            _enableTracking: function () {\n                if (kendo.ui.Popup) {\n                    this._tooltip = new SurfaceTooltip(this, this.options.tooltip || {});\n                }\n            },\n            _elementOffset: function () {\n                var element = this.element;\n                var offset = element.offset();\n                var paddingLeft = parseInt(element.css('paddingLeft'), 10);\n                var paddingTop = parseInt(element.css('paddingTop'), 10);\n                return {\n                    left: offset.left + paddingLeft,\n                    top: offset.top + paddingTop\n                };\n            },\n            _surfacePoint: function (event) {\n                var offset = this._elementOffset();\n                var coord = eventCoordinates(event);\n                var x = coord.x - offset.left;\n                var y = coord.y - offset.top;\n                return new g.Point(x, y);\n            }\n        });\n        kendo.ui.plugin(Surface);\n        Surface.create = function (element, options) {\n            return SurfaceFactory.current.create(element, options);\n        };\n        var BaseNode = Class.extend({\n            init: function (srcElement) {\n                this.childNodes = [];\n                this.parent = null;\n                if (srcElement) {\n                    this.srcElement = srcElement;\n                    this.observe();\n                }\n            },\n            destroy: function () {\n                if (this.srcElement) {\n                    this.srcElement.removeObserver(this);\n                }\n                var children = this.childNodes;\n                for (var i = 0; i < children.length; i++) {\n                    this.childNodes[i].destroy();\n                }\n                this.parent = null;\n            },\n            load: noop,\n            observe: function () {\n                if (this.srcElement) {\n                    this.srcElement.addObserver(this);\n                }\n            },\n            append: function (node) {\n                this.childNodes.push(node);\n                node.parent = this;\n            },\n            insertAt: function (node, pos) {\n                this.childNodes.splice(pos, 0, node);\n                node.parent = this;\n            },\n            remove: function (index, count) {\n                var end = index + count;\n                for (var i = index; i < end; i++) {\n                    this.childNodes[i].removeSelf();\n                }\n                this.childNodes.splice(index, count);\n            },\n            removeSelf: function () {\n                this.clear();\n                this.destroy();\n            },\n            clear: function () {\n                this.remove(0, this.childNodes.length);\n            },\n            invalidate: function () {\n                if (this.parent) {\n                    this.parent.invalidate();\n                }\n            },\n            geometryChange: function () {\n                this.invalidate();\n            },\n            optionsChange: function () {\n                this.invalidate();\n            },\n            childrenChange: function (e) {\n                if (e.action === 'add') {\n                    this.load(e.items, e.index);\n                } else if (e.action === 'remove') {\n                    this.remove(e.index, e.items.length);\n                }\n                this.invalidate();\n            }\n        });\n        var OptionsStore = Class.extend({\n            init: function (options, prefix) {\n                var field, member;\n                this.prefix = prefix || '';\n                for (field in options) {\n                    member = options[field];\n                    member = this._wrap(member, field);\n                    this[field] = member;\n                }\n            },\n            get: function (field) {\n                return kendo.getter(field, true)(this);\n            },\n            set: function (field, value) {\n                var current = kendo.getter(field, true)(this);\n                if (current !== value) {\n                    var composite = this._set(field, this._wrap(value, field));\n                    if (!composite) {\n                        this.optionsChange({\n                            field: this.prefix + field,\n                            value: value\n                        });\n                    }\n                }\n            },\n            _set: function (field, value) {\n                var composite = field.indexOf('.') >= 0;\n                if (composite) {\n                    var parts = field.split('.'), path = '', obj;\n                    while (parts.length > 1) {\n                        path += parts.shift();\n                        obj = kendo.getter(path, true)(this);\n                        if (!obj) {\n                            obj = new OptionsStore({}, path + '.');\n                            obj.addObserver(this);\n                            this[path] = obj;\n                        }\n                        if (obj instanceof OptionsStore) {\n                            obj.set(parts.join('.'), value);\n                            return composite;\n                        }\n                        path += '.';\n                    }\n                }\n                this._clear(field);\n                kendo.setter(field)(this, value);\n                return composite;\n            },\n            _clear: function (field) {\n                var current = kendo.getter(field, true)(this);\n                if (current && current.removeObserver) {\n                    current.removeObserver(this);\n                }\n            },\n            _wrap: function (object, field) {\n                var type = toString.call(object);\n                if (object !== null && defined(object) && type === '[object Object]') {\n                    if (!(object instanceof OptionsStore) && !(object instanceof Class)) {\n                        object = new OptionsStore(object, this.prefix + field + '.');\n                    }\n                    object.addObserver(this);\n                }\n                return object;\n            }\n        });\n        deepExtend(OptionsStore.fn, kendo.mixins.ObserversMixin);\n        var SurfaceFactory = function () {\n            this._items = [];\n        };\n        SurfaceFactory.prototype = {\n            register: function (name, type, order) {\n                var items = this._items, first = items[0], entry = {\n                        name: name,\n                        type: type,\n                        order: order\n                    };\n                if (!first || order < first.order) {\n                    items.unshift(entry);\n                } else {\n                    items.push(entry);\n                }\n            },\n            create: function (element, options) {\n                var items = this._items, match = items[0];\n                if (options && options.type) {\n                    var preferred = options.type.toLowerCase();\n                    for (var i = 0; i < items.length; i++) {\n                        if (items[i].name === preferred) {\n                            match = items[i];\n                            break;\n                        }\n                    }\n                }\n                if (match) {\n                    return new match.type(element, options);\n                }\n                kendo.logToConsole('Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\\n' + '- The browser does not support SVG, VML and Canvas. User agent: ' + navigator.userAgent + '\\n' + '- The Kendo UI scripts are not fully loaded');\n            }\n        };\n        SurfaceFactory.current = new SurfaceFactory();\n        var SurfaceTooltip = Class.extend({\n            init: function (surface, options) {\n                this.element = $(TOOLTIP_TEMPLATE);\n                this.content = this.element.children('.k-tooltip-content');\n                options = options || {};\n                this.options = deepExtend({}, this.options, this._tooltipOptions(options));\n                this.popup = new kendo.ui.Popup(this.element, {\n                    appendTo: options.appendTo,\n                    animation: options.animation,\n                    copyAnchorStyles: false,\n                    collision: 'fit fit'\n                });\n                this._openPopupHandler = $.proxy(this._openPopup, this);\n                this.surface = surface;\n                this._bindEvents();\n            },\n            options: {\n                position: 'top',\n                showOn: 'mouseenter',\n                offset: 7,\n                autoHide: true,\n                hideDelay: 0,\n                showAfter: 100\n            },\n            _bindEvents: function () {\n                this._showHandler = proxy(this._showEvent, this);\n                this._surfaceLeaveHandler = proxy(this._surfaceLeave, this);\n                this._mouseleaveHandler = proxy(this._mouseleave, this);\n                this._mousemoveHandler = proxy(this._mousemove, this);\n                this.surface.bind('click', this._showHandler);\n                this.surface.bind('mouseenter', this._showHandler);\n                this.surface.bind('mouseleave', this._mouseleaveHandler);\n                this.surface.bind('mousemove', this._mousemoveHandler);\n                this.surface.element.on('mouseleave' + NS, this._surfaceLeaveHandler);\n                this.element.on('click' + NS, '.k-tooltip-button', proxy(this._hideClick, this));\n            },\n            destroy: function () {\n                var popup = this.popup;\n                this.surface.unbind('click', this._showHandler);\n                this.surface.unbind('mouseenter', this._showHandler);\n                this.surface.unbind('mouseleave', this._mouseleaveHandler);\n                this.surface.unbind('mousemove', this._mousemoveHandler);\n                this.surface.element.off('mouseleave' + NS, this._surfaceLeaveHandler);\n                this.element.off('click' + NS);\n                if (popup) {\n                    popup.destroy();\n                    delete this.popup;\n                }\n                clearTimeout(this._timeout);\n                delete this.popup;\n                delete this.element;\n                delete this.content;\n                delete this.surface;\n            },\n            _tooltipOptions: function (options) {\n                options = options || {};\n                return {\n                    position: options.position,\n                    showOn: options.showOn,\n                    offset: options.offset,\n                    autoHide: options.autoHide,\n                    width: options.width,\n                    height: options.height,\n                    content: options.content,\n                    shared: options.shared,\n                    hideDelay: options.hideDelay,\n                    showAfter: options.showAfter\n                };\n            },\n            _tooltipShape: function (shape) {\n                while (shape && !shape.options.tooltip) {\n                    shape = shape.parent;\n                }\n                return shape;\n            },\n            _updateContent: function (target, shape, options) {\n                var content = options.content;\n                if (kendo.isFunction(content)) {\n                    content = content({\n                        element: shape,\n                        target: target\n                    });\n                }\n                if (content) {\n                    this.content.html(content);\n                    return true;\n                }\n            },\n            _position: function (shape, options, elementSize, event) {\n                var position = options.position;\n                var tooltipOffset = options.offset || 0;\n                var surface = this.surface;\n                var offset = surface._elementOffset();\n                var size = surface.getSize();\n                var surfaceOffset = surface._offset;\n                var bbox = shape.bbox();\n                var width = elementSize.width;\n                var height = elementSize.height;\n                var left = 0, top = 0;\n                bbox.origin.translate(offset.left, offset.top);\n                if (surfaceOffset) {\n                    bbox.origin.translate(-surfaceOffset.x, -surfaceOffset.y);\n                }\n                if (position == 'cursor' && event) {\n                    var coord = eventCoordinates(event);\n                    left = coord.x - width / 2;\n                    top = coord.y - height - tooltipOffset;\n                } else if (position == 'left') {\n                    left = bbox.origin.x - width - tooltipOffset;\n                    top = bbox.center().y - height / 2;\n                } else if (position == 'right') {\n                    left = bbox.bottomRight().x + tooltipOffset;\n                    top = bbox.center().y - height / 2;\n                } else if (position == 'bottom') {\n                    left = bbox.center().x - width / 2;\n                    top = bbox.bottomRight().y + tooltipOffset;\n                } else {\n                    left = bbox.center().x - width / 2;\n                    top = bbox.origin.y - height - tooltipOffset;\n                }\n                return {\n                    left: limitValue(left, offset.left, offset.left + size.width),\n                    top: limitValue(top, offset.top, offset.top + size.height)\n                };\n            },\n            show: function (shape, options) {\n                this._show(shape, shape, deepExtend({}, this.options, this._tooltipOptions(shape.options.tooltip), options));\n            },\n            hide: function () {\n                var current = this._current;\n                delete this._current;\n                clearTimeout(this._showTimeout);\n                if (this.popup.visible() && current && !this.surface.trigger('tooltipClose', {\n                        element: current.shape,\n                        target: current.target,\n                        popup: this.popup\n                    })) {\n                    this.popup.close();\n                }\n            },\n            _hideClick: function (e) {\n                e.preventDefault();\n                this.hide();\n            },\n            _show: function (target, shape, options, event, delay) {\n                var current = this._current;\n                clearTimeout(this._timeout);\n                if (current && (current.shape === shape && options.shared || current.target === target)) {\n                    return;\n                }\n                clearTimeout(this._showTimeout);\n                if (!this.surface.trigger('tooltipOpen', {\n                        element: shape,\n                        target: target,\n                        popup: this.popup\n                    }) && this._updateContent(target, shape, options)) {\n                    this._autoHide(options);\n                    var elementSize = this._measure(options);\n                    var popup = this.popup;\n                    if (popup.visible()) {\n                        popup.close(true);\n                    }\n                    this._current = {\n                        options: options,\n                        elementSize: elementSize,\n                        shape: shape,\n                        target: target,\n                        position: this._position(options.shared ? shape : target, options, elementSize, event)\n                    };\n                    if (delay) {\n                        this._showTimeout = setTimeout(this._openPopupHandler, options.showAfter || 0);\n                    } else {\n                        this._openPopup();\n                    }\n                }\n            },\n            _openPopup: function () {\n                var current = this._current;\n                var position = current.position;\n                this.popup.open(position.left, position.top);\n            },\n            _autoHide: function (options) {\n                if (options.autoHide && this._closeButton) {\n                    this.element.removeClass('k-tooltip-closable');\n                    this._closeButton.remove();\n                    delete this._closeButton;\n                }\n                if (!options.autoHide && !this._closeButton) {\n                    this.element.addClass('k-tooltip-closable');\n                    this._closeButton = $(TOOLTIP_CLOSE_TEMPLATE).prependTo(this.element);\n                }\n            },\n            _showEvent: function (e) {\n                var shape = this._tooltipShape(e.element);\n                if (shape) {\n                    var options = deepExtend({}, this.options, this._tooltipOptions(shape.options.tooltip));\n                    if (options && options.showOn == e.type) {\n                        this._show(e.element, shape, options, e.originalEvent, true);\n                    }\n                }\n            },\n            _measure: function (options) {\n                var width, height;\n                this.element.css({\n                    width: 'auto',\n                    height: 'auto'\n                });\n                var visible = this.popup.visible();\n                if (!visible) {\n                    this.popup.wrapper.show();\n                }\n                this.element.css({\n                    width: defined(options.width) ? options.width : 'auto',\n                    height: defined(options.height) ? options.height : 'auto'\n                });\n                width = outerWidth(this.element);\n                height = outerHeight(this.element);\n                if (!visible) {\n                    this.popup.wrapper.hide();\n                }\n                return {\n                    width: width,\n                    height: height\n                };\n            },\n            _mouseleave: function (e) {\n                if (!this._popupRelatedTarget(e.originalEvent)) {\n                    var tooltip = this;\n                    var current = tooltip._current;\n                    if (current && current.options.autoHide) {\n                        tooltip._timeout = setTimeout(function () {\n                            clearTimeout(tooltip._showTimeout);\n                            tooltip.hide();\n                        }, current.options.hideDelay || 0);\n                    }\n                }\n            },\n            _mousemove: function (e) {\n                var current = this._current;\n                if (current && e.element) {\n                    var options = current.options;\n                    if (options.position == 'cursor') {\n                        var position = this._position(e.element, options, current.elementSize, e.originalEvent);\n                        current.position = position;\n                        this.popup.wrapper.css({\n                            left: position.left,\n                            top: position.top\n                        });\n                    }\n                }\n            },\n            _surfaceLeave: function (e) {\n                if (!this._popupRelatedTarget(e)) {\n                    clearTimeout(this._showTimeout);\n                    this.hide();\n                }\n            },\n            _popupRelatedTarget: function (e) {\n                return e.relatedTarget && $(e.relatedTarget).closest(this.popup.wrapper).length;\n            }\n        });\n        function eventCoordinates(event) {\n            var x, y;\n            if (event.touch) {\n                x = event.x.location;\n                y = event.y.location;\n            } else {\n                x = event.pageX || event.clientX || 0;\n                y = event.pageY || event.clientY || 0;\n            }\n            return {\n                x: x,\n                y: y\n            };\n        }\n        deepExtend(kendo, {\n            drawing: {\n                DASH_ARRAYS: {\n                    dot: [\n                        1.5,\n                        3.5\n                    ],\n                    dash: [\n                        4,\n                        3.5\n                    ],\n                    longdash: [\n                        8,\n                        3.5\n                    ],\n                    dashdot: [\n                        3.5,\n                        3.5,\n                        1.5,\n                        3.5\n                    ],\n                    longdashdot: [\n                        8,\n                        3.5,\n                        1.5,\n                        3.5\n                    ],\n                    longdashdotdot: [\n                        8,\n                        3.5,\n                        1.5,\n                        3.5,\n                        1.5,\n                        3.5\n                    ]\n                },\n                Color: kendo.Color,\n                BaseNode: BaseNode,\n                OptionsStore: OptionsStore,\n                Surface: Surface,\n                SurfaceFactory: SurfaceFactory,\n                SurfaceTooltip: SurfaceTooltip\n            }\n        });\n        kendo.dataviz.drawing = kendo.drawing;\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/mixins', ['drawing/core'], f);\n}(function () {\n    (function () {\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, defined = kendo.util.defined, g = kendo.geometry;\n        var GRADIENT = 'gradient';\n        var IDENTITY_MATRIX_HASH = g.Matrix.IDENTITY.toString();\n        var Paintable = {\n            extend: function (proto) {\n                proto.fill = this.fill;\n                proto.stroke = this.stroke;\n            },\n            fill: function (color, opacity) {\n                var options = this.options;\n                if (defined(color)) {\n                    if (color && color.nodeType != GRADIENT) {\n                        var newFill = { color: color };\n                        if (defined(opacity)) {\n                            newFill.opacity = opacity;\n                        }\n                        options.set('fill', newFill);\n                    } else {\n                        options.set('fill', color);\n                    }\n                    return this;\n                } else {\n                    return options.get('fill');\n                }\n            },\n            stroke: function (color, width, opacity) {\n                if (defined(color)) {\n                    this.options.set('stroke.color', color);\n                    if (defined(width)) {\n                        this.options.set('stroke.width', width);\n                    }\n                    if (defined(opacity)) {\n                        this.options.set('stroke.opacity', opacity);\n                    }\n                    return this;\n                } else {\n                    return this.options.get('stroke');\n                }\n            }\n        };\n        var Traversable = {\n            extend: function (proto, childrenField) {\n                proto.traverse = function (callback) {\n                    var children = this[childrenField];\n                    for (var i = 0; i < children.length; i++) {\n                        var child = children[i];\n                        if (child.traverse) {\n                            child.traverse(callback);\n                        } else {\n                            callback(child);\n                        }\n                    }\n                    return this;\n                };\n            }\n        };\n        var Measurable = {\n            extend: function (proto) {\n                proto.bbox = this.bbox;\n                proto.geometryChange = this.geometryChange;\n            },\n            bbox: function (transformation) {\n                var combinedMatrix = g.toMatrix(this.currentTransform(transformation));\n                var matrixHash = combinedMatrix ? combinedMatrix.toString() : IDENTITY_MATRIX_HASH;\n                var bbox;\n                if (this._bboxCache && this._matrixHash == matrixHash) {\n                    bbox = this._bboxCache.clone();\n                } else {\n                    bbox = this._bbox(combinedMatrix);\n                    this._bboxCache = bbox ? bbox.clone() : null;\n                    this._matrixHash = matrixHash;\n                }\n                var strokeWidth = this.options.get('stroke.width');\n                if (strokeWidth && bbox) {\n                    bbox.expand(strokeWidth / 2);\n                }\n                return bbox;\n            },\n            geometryChange: function () {\n                delete this._bboxCache;\n                this.trigger('geometryChange', { element: this });\n            }\n        };\n        deepExtend(kendo.drawing, {\n            mixins: {\n                Paintable: Paintable,\n                Traversable: Traversable,\n                Measurable: Measurable\n            }\n        });\n    }());\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/shapes', [\n        'drawing/core',\n        'drawing/mixins',\n        'util/text-metrics',\n        'mixins/observers'\n    ], f);\n}(function () {\n    (function ($) {\n        var kendo = window.kendo, Class = kendo.Class, deepExtend = kendo.deepExtend, g = kendo.geometry, Point = g.Point, Size = g.Size, Matrix = g.Matrix, toMatrix = g.toMatrix, drawing = kendo.drawing, OptionsStore = drawing.OptionsStore, math = Math, pow = math.pow, util = kendo.util, append = util.append, arrayLimits = util.arrayLimits, defined = util.defined, last = util.last, valueOrDefault = util.valueOrDefault, ObserversMixin = kendo.mixins.ObserversMixin, inArray = $.inArray, push = [].push, pop = [].pop, splice = [].splice, shift = [].shift, slice = [].slice, unshift = [].unshift, defId = 1, START = 'start', END = 'end', HORIZONTAL = 'horizontal';\n        var Element = Class.extend({\n            nodeType: 'Element',\n            init: function (options) {\n                this._initOptions(options);\n            },\n            _initOptions: function (options) {\n                options = options || {};\n                var transform = options.transform;\n                var clip = options.clip;\n                if (transform) {\n                    options.transform = g.transform(transform);\n                }\n                if (clip && !clip.id) {\n                    clip.id = generateDefinitionId();\n                }\n                this.options = new OptionsStore(options);\n                this.options.addObserver(this);\n            },\n            transform: function (transform) {\n                if (defined(transform)) {\n                    this.options.set('transform', g.transform(transform));\n                } else {\n                    return this.options.get('transform');\n                }\n            },\n            parentTransform: function () {\n                var element = this, transformation, parentMatrix;\n                while (element.parent) {\n                    element = element.parent;\n                    transformation = element.transform();\n                    if (transformation) {\n                        parentMatrix = transformation.matrix().multiplyCopy(parentMatrix || Matrix.unit());\n                    }\n                }\n                if (parentMatrix) {\n                    return g.transform(parentMatrix);\n                }\n            },\n            currentTransform: function (parentTransform) {\n                var elementTransform = this.transform(), elementMatrix = toMatrix(elementTransform), parentMatrix, combinedMatrix;\n                if (!defined(parentTransform)) {\n                    parentTransform = this.parentTransform();\n                }\n                parentMatrix = toMatrix(parentTransform);\n                if (elementMatrix && parentMatrix) {\n                    combinedMatrix = parentMatrix.multiplyCopy(elementMatrix);\n                } else {\n                    combinedMatrix = elementMatrix || parentMatrix;\n                }\n                if (combinedMatrix) {\n                    return g.transform(combinedMatrix);\n                }\n            },\n            visible: function (visible) {\n                if (defined(visible)) {\n                    this.options.set('visible', visible);\n                    return this;\n                } else {\n                    return this.options.get('visible') !== false;\n                }\n            },\n            clip: function (clip) {\n                var options = this.options;\n                if (defined(clip)) {\n                    if (clip && !clip.id) {\n                        clip.id = generateDefinitionId();\n                    }\n                    options.set('clip', clip);\n                    return this;\n                } else {\n                    return options.get('clip');\n                }\n            },\n            opacity: function (value) {\n                if (defined(value)) {\n                    this.options.set('opacity', value);\n                    return this;\n                } else {\n                    return valueOrDefault(this.options.get('opacity'), 1);\n                }\n            },\n            clippedBBox: function (transformation) {\n                var box = this._clippedBBox(transformation);\n                if (box) {\n                    var clip = this.clip();\n                    return clip ? g.Rect.intersect(box, clip.bbox(transformation)) : box;\n                }\n            },\n            containsPoint: function (point, parentTransform) {\n                if (this.visible()) {\n                    var transform = this.currentTransform(parentTransform);\n                    if (transform) {\n                        point = point.transformCopy(transform.matrix().invert());\n                    }\n                    return this._hasFill() && this._containsPoint(point) || this._isOnPath && this._hasStroke() && this._isOnPath(point);\n                }\n                return false;\n            },\n            _hasFill: function () {\n                var fill = this.options.fill;\n                return fill && !util.isTransparent(fill.color);\n            },\n            _hasStroke: function () {\n                var stroke = this.options.stroke;\n                return stroke && stroke.width > 0 && !util.isTransparent(stroke.color);\n            },\n            _clippedBBox: function (transformation) {\n                return this.bbox(transformation);\n            }\n        });\n        deepExtend(Element.fn, ObserversMixin);\n        var ElementsArray = Class.extend({\n            init: function (array) {\n                array = array || [];\n                this.length = 0;\n                this._splice(0, array.length, array);\n            },\n            elements: function (elements) {\n                if (elements) {\n                    this._splice(0, this.length, elements);\n                    this._change();\n                    return this;\n                } else {\n                    return this.slice(0);\n                }\n            },\n            push: function () {\n                var elements = arguments;\n                var result = push.apply(this, elements);\n                this._add(elements);\n                return result;\n            },\n            slice: slice,\n            pop: function () {\n                var length = this.length;\n                var result = pop.apply(this);\n                if (length) {\n                    this._remove([result]);\n                }\n                return result;\n            },\n            splice: function (index, howMany) {\n                var elements = slice.call(arguments, 2);\n                var result = this._splice(index, howMany, elements);\n                this._change();\n                return result;\n            },\n            shift: function () {\n                var length = this.length;\n                var result = shift.apply(this);\n                if (length) {\n                    this._remove([result]);\n                }\n                return result;\n            },\n            unshift: function () {\n                var elements = arguments;\n                var result = unshift.apply(this, elements);\n                this._add(elements);\n                return result;\n            },\n            indexOf: function (element) {\n                var that = this;\n                var idx;\n                var length;\n                for (idx = 0, length = that.length; idx < length; idx++) {\n                    if (that[idx] === element) {\n                        return idx;\n                    }\n                }\n                return -1;\n            },\n            _splice: function (index, howMany, elements) {\n                var result = splice.apply(this, [\n                    index,\n                    howMany\n                ].concat(elements));\n                this._clearObserver(result);\n                this._setObserver(elements);\n                return result;\n            },\n            _add: function (elements) {\n                this._setObserver(elements);\n                this._change();\n            },\n            _remove: function (elements) {\n                this._clearObserver(elements);\n                this._change();\n            },\n            _setObserver: function (elements) {\n                for (var idx = 0; idx < elements.length; idx++) {\n                    elements[idx].addObserver(this);\n                }\n            },\n            _clearObserver: function (elements) {\n                for (var idx = 0; idx < elements.length; idx++) {\n                    elements[idx].removeObserver(this);\n                }\n            },\n            _change: function () {\n            }\n        });\n        deepExtend(ElementsArray.fn, ObserversMixin);\n        var Group = Element.extend({\n            nodeType: 'Group',\n            init: function (options) {\n                Element.fn.init.call(this, options);\n                this.children = [];\n            },\n            childrenChange: function (action, items, index) {\n                this.trigger('childrenChange', {\n                    action: action,\n                    items: items,\n                    index: index\n                });\n            },\n            append: function () {\n                append(this.children, arguments);\n                this._reparent(arguments, this);\n                this.childrenChange('add', arguments);\n                return this;\n            },\n            insert: function (index, element) {\n                this.children.splice(index, 0, element);\n                element.parent = this;\n                this.childrenChange('add', [element], index);\n                return this;\n            },\n            insertAt: function (element, index) {\n                return this.insert(index, element);\n            },\n            remove: function (element) {\n                var index = inArray(element, this.children);\n                if (index >= 0) {\n                    this.children.splice(index, 1);\n                    element.parent = null;\n                    this.childrenChange('remove', [element], index);\n                }\n                return this;\n            },\n            removeAt: function (index) {\n                if (0 <= index && index < this.children.length) {\n                    var element = this.children[index];\n                    this.children.splice(index, 1);\n                    element.parent = null;\n                    this.childrenChange('remove', [element], index);\n                }\n                return this;\n            },\n            clear: function () {\n                var items = this.children;\n                this.children = [];\n                this._reparent(items, null);\n                this.childrenChange('remove', items, 0);\n                return this;\n            },\n            bbox: function (transformation) {\n                return elementsBoundingBox(this.children, true, this.currentTransform(transformation));\n            },\n            rawBBox: function () {\n                return elementsBoundingBox(this.children, false);\n            },\n            _clippedBBox: function (transformation) {\n                return elementsClippedBoundingBox(this.children, this.currentTransform(transformation));\n            },\n            currentTransform: function (transformation) {\n                return Element.fn.currentTransform.call(this, transformation) || null;\n            },\n            containsPoint: function (point, parentTransform) {\n                if (this.visible()) {\n                    var children = this.children;\n                    var transform = this.currentTransform(parentTransform);\n                    for (var idx = 0; idx < children.length; idx++) {\n                        if (children[idx].containsPoint(point, transform)) {\n                            return true;\n                        }\n                    }\n                }\n                return false;\n            },\n            _reparent: function (elements, newParent) {\n                for (var i = 0; i < elements.length; i++) {\n                    var child = elements[i];\n                    var parent = child.parent;\n                    if (parent && parent != this && parent.remove) {\n                        parent.remove(child);\n                    }\n                    child.parent = newParent;\n                }\n            }\n        });\n        drawing.mixins.Traversable.extend(Group.fn, 'children');\n        var Text = Element.extend({\n            nodeType: 'Text',\n            init: function (content, position, options) {\n                Element.fn.init.call(this, options);\n                this.content(content);\n                this.position(position || new g.Point());\n                if (!this.options.font) {\n                    this.options.font = '12px sans-serif';\n                }\n                if (!defined(this.options.fill)) {\n                    this.fill('#000');\n                }\n            },\n            content: function (value) {\n                if (defined(value)) {\n                    this.options.set('content', value);\n                    return this;\n                } else {\n                    return this.options.get('content');\n                }\n            },\n            measure: function () {\n                var metrics = util.measureText(this.content(), { font: this.options.get('font') });\n                return metrics;\n            },\n            rect: function () {\n                var size = this.measure();\n                var pos = this.position().clone();\n                return new g.Rect(pos, [\n                    size.width,\n                    size.height\n                ]);\n            },\n            bbox: function (transformation) {\n                var combinedMatrix = toMatrix(this.currentTransform(transformation));\n                return this.rect().bbox(combinedMatrix);\n            },\n            rawBBox: function () {\n                return this.rect().bbox();\n            },\n            _containsPoint: function (point) {\n                return this.rect().containsPoint(point);\n            }\n        });\n        drawing.mixins.Paintable.extend(Text.fn);\n        definePointAccessors(Text.fn, ['position']);\n        var Circle = Element.extend({\n            nodeType: 'Circle',\n            init: function (geometry, options) {\n                Element.fn.init.call(this, options);\n                this.geometry(geometry || new g.Circle());\n                if (!defined(this.options.stroke)) {\n                    this.stroke('#000');\n                }\n            },\n            _bbox: function (matrix) {\n                return this._geometry.bbox(matrix);\n            },\n            rawBBox: function () {\n                return this._geometry.bbox();\n            },\n            _containsPoint: function (point) {\n                return this.geometry().containsPoint(point);\n            },\n            _isOnPath: function (point) {\n                return this.geometry()._isOnPath(point, this.options.stroke.width / 2);\n            }\n        });\n        drawing.mixins.Paintable.extend(Circle.fn);\n        drawing.mixins.Measurable.extend(Circle.fn);\n        defineGeometryAccessors(Circle.fn, ['geometry']);\n        var Arc = Element.extend({\n            nodeType: 'Arc',\n            init: function (geometry, options) {\n                Element.fn.init.call(this, options);\n                this.geometry(geometry || new g.Arc());\n                if (!defined(this.options.stroke)) {\n                    this.stroke('#000');\n                }\n            },\n            _bbox: function (matrix) {\n                return this._geometry.bbox(matrix);\n            },\n            rawBBox: function () {\n                return this.geometry().bbox();\n            },\n            toPath: function () {\n                var path = new Path();\n                var curvePoints = this.geometry().curvePoints();\n                if (curvePoints.length > 0) {\n                    path.moveTo(curvePoints[0].x, curvePoints[0].y);\n                    for (var i = 1; i < curvePoints.length; i += 3) {\n                        path.curveTo(curvePoints[i], curvePoints[i + 1], curvePoints[i + 2]);\n                    }\n                }\n                return path;\n            },\n            _containsPoint: function (point) {\n                return this.geometry().containsPoint(point);\n            },\n            _isOnPath: function (point) {\n                return this.geometry()._isOnPath(point, this.options.stroke.width / 2);\n            }\n        });\n        drawing.mixins.Paintable.extend(Arc.fn);\n        drawing.mixins.Measurable.extend(Arc.fn);\n        defineGeometryAccessors(Arc.fn, ['geometry']);\n        var GeometryElementsArray = ElementsArray.extend({\n            _change: function () {\n                this.geometryChange();\n            }\n        });\n        var Segment = Class.extend({\n            init: function (anchor, controlIn, controlOut) {\n                this.anchor(anchor || new Point());\n                this.controlIn(controlIn);\n                this.controlOut(controlOut);\n            },\n            bboxTo: function (toSegment, matrix) {\n                var rect;\n                var segmentAnchor = this.anchor().transformCopy(matrix);\n                var toSegmentAnchor = toSegment.anchor().transformCopy(matrix);\n                if (this.controlOut() && toSegment.controlIn()) {\n                    rect = this._curveBoundingBox(segmentAnchor, this.controlOut().transformCopy(matrix), toSegment.controlIn().transformCopy(matrix), toSegmentAnchor);\n                } else {\n                    rect = this._lineBoundingBox(segmentAnchor, toSegmentAnchor);\n                }\n                return rect;\n            },\n            _lineBoundingBox: function (p1, p2) {\n                return g.Rect.fromPoints(p1, p2);\n            },\n            _curveBoundingBox: function (p1, cp1, cp2, p2) {\n                var points = [\n                        p1,\n                        cp1,\n                        cp2,\n                        p2\n                    ], extremesX = this._curveExtremesFor(points, 'x'), extremesY = this._curveExtremesFor(points, 'y'), xLimits = arrayLimits([\n                        extremesX.min,\n                        extremesX.max,\n                        p1.x,\n                        p2.x\n                    ]), yLimits = arrayLimits([\n                        extremesY.min,\n                        extremesY.max,\n                        p1.y,\n                        p2.y\n                    ]);\n                return g.Rect.fromPoints(new Point(xLimits.min, yLimits.min), new Point(xLimits.max, yLimits.max));\n            },\n            _curveExtremesFor: function (points, field) {\n                var extremes = this._curveExtremes(points[0][field], points[1][field], points[2][field], points[3][field]);\n                return {\n                    min: this._calculateCurveAt(extremes.min, field, points),\n                    max: this._calculateCurveAt(extremes.max, field, points)\n                };\n            },\n            _calculateCurveAt: function (t, field, points) {\n                var t1 = 1 - t;\n                return pow(t1, 3) * points[0][field] + 3 * pow(t1, 2) * t * points[1][field] + 3 * pow(t, 2) * t1 * points[2][field] + pow(t, 3) * points[3][field];\n            },\n            _curveExtremes: function (x1, x2, x3, x4) {\n                var a = x1 - 3 * x2 + 3 * x3 - x4;\n                var b = -2 * (x1 - 2 * x2 + x3);\n                var c = x1 - x2;\n                var sqrt = math.sqrt(b * b - 4 * a * c);\n                var t1 = 0;\n                var t2 = 1;\n                if (a === 0) {\n                    if (b !== 0) {\n                        t1 = t2 = -c / b;\n                    }\n                } else if (!isNaN(sqrt)) {\n                    t1 = (-b + sqrt) / (2 * a);\n                    t2 = (-b - sqrt) / (2 * a);\n                }\n                var min = math.max(math.min(t1, t2), 0);\n                if (min < 0 || min > 1) {\n                    min = 0;\n                }\n                var max = math.min(math.max(t1, t2), 1);\n                if (max > 1 || max < 0) {\n                    max = 1;\n                }\n                return {\n                    min: min,\n                    max: max\n                };\n            },\n            _intersectionsTo: function (segment, point) {\n                var intersectionsCount;\n                if (this.controlOut() && segment.controlIn()) {\n                    intersectionsCount = g.curveIntersectionsCount([\n                        this.anchor(),\n                        this.controlOut(),\n                        segment.controlIn(),\n                        segment.anchor()\n                    ], point, this.bboxTo(segment));\n                } else {\n                    intersectionsCount = g.lineIntersectionsCount(this.anchor(), segment.anchor(), point);\n                }\n                return intersectionsCount;\n            },\n            _isOnCurveTo: function (segment, point, width, endSegment) {\n                var bbox = this.bboxTo(segment).expand(width, width);\n                if (bbox.containsPoint(point)) {\n                    var p1 = this.anchor();\n                    var p2 = this.controlOut();\n                    var p3 = segment.controlIn();\n                    var p4 = segment.anchor();\n                    if (endSegment == 'start' && p1.distanceTo(point) <= width) {\n                        return !g.isOutOfEndPoint(p1, p2, point);\n                    } else if (endSegment == 'end' && p4.distanceTo(point) <= width) {\n                        return !g.isOutOfEndPoint(p4, p3, point);\n                    }\n                    var hasRootsInRange = g.hasRootsInRange;\n                    var points = [\n                        p1,\n                        p2,\n                        p3,\n                        p4\n                    ];\n                    if (hasRootsInRange(points, point, 'x', 'y', width) || hasRootsInRange(points, point, 'y', 'x', width)) {\n                        return true;\n                    }\n                    var rotation = g.transform().rotate(45, point);\n                    var rotatedPoints = [\n                        p1.transformCopy(rotation),\n                        p2.transformCopy(rotation),\n                        p3.transformCopy(rotation),\n                        p4.transformCopy(rotation)\n                    ];\n                    return hasRootsInRange(rotatedPoints, point, 'x', 'y', width) || hasRootsInRange(rotatedPoints, point, 'y', 'x', width);\n                }\n            },\n            _isOnLineTo: function (segment, point, width) {\n                var p1 = this.anchor();\n                var p2 = segment.anchor();\n                var angle = util.deg(math.atan2(p2.y - p1.y, p2.x - p1.x));\n                var rect = new g.Rect([\n                    p1.x,\n                    p1.y - width / 2\n                ], [\n                    p1.distanceTo(p2),\n                    width\n                ]);\n                return rect.containsPoint(point.transformCopy(g.transform().rotate(-angle, p1)));\n            },\n            _isOnPathTo: function (segment, point, width, endSegment) {\n                var isOnPath;\n                if (this.controlOut() && segment.controlIn()) {\n                    isOnPath = this._isOnCurveTo(segment, point, width / 2, endSegment);\n                } else {\n                    isOnPath = this._isOnLineTo(segment, point, width);\n                }\n                return isOnPath;\n            }\n        });\n        definePointAccessors(Segment.fn, [\n            'anchor',\n            'controlIn',\n            'controlOut'\n        ]);\n        deepExtend(Segment.fn, ObserversMixin);\n        var Path = Element.extend({\n            nodeType: 'Path',\n            init: function (options) {\n                Element.fn.init.call(this, options);\n                this.segments = new GeometryElementsArray();\n                this.segments.addObserver(this);\n                if (!defined(this.options.stroke)) {\n                    this.stroke('#000');\n                    if (!defined(this.options.stroke.lineJoin)) {\n                        this.options.set('stroke.lineJoin', 'miter');\n                    }\n                }\n            },\n            moveTo: function (x, y) {\n                this.suspend();\n                this.segments.elements([]);\n                this.resume();\n                this.lineTo(x, y);\n                return this;\n            },\n            lineTo: function (x, y) {\n                var point = defined(y) ? new Point(x, y) : x, segment = new Segment(point);\n                this.segments.push(segment);\n                return this;\n            },\n            curveTo: function (controlOut, controlIn, point) {\n                if (this.segments.length > 0) {\n                    var lastSegment = last(this.segments);\n                    var segment = new Segment(point, controlIn);\n                    this.suspend();\n                    lastSegment.controlOut(controlOut);\n                    this.resume();\n                    this.segments.push(segment);\n                }\n                return this;\n            },\n            arc: function (startAngle, endAngle, radiusX, radiusY, anticlockwise) {\n                if (this.segments.length > 0) {\n                    var lastSegment = last(this.segments);\n                    var anchor = lastSegment.anchor();\n                    var start = util.rad(startAngle);\n                    var center = new Point(anchor.x - radiusX * math.cos(start), anchor.y - radiusY * math.sin(start));\n                    var arc = new g.Arc(center, {\n                        startAngle: startAngle,\n                        endAngle: endAngle,\n                        radiusX: radiusX,\n                        radiusY: radiusY,\n                        anticlockwise: anticlockwise\n                    });\n                    this._addArcSegments(arc);\n                }\n                return this;\n            },\n            arcTo: function (end, rx, ry, largeArc, swipe) {\n                if (this.segments.length > 0) {\n                    var lastSegment = last(this.segments);\n                    var anchor = lastSegment.anchor();\n                    var arc = g.Arc.fromPoints(anchor, end, rx, ry, largeArc, swipe);\n                    this._addArcSegments(arc);\n                }\n                return this;\n            },\n            _addArcSegments: function (arc) {\n                this.suspend();\n                var curvePoints = arc.curvePoints();\n                for (var i = 1; i < curvePoints.length; i += 3) {\n                    this.curveTo(curvePoints[i], curvePoints[i + 1], curvePoints[i + 2]);\n                }\n                this.resume();\n                this.geometryChange();\n            },\n            close: function () {\n                this.options.closed = true;\n                this.geometryChange();\n                return this;\n            },\n            rawBBox: function () {\n                return this._bbox();\n            },\n            _containsPoint: function (point) {\n                var segments = this.segments;\n                var length = segments.length;\n                var intersectionsCount = 0;\n                var previous, current;\n                for (var idx = 1; idx < length; idx++) {\n                    previous = segments[idx - 1];\n                    current = segments[idx];\n                    intersectionsCount += previous._intersectionsTo(current, point);\n                }\n                if (this.options.closed || !segments[0].anchor().equals(segments[length - 1].anchor())) {\n                    intersectionsCount += g.lineIntersectionsCount(segments[0].anchor(), segments[length - 1].anchor(), point);\n                }\n                return intersectionsCount % 2 !== 0;\n            },\n            _isOnPath: function (point, width) {\n                var segments = this.segments;\n                var length = segments.length;\n                width = width || this.options.stroke.width;\n                if (length > 1) {\n                    if (segments[0]._isOnPathTo(segments[1], point, width, 'start')) {\n                        return true;\n                    }\n                    for (var idx = 2; idx <= length - 2; idx++) {\n                        if (segments[idx - 1]._isOnPathTo(segments[idx], point, width)) {\n                            return true;\n                        }\n                    }\n                    if (segments[length - 2]._isOnPathTo(segments[length - 1], point, width, 'end')) {\n                        return true;\n                    }\n                }\n                return false;\n            },\n            _bbox: function (matrix) {\n                var segments = this.segments;\n                var length = segments.length;\n                var boundingBox;\n                if (length === 1) {\n                    var anchor = segments[0].anchor().transformCopy(matrix);\n                    boundingBox = new g.Rect(anchor, Size.ZERO);\n                } else if (length > 0) {\n                    for (var i = 1; i < length; i++) {\n                        var segmentBox = segments[i - 1].bboxTo(segments[i], matrix);\n                        if (boundingBox) {\n                            boundingBox = g.Rect.union(boundingBox, segmentBox);\n                        } else {\n                            boundingBox = segmentBox;\n                        }\n                    }\n                }\n                return boundingBox;\n            }\n        });\n        drawing.mixins.Paintable.extend(Path.fn);\n        drawing.mixins.Measurable.extend(Path.fn);\n        Path.fromRect = function (rect, options) {\n            return new Path(options).moveTo(rect.topLeft()).lineTo(rect.topRight()).lineTo(rect.bottomRight()).lineTo(rect.bottomLeft()).close();\n        };\n        Path.fromPoints = function (points, options) {\n            if (points) {\n                var path = new Path(options);\n                for (var i = 0; i < points.length; i++) {\n                    var pt = Point.create(points[i]);\n                    if (pt) {\n                        if (i === 0) {\n                            path.moveTo(pt);\n                        } else {\n                            path.lineTo(pt);\n                        }\n                    }\n                }\n                return path;\n            }\n        };\n        Path.fromArc = function (arc, options) {\n            var path = new Path(options);\n            var startAngle = arc.startAngle;\n            var start = arc.pointAt(startAngle);\n            path.moveTo(start.x, start.y);\n            path.arc(startAngle, arc.endAngle, arc.radiusX, arc.radiusY, arc.anticlockwise);\n            return path;\n        };\n        var MultiPath = Element.extend({\n            nodeType: 'MultiPath',\n            init: function (options) {\n                Element.fn.init.call(this, options);\n                this.paths = new GeometryElementsArray();\n                this.paths.addObserver(this);\n                if (!defined(this.options.stroke)) {\n                    this.stroke('#000');\n                }\n            },\n            moveTo: function (x, y) {\n                var path = new Path();\n                path.moveTo(x, y);\n                this.paths.push(path);\n                return this;\n            },\n            lineTo: function (x, y) {\n                if (this.paths.length > 0) {\n                    last(this.paths).lineTo(x, y);\n                }\n                return this;\n            },\n            curveTo: function (controlOut, controlIn, point) {\n                if (this.paths.length > 0) {\n                    last(this.paths).curveTo(controlOut, controlIn, point);\n                }\n                return this;\n            },\n            arc: function (startAngle, endAngle, radiusX, radiusY, anticlockwise) {\n                if (this.paths.length > 0) {\n                    last(this.paths).arc(startAngle, endAngle, radiusX, radiusY, anticlockwise);\n                }\n                return this;\n            },\n            arcTo: function (end, rx, ry, largeArc, swipe) {\n                if (this.paths.length > 0) {\n                    last(this.paths).arcTo(end, rx, ry, largeArc, swipe);\n                }\n                return this;\n            },\n            close: function () {\n                if (this.paths.length > 0) {\n                    last(this.paths).close();\n                }\n                return this;\n            },\n            _bbox: function (matrix) {\n                return elementsBoundingBox(this.paths, true, matrix);\n            },\n            rawBBox: function () {\n                return elementsBoundingBox(this.paths, false);\n            },\n            _containsPoint: function (point) {\n                var paths = this.paths;\n                for (var idx = 0; idx < paths.length; idx++) {\n                    if (paths[idx]._containsPoint(point)) {\n                        return true;\n                    }\n                }\n                return false;\n            },\n            _isOnPath: function (point) {\n                var paths = this.paths;\n                var width = this.options.stroke.width;\n                for (var idx = 0; idx < paths.length; idx++) {\n                    if (paths[idx]._isOnPath(point, width)) {\n                        return true;\n                    }\n                }\n                return false;\n            },\n            _clippedBBox: function (transformation) {\n                return elementsClippedBoundingBox(this.paths, this.currentTransform(transformation));\n            }\n        });\n        drawing.mixins.Paintable.extend(MultiPath.fn);\n        drawing.mixins.Measurable.extend(MultiPath.fn);\n        var Image = Element.extend({\n            nodeType: 'Image',\n            init: function (src, rect, options) {\n                Element.fn.init.call(this, options);\n                this.src(src);\n                this.rect(rect || new g.Rect());\n            },\n            src: function (value) {\n                if (defined(value)) {\n                    this.options.set('src', value);\n                    return this;\n                } else {\n                    return this.options.get('src');\n                }\n            },\n            bbox: function (transformation) {\n                var combinedMatrix = toMatrix(this.currentTransform(transformation));\n                return this._rect.bbox(combinedMatrix);\n            },\n            rawBBox: function () {\n                return this._rect.bbox();\n            },\n            _containsPoint: function (point) {\n                return this._rect.containsPoint(point);\n            },\n            _hasFill: function () {\n                return this.src();\n            }\n        });\n        defineGeometryAccessors(Image.fn, ['rect']);\n        var GradientStop = Class.extend({\n            init: function (offset, color, opacity) {\n                this.options = new OptionsStore({\n                    offset: offset,\n                    color: color,\n                    opacity: defined(opacity) ? opacity : 1\n                });\n                this.options.addObserver(this);\n            }\n        });\n        defineOptionsAccessors(GradientStop.fn, [\n            'offset',\n            'color',\n            'opacity'\n        ]);\n        deepExtend(GradientStop.fn, ObserversMixin);\n        GradientStop.create = function (arg) {\n            if (defined(arg)) {\n                var stop;\n                if (arg instanceof GradientStop) {\n                    stop = arg;\n                } else if (arg.length > 1) {\n                    stop = new GradientStop(arg[0], arg[1], arg[2]);\n                } else {\n                    stop = new GradientStop(arg.offset, arg.color, arg.opacity);\n                }\n                return stop;\n            }\n        };\n        var StopsArray = ElementsArray.extend({\n            _change: function () {\n                this.optionsChange({ field: 'stops' });\n            }\n        });\n        var Gradient = Class.extend({\n            nodeType: 'gradient',\n            init: function (options) {\n                this.stops = new StopsArray(this._createStops(options.stops));\n                this.stops.addObserver(this);\n                this._userSpace = options.userSpace;\n                this.id = generateDefinitionId();\n            },\n            userSpace: function (value) {\n                if (defined(value)) {\n                    this._userSpace = value;\n                    this.optionsChange();\n                    return this;\n                } else {\n                    return this._userSpace;\n                }\n            },\n            _createStops: function (stops) {\n                var result = [];\n                var idx;\n                stops = stops || [];\n                for (idx = 0; idx < stops.length; idx++) {\n                    result.push(GradientStop.create(stops[idx]));\n                }\n                return result;\n            },\n            addStop: function (offset, color, opacity) {\n                this.stops.push(new GradientStop(offset, color, opacity));\n            },\n            removeStop: function (stop) {\n                var index = this.stops.indexOf(stop);\n                if (index >= 0) {\n                    this.stops.splice(index, 1);\n                }\n            }\n        });\n        deepExtend(Gradient.fn, ObserversMixin, {\n            optionsChange: function (e) {\n                this.trigger('optionsChange', {\n                    field: 'gradient' + (e ? '.' + e.field : ''),\n                    value: this\n                });\n            },\n            geometryChange: function () {\n                this.optionsChange();\n            }\n        });\n        var LinearGradient = Gradient.extend({\n            init: function (options) {\n                options = options || {};\n                Gradient.fn.init.call(this, options);\n                this.start(options.start || new Point());\n                this.end(options.end || new Point(1, 0));\n            }\n        });\n        definePointAccessors(LinearGradient.fn, [\n            'start',\n            'end'\n        ]);\n        var RadialGradient = Gradient.extend({\n            init: function (options) {\n                options = options || {};\n                Gradient.fn.init.call(this, options);\n                this.center(options.center || new Point());\n                this._radius = defined(options.radius) ? options.radius : 1;\n                this._fallbackFill = options.fallbackFill;\n            },\n            radius: function (value) {\n                if (defined(value)) {\n                    this._radius = value;\n                    this.geometryChange();\n                    return this;\n                } else {\n                    return this._radius;\n                }\n            },\n            fallbackFill: function (value) {\n                if (defined(value)) {\n                    this._fallbackFill = value;\n                    this.optionsChange();\n                    return this;\n                } else {\n                    return this._fallbackFill;\n                }\n            }\n        });\n        definePointAccessors(RadialGradient.fn, ['center']);\n        var Rect = Element.extend({\n            nodeType: 'Rect',\n            init: function (geometry, options) {\n                Element.fn.init.call(this, options);\n                this.geometry(geometry || new g.Rect());\n                if (!defined(this.options.stroke)) {\n                    this.stroke('#000');\n                }\n            },\n            _bbox: function (matrix) {\n                return this._geometry.bbox(matrix);\n            },\n            rawBBox: function () {\n                return this._geometry.bbox();\n            },\n            _containsPoint: function (point) {\n                return this._geometry.containsPoint(point);\n            },\n            _isOnPath: function (point) {\n                return this.geometry()._isOnPath(point, this.options.stroke.width / 2);\n            }\n        });\n        drawing.mixins.Paintable.extend(Rect.fn);\n        drawing.mixins.Measurable.extend(Rect.fn);\n        defineGeometryAccessors(Rect.fn, ['geometry']);\n        var Layout = Group.extend({\n            init: function (rect, options) {\n                Group.fn.init.call(this, kendo.deepExtend({}, this._defaults, options));\n                this._rect = rect;\n                this._fieldMap = {};\n            },\n            _defaults: {\n                alignContent: START,\n                justifyContent: START,\n                alignItems: START,\n                spacing: 0,\n                orientation: HORIZONTAL,\n                lineSpacing: 0,\n                wrap: true\n            },\n            rect: function (value) {\n                if (value) {\n                    this._rect = value;\n                    return this;\n                } else {\n                    return this._rect;\n                }\n            },\n            _initMap: function () {\n                var options = this.options;\n                var fieldMap = this._fieldMap;\n                if (options.orientation == HORIZONTAL) {\n                    fieldMap.sizeField = 'width';\n                    fieldMap.groupsSizeField = 'height';\n                    fieldMap.groupAxis = 'x';\n                    fieldMap.groupsAxis = 'y';\n                } else {\n                    fieldMap.sizeField = 'height';\n                    fieldMap.groupsSizeField = 'width';\n                    fieldMap.groupAxis = 'y';\n                    fieldMap.groupsAxis = 'x';\n                }\n            },\n            reflow: function () {\n                if (!this._rect || this.children.length === 0) {\n                    return;\n                }\n                this._initMap();\n                if (this.options.transform) {\n                    this.transform(null);\n                }\n                var options = this.options;\n                var fieldMap = this._fieldMap;\n                var rect = this._rect;\n                var groupOptions = this._initGroups();\n                var groups = groupOptions.groups;\n                var groupsSize = groupOptions.groupsSize;\n                var sizeField = fieldMap.sizeField;\n                var groupsSizeField = fieldMap.groupsSizeField;\n                var groupAxis = fieldMap.groupAxis;\n                var groupsAxis = fieldMap.groupsAxis;\n                var groupStart = alignStart(groupsSize, rect, options.alignContent, groupsAxis, groupsSizeField);\n                var groupOrigin = new Point();\n                var elementOrigin = new Point();\n                var size = new g.Size();\n                var elementStart, bbox, element, group, groupBox;\n                for (var groupIdx = 0; groupIdx < groups.length; groupIdx++) {\n                    group = groups[groupIdx];\n                    groupOrigin[groupAxis] = elementStart = alignStart(group.size, rect, options.justifyContent, groupAxis, sizeField);\n                    groupOrigin[groupsAxis] = groupStart;\n                    size[sizeField] = group.size;\n                    size[groupsSizeField] = group.lineSize;\n                    groupBox = new g.Rect(groupOrigin, size);\n                    for (var idx = 0; idx < group.bboxes.length; idx++) {\n                        element = group.elements[idx];\n                        bbox = group.bboxes[idx];\n                        elementOrigin[groupAxis] = elementStart;\n                        elementOrigin[groupsAxis] = alignStart(bbox.size[groupsSizeField], groupBox, options.alignItems, groupsAxis, groupsSizeField);\n                        translateToPoint(elementOrigin, bbox, element);\n                        elementStart += bbox.size[sizeField] + options.spacing;\n                    }\n                    groupStart += group.lineSize + options.lineSpacing;\n                }\n                if (!options.wrap && group.size > rect.size[sizeField]) {\n                    var scale = rect.size[sizeField] / groupBox.size[sizeField];\n                    var scaledStart = groupBox.topLeft().scale(scale, scale);\n                    var scaledSize = groupBox.size[groupsSizeField] * scale;\n                    var newStart = alignStart(scaledSize, rect, options.alignContent, groupsAxis, groupsSizeField);\n                    var transform = g.transform();\n                    if (groupAxis === 'x') {\n                        transform.translate(rect.origin.x - scaledStart.x, newStart - scaledStart.y);\n                    } else {\n                        transform.translate(newStart - scaledStart.x, rect.origin.y - scaledStart.y);\n                    }\n                    transform.scale(scale, scale);\n                    this.transform(transform);\n                }\n            },\n            _initGroups: function () {\n                var options = this.options;\n                var children = this.children;\n                var lineSpacing = options.lineSpacing;\n                var sizeField = this._fieldMap.sizeField;\n                var groupsSize = -lineSpacing;\n                var groups = [];\n                var group = this._newGroup();\n                var addGroup = function () {\n                    groups.push(group);\n                    groupsSize += group.lineSize + lineSpacing;\n                };\n                var bbox, element;\n                for (var idx = 0; idx < children.length; idx++) {\n                    element = children[idx];\n                    bbox = children[idx].clippedBBox();\n                    if (element.visible() && bbox) {\n                        if (options.wrap && group.size + bbox.size[sizeField] + options.spacing > this._rect.size[sizeField]) {\n                            if (group.bboxes.length === 0) {\n                                this._addToGroup(group, bbox, element);\n                                addGroup();\n                                group = this._newGroup();\n                            } else {\n                                addGroup();\n                                group = this._newGroup();\n                                this._addToGroup(group, bbox, element);\n                            }\n                        } else {\n                            this._addToGroup(group, bbox, element);\n                        }\n                    }\n                }\n                if (group.bboxes.length) {\n                    addGroup();\n                }\n                return {\n                    groups: groups,\n                    groupsSize: groupsSize\n                };\n            },\n            _addToGroup: function (group, bbox, element) {\n                group.size += bbox.size[this._fieldMap.sizeField] + this.options.spacing;\n                group.lineSize = Math.max(bbox.size[this._fieldMap.groupsSizeField], group.lineSize);\n                group.bboxes.push(bbox);\n                group.elements.push(element);\n            },\n            _newGroup: function () {\n                return {\n                    lineSize: 0,\n                    size: -this.options.spacing,\n                    bboxes: [],\n                    elements: []\n                };\n            }\n        });\n        function elementsBoundingBox(elements, applyTransform, transformation) {\n            var boundingBox;\n            for (var i = 0; i < elements.length; i++) {\n                var element = elements[i];\n                if (element.visible()) {\n                    var elementBoundingBox = applyTransform ? element.bbox(transformation) : element.rawBBox();\n                    if (elementBoundingBox) {\n                        if (boundingBox) {\n                            boundingBox = g.Rect.union(boundingBox, elementBoundingBox);\n                        } else {\n                            boundingBox = elementBoundingBox;\n                        }\n                    }\n                }\n            }\n            return boundingBox;\n        }\n        function elementsClippedBoundingBox(elements, transformation) {\n            var boundingBox;\n            for (var i = 0; i < elements.length; i++) {\n                var element = elements[i];\n                if (element.visible()) {\n                    var elementBoundingBox = element.clippedBBox(transformation);\n                    if (elementBoundingBox) {\n                        if (boundingBox) {\n                            boundingBox = g.Rect.union(boundingBox, elementBoundingBox);\n                        } else {\n                            boundingBox = elementBoundingBox;\n                        }\n                    }\n                }\n            }\n            return boundingBox;\n        }\n        function defineGeometryAccessors(fn, names) {\n            for (var i = 0; i < names.length; i++) {\n                fn[names[i]] = geometryAccessor(names[i]);\n            }\n        }\n        function geometryAccessor(name) {\n            var fieldName = '_' + name;\n            return function (value) {\n                if (defined(value)) {\n                    this._observerField(fieldName, value);\n                    this.geometryChange();\n                    return this;\n                } else {\n                    return this[fieldName];\n                }\n            };\n        }\n        function definePointAccessors(fn, names) {\n            for (var i = 0; i < names.length; i++) {\n                fn[names[i]] = pointAccessor(names[i]);\n            }\n        }\n        function pointAccessor(name) {\n            var fieldName = '_' + name;\n            return function (value) {\n                if (defined(value)) {\n                    this._observerField(fieldName, Point.create(value));\n                    this.geometryChange();\n                    return this;\n                } else {\n                    return this[fieldName];\n                }\n            };\n        }\n        function defineOptionsAccessors(fn, names) {\n            for (var i = 0; i < names.length; i++) {\n                fn[names[i]] = optionsAccessor(names[i]);\n            }\n        }\n        function optionsAccessor(name) {\n            return function (value) {\n                if (defined(value)) {\n                    this.options.set(name, value);\n                    return this;\n                } else {\n                    return this.options.get(name);\n                }\n            };\n        }\n        function generateDefinitionId() {\n            return 'kdef' + defId++;\n        }\n        function align(elements, rect, alignment) {\n            alignElements(elements, rect, alignment, 'x', 'width');\n        }\n        function vAlign(elements, rect, alignment) {\n            alignElements(elements, rect, alignment, 'y', 'height');\n        }\n        function stack(elements) {\n            stackElements(getStackElements(elements), 'x', 'y', 'width');\n        }\n        function vStack(elements) {\n            stackElements(getStackElements(elements), 'y', 'x', 'height');\n        }\n        function wrap(elements, rect) {\n            return wrapElements(elements, rect, 'x', 'y', 'width');\n        }\n        function vWrap(elements, rect) {\n            return wrapElements(elements, rect, 'y', 'x', 'height');\n        }\n        function wrapElements(elements, rect, axis, otherAxis, sizeField) {\n            var result = [];\n            var stacks = getStacks(elements, rect, sizeField);\n            var origin = rect.origin.clone();\n            var startElement;\n            var elementIdx;\n            var stack;\n            var idx;\n            for (idx = 0; idx < stacks.length; idx++) {\n                stack = stacks[idx];\n                startElement = stack[0];\n                origin[otherAxis] = startElement.bbox.origin[otherAxis];\n                translateToPoint(origin, startElement.bbox, startElement.element);\n                startElement.bbox.origin[axis] = origin[axis];\n                stackElements(stack, axis, otherAxis, sizeField);\n                result.push([]);\n                for (elementIdx = 0; elementIdx < stack.length; elementIdx++) {\n                    result[idx].push(stack[elementIdx].element);\n                }\n            }\n            return result;\n        }\n        function fit(element, rect) {\n            var bbox = element.clippedBBox();\n            var elementSize = bbox.size;\n            var rectSize = rect.size;\n            if (rectSize.width < elementSize.width || rectSize.height < elementSize.height) {\n                var scale = math.min(rectSize.width / elementSize.width, rectSize.height / elementSize.height);\n                var transform = element.transform() || g.transform();\n                transform.scale(scale, scale);\n                element.transform(transform);\n            }\n        }\n        function getStacks(elements, rect, sizeField) {\n            var maxSize = rect.size[sizeField];\n            var stackSize = 0;\n            var stacks = [];\n            var stack = [];\n            var element;\n            var size;\n            var bbox;\n            var addElementToStack = function () {\n                stack.push({\n                    element: element,\n                    bbox: bbox\n                });\n            };\n            for (var idx = 0; idx < elements.length; idx++) {\n                element = elements[idx];\n                bbox = element.clippedBBox();\n                if (bbox) {\n                    size = bbox.size[sizeField];\n                    if (stackSize + size > maxSize) {\n                        if (stack.length) {\n                            stacks.push(stack);\n                            stack = [];\n                            addElementToStack();\n                            stackSize = size;\n                        } else {\n                            addElementToStack();\n                            stacks.push(stack);\n                            stack = [];\n                            stackSize = 0;\n                        }\n                    } else {\n                        addElementToStack();\n                        stackSize += size;\n                    }\n                }\n            }\n            if (stack.length) {\n                stacks.push(stack);\n            }\n            return stacks;\n        }\n        function getStackElements(elements) {\n            var stackElements = [];\n            var element;\n            var bbox;\n            for (var idx = 0; idx < elements.length; idx++) {\n                element = elements[idx];\n                bbox = element.clippedBBox();\n                if (bbox) {\n                    stackElements.push({\n                        element: element,\n                        bbox: bbox\n                    });\n                }\n            }\n            return stackElements;\n        }\n        function stackElements(elements, stackAxis, otherAxis, sizeField) {\n            if (elements.length > 1) {\n                var previousBBox = elements[0].bbox;\n                var origin = new Point();\n                var element;\n                var bbox;\n                for (var idx = 1; idx < elements.length; idx++) {\n                    element = elements[idx].element;\n                    bbox = elements[idx].bbox;\n                    origin[stackAxis] = previousBBox.origin[stackAxis] + previousBBox.size[sizeField];\n                    origin[otherAxis] = bbox.origin[otherAxis];\n                    translateToPoint(origin, bbox, element);\n                    bbox.origin[stackAxis] = origin[stackAxis];\n                    previousBBox = bbox;\n                }\n            }\n        }\n        function alignElements(elements, rect, alignment, axis, sizeField) {\n            var bbox, point;\n            alignment = alignment || 'start';\n            for (var idx = 0; idx < elements.length; idx++) {\n                bbox = elements[idx].clippedBBox();\n                if (bbox) {\n                    point = bbox.origin.clone();\n                    point[axis] = alignStart(bbox.size[sizeField], rect, alignment, axis, sizeField);\n                    translateToPoint(point, bbox, elements[idx]);\n                }\n            }\n        }\n        function alignStart(size, rect, align, axis, sizeField) {\n            var start;\n            if (align == START) {\n                start = rect.origin[axis];\n            } else if (align == END) {\n                start = rect.origin[axis] + rect.size[sizeField] - size;\n            } else {\n                start = rect.origin[axis] + (rect.size[sizeField] - size) / 2;\n            }\n            return start;\n        }\n        function translate(x, y, element) {\n            var transofrm = element.transform() || g.transform();\n            var matrix = transofrm.matrix();\n            matrix.e += x;\n            matrix.f += y;\n            transofrm.matrix(matrix);\n            element.transform(transofrm);\n        }\n        function translateToPoint(point, bbox, element) {\n            translate(point.x - bbox.origin.x, point.y - bbox.origin.y, element);\n        }\n        deepExtend(drawing, {\n            align: align,\n            Arc: Arc,\n            Circle: Circle,\n            Element: Element,\n            ElementsArray: ElementsArray,\n            fit: fit,\n            Gradient: Gradient,\n            GradientStop: GradientStop,\n            Group: Group,\n            Image: Image,\n            Layout: Layout,\n            LinearGradient: LinearGradient,\n            MultiPath: MultiPath,\n            Path: Path,\n            RadialGradient: RadialGradient,\n            Rect: Rect,\n            Segment: Segment,\n            stack: stack,\n            Text: Text,\n            vAlign: vAlign,\n            vStack: vStack,\n            vWrap: vWrap,\n            wrap: wrap\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/parser', ['drawing/shapes'], f);\n}(function () {\n    (function ($) {\n        var kendo = window.kendo, drawing = kendo.drawing, geometry = kendo.geometry, Class = kendo.Class, Point = geometry.Point, deepExtend = kendo.deepExtend, trim = $.trim, util = kendo.util, last = util.last;\n        var SEGMENT_REGEX = /([a-df-z]{1})([^a-df-z]*)(z)?/gi, SPLIT_REGEX = /[,\\s]?([+\\-]?(?:\\d*\\.\\d+|\\d+)(?:[eE][+\\-]?\\d+)?)/g, MOVE = 'm', CLOSE = 'z';\n        var PathParser = Class.extend({\n            parse: function (str, options) {\n                var multiPath = new drawing.MultiPath(options);\n                var position = new Point();\n                var previousCommand;\n                str.replace(SEGMENT_REGEX, function (match, element, params, closePath) {\n                    var command = element.toLowerCase();\n                    var isRelative = command === element;\n                    var parameters = parseParameters(trim(params));\n                    if (command === MOVE) {\n                        if (isRelative) {\n                            position.x += parameters[0];\n                            position.y += parameters[1];\n                        } else {\n                            position.x = parameters[0];\n                            position.y = parameters[1];\n                        }\n                        multiPath.moveTo(position.x, position.y);\n                        if (parameters.length > 2) {\n                            command = 'l';\n                            parameters.splice(0, 2);\n                        }\n                    }\n                    if (ShapeMap[command]) {\n                        ShapeMap[command](multiPath, {\n                            parameters: parameters,\n                            position: position,\n                            isRelative: isRelative,\n                            previousCommand: previousCommand\n                        });\n                        if (closePath && closePath.toLowerCase() === CLOSE) {\n                            multiPath.close();\n                        }\n                    } else if (command !== MOVE) {\n                        throw new Error('Error while parsing SVG path. Unsupported command: ' + command);\n                    }\n                    previousCommand = command;\n                });\n                return multiPath;\n            }\n        });\n        var ShapeMap = {\n            l: function (path, options) {\n                var parameters = options.parameters;\n                var position = options.position;\n                for (var i = 0; i < parameters.length; i += 2) {\n                    var point = new Point(parameters[i], parameters[i + 1]);\n                    if (options.isRelative) {\n                        point.translateWith(position);\n                    }\n                    path.lineTo(point.x, point.y);\n                    position.x = point.x;\n                    position.y = point.y;\n                }\n            },\n            c: function (path, options) {\n                var parameters = options.parameters;\n                var position = options.position;\n                var controlOut, controlIn, point;\n                for (var i = 0; i < parameters.length; i += 6) {\n                    controlOut = new Point(parameters[i], parameters[i + 1]);\n                    controlIn = new Point(parameters[i + 2], parameters[i + 3]);\n                    point = new Point(parameters[i + 4], parameters[i + 5]);\n                    if (options.isRelative) {\n                        controlIn.translateWith(position);\n                        controlOut.translateWith(position);\n                        point.translateWith(position);\n                    }\n                    path.curveTo(controlOut, controlIn, point);\n                    position.x = point.x;\n                    position.y = point.y;\n                }\n            },\n            v: function (path, options) {\n                var value = options.isRelative ? 0 : options.position.x;\n                toLineParamaters(options.parameters, true, value);\n                this.l(path, options);\n            },\n            h: function (path, options) {\n                var value = options.isRelative ? 0 : options.position.y;\n                toLineParamaters(options.parameters, false, value);\n                this.l(path, options);\n            },\n            a: function (path, options) {\n                var parameters = options.parameters;\n                var position = options.position;\n                for (var i = 0; i < parameters.length; i += 7) {\n                    var radiusX = parameters[i];\n                    var radiusY = parameters[i + 1];\n                    var largeArc = parameters[i + 3];\n                    var swipe = parameters[i + 4];\n                    var endPoint = new Point(parameters[i + 5], parameters[i + 6]);\n                    if (options.isRelative) {\n                        endPoint.translateWith(position);\n                    }\n                    path.arcTo(endPoint, radiusX, radiusY, largeArc, swipe);\n                    position.x = endPoint.x;\n                    position.y = endPoint.y;\n                }\n            },\n            s: function (path, options) {\n                var parameters = options.parameters;\n                var position = options.position;\n                var previousCommand = options.previousCommand;\n                var controlOut, endPoint, controlIn, lastControlIn;\n                if (previousCommand == 's' || previousCommand == 'c') {\n                    lastControlIn = last(last(path.paths).segments).controlIn();\n                }\n                for (var i = 0; i < parameters.length; i += 4) {\n                    controlIn = new Point(parameters[i], parameters[i + 1]);\n                    endPoint = new Point(parameters[i + 2], parameters[i + 3]);\n                    if (options.isRelative) {\n                        controlIn.translateWith(position);\n                        endPoint.translateWith(position);\n                    }\n                    if (lastControlIn) {\n                        controlOut = reflectionPoint(lastControlIn, position);\n                    } else {\n                        controlOut = position.clone();\n                    }\n                    lastControlIn = controlIn;\n                    path.curveTo(controlOut, controlIn, endPoint);\n                    position.x = endPoint.x;\n                    position.y = endPoint.y;\n                }\n            },\n            q: function (path, options) {\n                var parameters = options.parameters;\n                var position = options.position;\n                var cubicControlPoints, endPoint, controlPoint;\n                for (var i = 0; i < parameters.length; i += 4) {\n                    controlPoint = new Point(parameters[i], parameters[i + 1]);\n                    endPoint = new Point(parameters[i + 2], parameters[i + 3]);\n                    if (options.isRelative) {\n                        controlPoint.translateWith(position);\n                        endPoint.translateWith(position);\n                    }\n                    cubicControlPoints = quadraticToCubicControlPoints(position, controlPoint, endPoint);\n                    path.curveTo(cubicControlPoints.controlOut, cubicControlPoints.controlIn, endPoint);\n                    position.x = endPoint.x;\n                    position.y = endPoint.y;\n                }\n            },\n            t: function (path, options) {\n                var parameters = options.parameters;\n                var position = options.position;\n                var previousCommand = options.previousCommand;\n                var cubicControlPoints, controlPoint, endPoint;\n                if (previousCommand == 'q' || previousCommand == 't') {\n                    var lastSegment = last(last(path.paths).segments);\n                    controlPoint = lastSegment.controlIn().clone().translateWith(position.scaleCopy(-1 / 3)).scale(3 / 2);\n                }\n                for (var i = 0; i < parameters.length; i += 2) {\n                    endPoint = new Point(parameters[i], parameters[i + 1]);\n                    if (options.isRelative) {\n                        endPoint.translateWith(position);\n                    }\n                    if (controlPoint) {\n                        controlPoint = reflectionPoint(controlPoint, position);\n                    } else {\n                        controlPoint = position.clone();\n                    }\n                    cubicControlPoints = quadraticToCubicControlPoints(position, controlPoint, endPoint);\n                    path.curveTo(cubicControlPoints.controlOut, cubicControlPoints.controlIn, endPoint);\n                    position.x = endPoint.x;\n                    position.y = endPoint.y;\n                }\n            }\n        };\n        function parseParameters(str) {\n            var parameters = [];\n            str.replace(SPLIT_REGEX, function (match, number) {\n                parameters.push(parseFloat(number));\n            });\n            return parameters;\n        }\n        function toLineParamaters(parameters, isVertical, value) {\n            var insertPosition = isVertical ? 0 : 1;\n            for (var i = 0; i < parameters.length; i += 2) {\n                parameters.splice(i + insertPosition, 0, value);\n            }\n        }\n        function reflectionPoint(point, center) {\n            if (point && center) {\n                return center.scaleCopy(2).translate(-point.x, -point.y);\n            }\n        }\n        function quadraticToCubicControlPoints(position, controlPoint, endPoint) {\n            var third = 1 / 3;\n            controlPoint = controlPoint.clone().scale(2 / 3);\n            return {\n                controlOut: controlPoint.clone().translateWith(position.scaleCopy(third)),\n                controlIn: controlPoint.translateWith(endPoint.scaleCopy(third))\n            };\n        }\n        PathParser.current = new PathParser();\n        drawing.Path.parse = function (str, options) {\n            return PathParser.current.parse(str, options);\n        };\n        deepExtend(drawing, { PathParser: PathParser });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/search', ['drawing/shapes'], f);\n}(function () {\n    (function ($) {\n        var kendo = window.kendo, drawing = kendo.drawing, geometry = kendo.geometry, Class = kendo.Class, Rect = geometry.Rect, deepExtend = kendo.deepExtend, isArray = $.isArray, inArray = $.inArray, math = Math, LEVEL_STEP = 10000, MAX_LEVEL = 75;\n        var QuadRoot = Class.extend({\n            init: function () {\n                this.shapes = [];\n            },\n            _add: function (shape, bbox) {\n                this.shapes.push({\n                    bbox: bbox,\n                    shape: shape\n                });\n                shape._quadNode = this;\n            },\n            pointShapes: function (point) {\n                var shapes = this.shapes;\n                var length = shapes.length;\n                var result = [];\n                for (var idx = 0; idx < length; idx++) {\n                    if (shapes[idx].bbox.containsPoint(point)) {\n                        result.push(shapes[idx].shape);\n                    }\n                }\n                return result;\n            },\n            insert: function (shape, bbox) {\n                this._add(shape, bbox);\n            },\n            remove: function (shape) {\n                var shapes = this.shapes;\n                var length = shapes.length;\n                for (var idx = 0; idx < length; idx++) {\n                    if (shapes[idx].shape === shape) {\n                        shapes.splice(idx, 1);\n                        break;\n                    }\n                }\n            }\n        });\n        var QuadNode = QuadRoot.extend({\n            init: function (rect) {\n                QuadRoot.fn.init.call(this);\n                this.children = [];\n                this.rect = rect;\n            },\n            inBounds: function (rect) {\n                var nodeRect = this.rect;\n                var nodeBottomRight = nodeRect.bottomRight();\n                var bottomRight = rect.bottomRight();\n                var inBounds = nodeRect.origin.x <= rect.origin.x && nodeRect.origin.y <= rect.origin.y && bottomRight.x <= nodeBottomRight.x && bottomRight.y <= nodeBottomRight.y;\n                return inBounds;\n            },\n            pointShapes: function (point) {\n                var children = this.children;\n                var length = children.length;\n                var result = QuadRoot.fn.pointShapes.call(this, point);\n                for (var idx = 0; idx < length; idx++) {\n                    result = result.concat(children[idx].pointShapes(point));\n                }\n                return result;\n            },\n            insert: function (shape, bbox) {\n                var inserted = false;\n                var children = this.children;\n                if (this.inBounds(bbox)) {\n                    if (this.shapes.length < 4) {\n                        this._add(shape, bbox);\n                    } else {\n                        if (!children.length) {\n                            this._initChildren();\n                        }\n                        for (var idx = 0; idx < children.length; idx++) {\n                            if (children[idx].insert(shape, bbox)) {\n                                inserted = true;\n                                break;\n                            }\n                        }\n                        if (!inserted) {\n                            this._add(shape, bbox);\n                        }\n                    }\n                    inserted = true;\n                }\n                return inserted;\n            },\n            _initChildren: function () {\n                var rect = this.rect, children = this.children, center = rect.center(), halfWidth = rect.width() / 2, halfHeight = rect.height() / 2;\n                children.push(new QuadNode(new Rect([\n                    rect.origin.x,\n                    rect.origin.y\n                ], [\n                    halfWidth,\n                    halfHeight\n                ])), new QuadNode(new Rect([\n                    center.x,\n                    rect.origin.y\n                ], [\n                    halfWidth,\n                    halfHeight\n                ])), new QuadNode(new Rect([\n                    rect.origin.x,\n                    center.y\n                ], [\n                    halfWidth,\n                    halfHeight\n                ])), new QuadNode(new Rect([\n                    center.x,\n                    center.y\n                ], [\n                    halfWidth,\n                    halfHeight\n                ])));\n            }\n        });\n        var ShapesQuadTree = Class.extend({\n            ROOT_SIZE: 1000,\n            init: function () {\n                this.initRoots();\n            },\n            initRoots: function () {\n                this.rootMap = {};\n                this.root = new QuadRoot();\n                this.rootElements = [];\n            },\n            clear: function () {\n                var that = this;\n                var rootElements = that.rootElements;\n                for (var idx = 0; idx < rootElements.length; idx++) {\n                    this.remove(rootElements[idx]);\n                }\n                this.initRoots();\n            },\n            pointShape: function (point) {\n                var size = this.ROOT_SIZE;\n                var result = this.root.pointShapes(point);\n                var sectorRoot = (this.rootMap[math.floor(point.x / size)] || {})[math.floor(point.y / size)];\n                if (sectorRoot) {\n                    result = result.concat(sectorRoot.pointShapes(point));\n                }\n                this.assignZindex(result);\n                result.sort(zIndexComparer);\n                for (var idx = 0; idx < result.length; idx++) {\n                    if (result[idx].containsPoint(point)) {\n                        return result[idx];\n                    }\n                }\n            },\n            assignZindex: function (elements) {\n                var element, levelWeight, zIndex, parents;\n                for (var idx = 0; idx < elements.length; idx++) {\n                    element = elements[idx];\n                    zIndex = 0;\n                    levelWeight = math.pow(LEVEL_STEP, MAX_LEVEL);\n                    parents = [];\n                    while (element) {\n                        parents.push(element);\n                        element = element.parent;\n                    }\n                    while (parents.length) {\n                        element = parents.pop();\n                        zIndex += (inArray(element, element.parent ? element.parent.children : this.rootElements) + 1) * levelWeight;\n                        levelWeight /= LEVEL_STEP;\n                    }\n                    elements[idx]._zIndex = zIndex;\n                }\n            },\n            optionsChange: function (e) {\n                if (e.field == 'transform' || e.field == 'stroke.width') {\n                    this.bboxChange(e.element);\n                }\n            },\n            geometryChange: function (e) {\n                this.bboxChange(e.element);\n            },\n            bboxChange: function (element) {\n                if (element.nodeType === 'Group') {\n                    for (var idx = 0; idx < element.children.length; idx++) {\n                        this.bboxChange(element.children[idx]);\n                    }\n                } else {\n                    if (element._quadNode) {\n                        element._quadNode.remove(element);\n                    }\n                    this._insertShape(element);\n                }\n            },\n            add: function (elements) {\n                var elementsArray = isArray(elements) ? elements.slice(0) : [elements];\n                this.rootElements.push.apply(this.rootElements, elementsArray);\n                this._insert(elementsArray);\n            },\n            childrenChange: function (e) {\n                if (e.action == 'remove') {\n                    for (var idx = 0; idx < e.items.length; idx++) {\n                        this.remove(e.items[idx]);\n                    }\n                } else {\n                    this._insert(Array.prototype.slice.call(e.items, 0));\n                }\n            },\n            _insert: function (elements) {\n                var element;\n                while (elements.length > 0) {\n                    element = elements.pop();\n                    element.addObserver(this);\n                    if (element.nodeType == 'Group') {\n                        elements.push.apply(elements, element.children);\n                    } else {\n                        this._insertShape(element);\n                    }\n                }\n            },\n            _insertShape: function (shape) {\n                var bbox = shape.bbox();\n                if (bbox) {\n                    var rootSize = this.ROOT_SIZE;\n                    var sectors = this.getSectors(bbox);\n                    var x = sectors[0][0];\n                    var y = sectors[1][0];\n                    if (this.inRoot(sectors)) {\n                        this.root.insert(shape, bbox);\n                    } else {\n                        if (!this.rootMap[x]) {\n                            this.rootMap[x] = {};\n                        }\n                        if (!this.rootMap[x][y]) {\n                            this.rootMap[x][y] = new QuadNode(new Rect([\n                                x * rootSize,\n                                y * rootSize\n                            ], [\n                                rootSize,\n                                rootSize\n                            ]));\n                        }\n                        this.rootMap[x][y].insert(shape, bbox);\n                    }\n                }\n            },\n            remove: function (element) {\n                element.removeObserver(this);\n                if (element.nodeType == 'Group') {\n                    var children = element.children;\n                    for (var idx = 0; idx < children.length; idx++) {\n                        this.remove(children[idx]);\n                    }\n                } else if (element._quadNode) {\n                    element._quadNode.remove(element);\n                    delete element._quadNode;\n                }\n            },\n            inRoot: function (sectors) {\n                return sectors[0].length > 1 || sectors[1].length > 1;\n            },\n            getSectors: function (rect) {\n                var rootSize = this.ROOT_SIZE;\n                var bottomRight = rect.bottomRight();\n                var bottomX = math.floor(bottomRight.x / rootSize);\n                var bottomY = math.floor(bottomRight.y / rootSize);\n                var sectors = [\n                    [],\n                    []\n                ];\n                for (var x = math.floor(rect.origin.x / rootSize); x <= bottomX; x++) {\n                    sectors[0].push(x);\n                }\n                for (var y = math.floor(rect.origin.y / rootSize); y <= bottomY; y++) {\n                    sectors[1].push(y);\n                }\n                return sectors;\n            }\n        });\n        function zIndexComparer(x1, x2) {\n            if (x1._zIndex < x2._zIndex) {\n                return 1;\n            }\n            if (x1._zIndex > x2._zIndex) {\n                return -1;\n            }\n            return 0;\n        }\n        deepExtend(drawing, {\n            ShapesQuadTree: ShapesQuadTree,\n            QuadNode: QuadNode\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/svg', [\n        'drawing/shapes',\n        'util/main'\n    ], f);\n}(function () {\n    (function ($) {\n        var doc = document, kendo = window.kendo, deepExtend = kendo.deepExtend, g = kendo.geometry, d = kendo.drawing, BaseNode = d.BaseNode, util = kendo.util, defined = util.defined, isTransparent = util.isTransparent, renderAttr = util.renderAttr, renderAllAttr = util.renderAllAttr, renderTemplate = util.renderTemplate, inArray = $.inArray;\n        var BUTT = 'butt', DASH_ARRAYS = d.DASH_ARRAYS, GRADIENT = 'gradient', NONE = 'none', NS = '.kendo', SOLID = 'solid', SPACE = ' ', SVG_NS = 'http://www.w3.org/2000/svg', TRANSFORM = 'transform', UNDEFINED = 'undefined';\n        var Surface = d.Surface.extend({\n            init: function (element, options) {\n                d.Surface.fn.init.call(this, element, options);\n                this._root = new RootNode(this.options);\n                renderSVG(this.element[0], this._template(this));\n                this._rootElement = this.element[0].firstElementChild;\n                alignToScreen(this._rootElement);\n                this._root.attachTo(this._rootElement);\n                this.element.on('click' + NS, this._click);\n                this.element.on('mouseover' + NS, this._mouseenter);\n                this.element.on('mouseout' + NS, this._mouseleave);\n                this.element.on('mousemove' + NS, this._mousemove);\n                this.resize();\n            },\n            type: 'svg',\n            destroy: function () {\n                if (this._root) {\n                    this._root.destroy();\n                    this._root = null;\n                    this._rootElement = null;\n                    this.element.off(NS);\n                }\n                d.Surface.fn.destroy.call(this);\n            },\n            translate: function (offset) {\n                var viewBox = kendo.format('{0} {1} {2} {3}', Math.round(offset.x), Math.round(offset.y), this._size.width, this._size.height);\n                this._offset = offset;\n                this._rootElement.setAttribute('viewBox', viewBox);\n            },\n            draw: function (element) {\n                d.Surface.fn.draw.call(this, element);\n                this._root.load([element]);\n            },\n            clear: function () {\n                d.Surface.fn.clear.call(this);\n                this._root.clear();\n            },\n            svg: function () {\n                return '<?xml version=\\'1.0\\' ?>' + this._template(this);\n            },\n            exportVisual: function () {\n                var visual = this._visual;\n                var offset = this._offset;\n                if (offset) {\n                    var wrap = new d.Group();\n                    wrap.children.push(visual);\n                    wrap.transform(g.transform().translate(-offset.x, -offset.y));\n                    visual = wrap;\n                }\n                return visual;\n            },\n            _resize: function () {\n                if (this._offset) {\n                    this.translate(this._offset);\n                }\n            },\n            _template: renderTemplate('<svg style=\\'width: 100%; height: 100%; overflow: hidden;\\' ' + 'xmlns=\\'' + SVG_NS + '\\' ' + 'xmlns:xlink=\\'http://www.w3.org/1999/xlink\\' ' + 'version=\\'1.1\\'>#= d._root.render() #</svg>')\n        });\n        var Node = BaseNode.extend({\n            init: function (srcElement) {\n                BaseNode.fn.init.call(this, srcElement);\n                this.definitions = {};\n            },\n            destroy: function () {\n                if (this.element) {\n                    this.element._kendoNode = null;\n                    this.element = null;\n                }\n                this.clearDefinitions();\n                BaseNode.fn.destroy.call(this);\n            },\n            load: function (elements, pos) {\n                var node = this, element = node.element, childNode, srcElement, children, i;\n                for (i = 0; i < elements.length; i++) {\n                    srcElement = elements[i];\n                    children = srcElement.children;\n                    childNode = new nodeMap[srcElement.nodeType](srcElement);\n                    if (defined(pos)) {\n                        node.insertAt(childNode, pos);\n                    } else {\n                        node.append(childNode);\n                    }\n                    childNode.createDefinitions();\n                    if (children && children.length > 0) {\n                        childNode.load(children);\n                    }\n                    if (element) {\n                        childNode.attachTo(element, pos);\n                    }\n                }\n            },\n            root: function () {\n                var root = this;\n                while (root.parent) {\n                    root = root.parent;\n                }\n                return root;\n            },\n            attachTo: function (domElement, pos) {\n                var container = doc.createElement('div');\n                renderSVG(container, '<svg xmlns=\\'' + SVG_NS + '\\' version=\\'1.1\\'>' + this.render() + '</svg>');\n                var element = container.firstChild.firstChild;\n                if (element) {\n                    if (defined(pos)) {\n                        domElement.insertBefore(element, domElement.childNodes[pos] || null);\n                    } else {\n                        domElement.appendChild(element);\n                    }\n                    this.setElement(element);\n                }\n            },\n            setElement: function (element) {\n                var nodes = this.childNodes, childElement, i;\n                if (this.element) {\n                    this.element._kendoNode = null;\n                }\n                this.element = element;\n                this.element._kendoNode = this;\n                for (i = 0; i < nodes.length; i++) {\n                    childElement = element.childNodes[i];\n                    nodes[i].setElement(childElement);\n                }\n            },\n            clear: function () {\n                this.clearDefinitions();\n                if (this.element) {\n                    this.element.innerHTML = '';\n                }\n                var children = this.childNodes;\n                for (var i = 0; i < children.length; i++) {\n                    children[i].destroy();\n                }\n                this.childNodes = [];\n            },\n            removeSelf: function () {\n                if (this.element) {\n                    var parentNode = this.element.parentNode;\n                    if (parentNode) {\n                        parentNode.removeChild(this.element);\n                    }\n                    this.element = null;\n                }\n                BaseNode.fn.removeSelf.call(this);\n            },\n            template: renderTemplate('#= d.renderChildren() #'),\n            render: function () {\n                return this.template(this);\n            },\n            renderChildren: function () {\n                var nodes = this.childNodes, output = '', i;\n                for (i = 0; i < nodes.length; i++) {\n                    output += nodes[i].render();\n                }\n                return output;\n            },\n            optionsChange: function (e) {\n                var field = e.field;\n                var value = e.value;\n                if (field === 'visible') {\n                    this.css('display', value ? '' : NONE);\n                } else if (DefinitionMap[field] && isDefinition(field, value)) {\n                    this.updateDefinition(field, value);\n                } else if (field === 'opacity') {\n                    this.attr('opacity', value);\n                }\n                BaseNode.fn.optionsChange.call(this, e);\n            },\n            attr: function (name, value) {\n                if (this.element) {\n                    this.element.setAttribute(name, value);\n                }\n            },\n            allAttr: function (attrs) {\n                for (var i = 0; i < attrs.length; i++) {\n                    this.attr(attrs[i][0], attrs[i][1]);\n                }\n            },\n            css: function (name, value) {\n                if (this.element) {\n                    this.element.style[name] = value;\n                }\n            },\n            allCss: function (styles) {\n                for (var i = 0; i < styles.length; i++) {\n                    this.css(styles[i][0], styles[i][1]);\n                }\n            },\n            removeAttr: function (name) {\n                if (this.element) {\n                    this.element.removeAttribute(name);\n                }\n            },\n            mapTransform: function (transform) {\n                var attrs = [];\n                if (transform) {\n                    attrs.push([\n                        TRANSFORM,\n                        'matrix(' + transform.matrix().toString(6) + ')'\n                    ]);\n                }\n                return attrs;\n            },\n            renderTransform: function () {\n                return renderAllAttr(this.mapTransform(this.srcElement.transform()));\n            },\n            transformChange: function (value) {\n                if (value) {\n                    this.allAttr(this.mapTransform(value));\n                } else {\n                    this.removeAttr(TRANSFORM);\n                }\n            },\n            mapStyle: function () {\n                var options = this.srcElement.options;\n                var style = [[\n                        'cursor',\n                        options.cursor\n                    ]];\n                if (options.visible === false) {\n                    style.push([\n                        'display',\n                        NONE\n                    ]);\n                }\n                return style;\n            },\n            renderStyle: function () {\n                return renderAttr('style', util.renderStyle(this.mapStyle(true)));\n            },\n            renderOpacity: function () {\n                return renderAttr('opacity', this.srcElement.options.opacity);\n            },\n            createDefinitions: function () {\n                var srcElement = this.srcElement;\n                var definitions = this.definitions;\n                var definition, field, options, hasDefinitions;\n                if (srcElement) {\n                    options = srcElement.options;\n                    for (field in DefinitionMap) {\n                        definition = options.get(field);\n                        if (definition && isDefinition(field, definition)) {\n                            definitions[field] = definition;\n                            hasDefinitions = true;\n                        }\n                    }\n                    if (hasDefinitions) {\n                        this.definitionChange({\n                            action: 'add',\n                            definitions: definitions\n                        });\n                    }\n                }\n            },\n            definitionChange: function (e) {\n                if (this.parent) {\n                    this.parent.definitionChange(e);\n                }\n            },\n            updateDefinition: function (type, value) {\n                var definitions = this.definitions;\n                var current = definitions[type];\n                var attr = DefinitionMap[type];\n                var definition = {};\n                if (current) {\n                    definition[type] = current;\n                    this.definitionChange({\n                        action: 'remove',\n                        definitions: definition\n                    });\n                    delete definitions[type];\n                }\n                if (!value) {\n                    if (current) {\n                        this.removeAttr(attr);\n                    }\n                } else {\n                    definition[type] = value;\n                    this.definitionChange({\n                        action: 'add',\n                        definitions: definition\n                    });\n                    definitions[type] = value;\n                    this.attr(attr, refUrl(value.id));\n                }\n            },\n            clearDefinitions: function () {\n                var definitions = this.definitions;\n                var field;\n                for (field in definitions) {\n                    this.definitionChange({\n                        action: 'remove',\n                        definitions: definitions\n                    });\n                    this.definitions = {};\n                    break;\n                }\n            },\n            renderDefinitions: function () {\n                return renderAllAttr(this.mapDefinitions());\n            },\n            mapDefinitions: function () {\n                var definitions = this.definitions;\n                var attrs = [];\n                var field;\n                for (field in definitions) {\n                    attrs.push([\n                        DefinitionMap[field],\n                        refUrl(definitions[field].id)\n                    ]);\n                }\n                return attrs;\n            }\n        });\n        var RootNode = Node.extend({\n            init: function (options) {\n                Node.fn.init.call(this);\n                this.options = options;\n                this.defs = new DefinitionNode();\n            },\n            attachTo: function (domElement) {\n                this.element = domElement;\n                this.defs.attachTo(domElement.firstElementChild);\n            },\n            clear: function () {\n                BaseNode.fn.clear.call(this);\n            },\n            template: renderTemplate('#=d.defs.render()##= d.renderChildren() #'),\n            definitionChange: function (e) {\n                this.defs.definitionChange(e);\n            }\n        });\n        var DefinitionNode = Node.extend({\n            init: function () {\n                Node.fn.init.call(this);\n                this.definitionMap = {};\n            },\n            attachTo: function (domElement) {\n                this.element = domElement;\n            },\n            template: renderTemplate('<defs>#= d.renderChildren()#</defs>'),\n            definitionChange: function (e) {\n                var definitions = e.definitions;\n                var action = e.action;\n                if (action == 'add') {\n                    this.addDefinitions(definitions);\n                } else if (action == 'remove') {\n                    this.removeDefinitions(definitions);\n                }\n            },\n            createDefinition: function (type, item) {\n                var nodeType;\n                if (type == 'clip') {\n                    nodeType = ClipNode;\n                } else if (type == 'fill') {\n                    if (item instanceof d.LinearGradient) {\n                        nodeType = LinearGradientNode;\n                    } else if (item instanceof d.RadialGradient) {\n                        nodeType = RadialGradientNode;\n                    }\n                }\n                return new nodeType(item);\n            },\n            addDefinitions: function (definitions) {\n                for (var field in definitions) {\n                    this.addDefinition(field, definitions[field]);\n                }\n            },\n            addDefinition: function (type, srcElement) {\n                var definitionMap = this.definitionMap;\n                var id = srcElement.id;\n                var element = this.element;\n                var node, mapItem;\n                mapItem = definitionMap[id];\n                if (!mapItem) {\n                    node = this.createDefinition(type, srcElement);\n                    definitionMap[id] = {\n                        element: node,\n                        count: 1\n                    };\n                    this.append(node);\n                    if (element) {\n                        node.attachTo(this.element);\n                    }\n                } else {\n                    mapItem.count++;\n                }\n            },\n            removeDefinitions: function (definitions) {\n                for (var field in definitions) {\n                    this.removeDefinition(definitions[field]);\n                }\n            },\n            removeDefinition: function (srcElement) {\n                var definitionMap = this.definitionMap;\n                var id = srcElement.id;\n                var mapItem;\n                mapItem = definitionMap[id];\n                if (mapItem) {\n                    mapItem.count--;\n                    if (mapItem.count === 0) {\n                        this.remove(inArray(mapItem.element, this.childNodes), 1);\n                        delete definitionMap[id];\n                    }\n                }\n            }\n        });\n        var ClipNode = Node.extend({\n            init: function (srcElement) {\n                Node.fn.init.call(this);\n                this.srcElement = srcElement;\n                this.id = srcElement.id;\n                this.load([srcElement]);\n            },\n            template: renderTemplate('<clipPath id=\\'#=d.id#\\'>#= d.renderChildren()#</clipPath>')\n        });\n        var GroupNode = Node.extend({\n            template: renderTemplate('<g#= d.renderTransform() + d.renderStyle() + d.renderOpacity() + d.renderDefinitions()#>#= d.renderChildren() #</g>'),\n            optionsChange: function (e) {\n                if (e.field == TRANSFORM) {\n                    this.transformChange(e.value);\n                }\n                Node.fn.optionsChange.call(this, e);\n            }\n        });\n        var PathNode = Node.extend({\n            geometryChange: function () {\n                this.attr('d', this.renderData());\n                this.invalidate();\n            },\n            optionsChange: function (e) {\n                switch (e.field) {\n                case 'fill':\n                    if (e.value) {\n                        this.allAttr(this.mapFill(e.value));\n                    } else {\n                        this.removeAttr('fill');\n                    }\n                    break;\n                case 'fill.color':\n                    this.allAttr(this.mapFill({ color: e.value }));\n                    break;\n                case 'stroke':\n                    if (e.value) {\n                        this.allAttr(this.mapStroke(e.value));\n                    } else {\n                        this.removeAttr('stroke');\n                    }\n                    break;\n                case TRANSFORM:\n                    this.transformChange(e.value);\n                    break;\n                default:\n                    var name = this.attributeMap[e.field];\n                    if (name) {\n                        this.attr(name, e.value);\n                    }\n                    break;\n                }\n                Node.fn.optionsChange.call(this, e);\n            },\n            attributeMap: {\n                'fill.opacity': 'fill-opacity',\n                'stroke.color': 'stroke',\n                'stroke.width': 'stroke-width',\n                'stroke.opacity': 'stroke-opacity'\n            },\n            content: function () {\n                if (this.element) {\n                    this.element.textContent = this.srcElement.content();\n                }\n            },\n            renderData: function () {\n                return this.printPath(this.srcElement);\n            },\n            printPath: function (path) {\n                var segments = path.segments, length = segments.length;\n                if (length > 0) {\n                    var parts = [], output, segmentType, currentType, i;\n                    for (i = 1; i < length; i++) {\n                        segmentType = this.segmentType(segments[i - 1], segments[i]);\n                        if (segmentType !== currentType) {\n                            currentType = segmentType;\n                            parts.push(segmentType);\n                        }\n                        if (segmentType === 'L') {\n                            parts.push(this.printPoints(segments[i].anchor()));\n                        } else {\n                            parts.push(this.printPoints(segments[i - 1].controlOut(), segments[i].controlIn(), segments[i].anchor()));\n                        }\n                    }\n                    output = 'M' + this.printPoints(segments[0].anchor()) + SPACE + parts.join(SPACE);\n                    if (path.options.closed) {\n                        output += 'Z';\n                    }\n                    return output;\n                }\n            },\n            printPoints: function () {\n                var points = arguments, length = points.length, i, result = [];\n                for (i = 0; i < length; i++) {\n                    result.push(points[i].toString(3));\n                }\n                return result.join(SPACE);\n            },\n            segmentType: function (segmentStart, segmentEnd) {\n                return segmentStart.controlOut() && segmentEnd.controlIn() ? 'C' : 'L';\n            },\n            mapStroke: function (stroke) {\n                var attrs = [];\n                if (stroke && !isTransparent(stroke.color)) {\n                    attrs.push([\n                        'stroke',\n                        stroke.color\n                    ]);\n                    attrs.push([\n                        'stroke-width',\n                        stroke.width\n                    ]);\n                    attrs.push([\n                        'stroke-linecap',\n                        this.renderLinecap(stroke)\n                    ]);\n                    attrs.push([\n                        'stroke-linejoin',\n                        stroke.lineJoin\n                    ]);\n                    if (defined(stroke.opacity)) {\n                        attrs.push([\n                            'stroke-opacity',\n                            stroke.opacity\n                        ]);\n                    }\n                    if (defined(stroke.dashType)) {\n                        attrs.push([\n                            'stroke-dasharray',\n                            this.renderDashType(stroke)\n                        ]);\n                    }\n                } else {\n                    attrs.push([\n                        'stroke',\n                        NONE\n                    ]);\n                }\n                return attrs;\n            },\n            renderStroke: function () {\n                return renderAllAttr(this.mapStroke(this.srcElement.options.stroke));\n            },\n            renderDashType: function (stroke) {\n                var width = stroke.width || 1, dashType = stroke.dashType;\n                if (dashType && dashType != SOLID) {\n                    var dashArray = DASH_ARRAYS[dashType.toLowerCase()], result = [], i;\n                    for (i = 0; i < dashArray.length; i++) {\n                        result.push(dashArray[i] * width);\n                    }\n                    return result.join(' ');\n                }\n            },\n            renderLinecap: function (stroke) {\n                var dashType = stroke.dashType, lineCap = stroke.lineCap;\n                return dashType && dashType != SOLID ? BUTT : lineCap;\n            },\n            mapFill: function (fill) {\n                var attrs = [];\n                if (!(fill && fill.nodeType == GRADIENT)) {\n                    if (fill && !isTransparent(fill.color)) {\n                        attrs.push([\n                            'fill',\n                            fill.color\n                        ]);\n                        if (defined(fill.opacity)) {\n                            attrs.push([\n                                'fill-opacity',\n                                fill.opacity\n                            ]);\n                        }\n                    } else {\n                        attrs.push([\n                            'fill',\n                            NONE\n                        ]);\n                    }\n                }\n                return attrs;\n            },\n            renderFill: function () {\n                return renderAllAttr(this.mapFill(this.srcElement.options.fill));\n            },\n            template: renderTemplate('<path #= d.renderStyle() # #= d.renderOpacity() # ' + '#= kendo.util.renderAttr(\\'d\\', d.renderData()) # ' + '#= d.renderStroke() # ' + '#= d.renderFill() # ' + '#= d.renderDefinitions() # ' + '#= d.renderTransform() #></path>')\n        });\n        var ArcNode = PathNode.extend({\n            renderData: function () {\n                return this.printPath(this.srcElement.toPath());\n            }\n        });\n        var MultiPathNode = PathNode.extend({\n            renderData: function () {\n                var paths = this.srcElement.paths;\n                if (paths.length > 0) {\n                    var result = [], i;\n                    for (i = 0; i < paths.length; i++) {\n                        result.push(this.printPath(paths[i]));\n                    }\n                    return result.join(' ');\n                }\n            }\n        });\n        var CircleNode = PathNode.extend({\n            geometryChange: function () {\n                var center = this.center();\n                this.attr('cx', center.x);\n                this.attr('cy', center.y);\n                this.attr('r', this.radius());\n                this.invalidate();\n            },\n            center: function () {\n                return this.srcElement.geometry().center;\n            },\n            radius: function () {\n                return this.srcElement.geometry().radius;\n            },\n            template: renderTemplate('<circle #= d.renderStyle() # #= d.renderOpacity() # ' + 'cx=\\'#= d.center().x #\\' cy=\\'#= d.center().y #\\' ' + 'r=\\'#= d.radius() #\\' ' + '#= d.renderStroke() # ' + '#= d.renderFill() # ' + '#= d.renderDefinitions() # ' + '#= d.renderTransform() # ></circle>')\n        });\n        var TextNode = PathNode.extend({\n            geometryChange: function () {\n                var pos = this.pos();\n                this.attr('x', pos.x);\n                this.attr('y', pos.y);\n                this.invalidate();\n            },\n            optionsChange: function (e) {\n                if (e.field === 'font') {\n                    this.attr('style', util.renderStyle(this.mapStyle()));\n                    this.geometryChange();\n                } else if (e.field === 'content') {\n                    PathNode.fn.content.call(this, this.srcElement.content());\n                }\n                PathNode.fn.optionsChange.call(this, e);\n            },\n            mapStyle: function (encode) {\n                var style = PathNode.fn.mapStyle.call(this, encode);\n                var font = this.srcElement.options.font;\n                if (encode) {\n                    font = kendo.htmlEncode(font);\n                }\n                style.push([\n                    'font',\n                    font\n                ]);\n                return style;\n            },\n            pos: function () {\n                var pos = this.srcElement.position();\n                var size = this.srcElement.measure();\n                return pos.clone().setY(pos.y + size.baseline);\n            },\n            renderContent: function () {\n                var content = this.srcElement.content();\n                content = decodeEntities(content);\n                content = kendo.htmlEncode(content);\n                return content;\n            },\n            template: renderTemplate('<text #= d.renderStyle() # #= d.renderOpacity() # ' + 'x=\\'#= this.pos().x #\\' y=\\'#= this.pos().y #\\' ' + '#= d.renderStroke() # ' + '#= d.renderTransform() # ' + '#= d.renderDefinitions() # ' + '#= d.renderFill() #>#= d.renderContent() #</text>')\n        });\n        var ImageNode = PathNode.extend({\n            geometryChange: function () {\n                this.allAttr(this.mapPosition());\n                this.invalidate();\n            },\n            optionsChange: function (e) {\n                if (e.field === 'src') {\n                    this.allAttr(this.mapSource());\n                }\n                PathNode.fn.optionsChange.call(this, e);\n            },\n            mapPosition: function () {\n                var rect = this.srcElement.rect();\n                var tl = rect.topLeft();\n                return [\n                    [\n                        'x',\n                        tl.x\n                    ],\n                    [\n                        'y',\n                        tl.y\n                    ],\n                    [\n                        'width',\n                        rect.width() + 'px'\n                    ],\n                    [\n                        'height',\n                        rect.height() + 'px'\n                    ]\n                ];\n            },\n            renderPosition: function () {\n                return renderAllAttr(this.mapPosition());\n            },\n            mapSource: function (encode) {\n                var src = this.srcElement.src();\n                if (encode) {\n                    src = kendo.htmlEncode(src);\n                }\n                return [[\n                        'xlink:href',\n                        src\n                    ]];\n            },\n            renderSource: function () {\n                return renderAllAttr(this.mapSource(true));\n            },\n            template: renderTemplate('<image preserveAspectRatio=\\'none\\' #= d.renderStyle() # #= d.renderTransform()# #= d.renderOpacity() # ' + '#= d.renderPosition() # #= d.renderSource() # #= d.renderDefinitions()#>' + '</image>')\n        });\n        var GradientStopNode = Node.extend({\n            template: renderTemplate('<stop #=d.renderOffset()# #=d.renderStyle()# />'),\n            renderOffset: function () {\n                return renderAttr('offset', this.srcElement.offset());\n            },\n            mapStyle: function () {\n                var srcElement = this.srcElement;\n                return [\n                    [\n                        'stop-color',\n                        srcElement.color()\n                    ],\n                    [\n                        'stop-opacity',\n                        srcElement.opacity()\n                    ]\n                ];\n            },\n            optionsChange: function (e) {\n                if (e.field == 'offset') {\n                    this.attr(e.field, e.value);\n                } else if (e.field == 'color' || e.field == 'opacity') {\n                    this.css('stop-' + e.field, e.value);\n                }\n            }\n        });\n        var GradientNode = Node.extend({\n            init: function (srcElement) {\n                Node.fn.init.call(this, srcElement);\n                this.id = srcElement.id;\n                this.loadStops();\n            },\n            loadStops: function () {\n                var srcElement = this.srcElement;\n                var stops = srcElement.stops;\n                var element = this.element;\n                var stopNode;\n                var idx;\n                for (idx = 0; idx < stops.length; idx++) {\n                    stopNode = new GradientStopNode(stops[idx]);\n                    this.append(stopNode);\n                    if (element) {\n                        stopNode.attachTo(element);\n                    }\n                }\n            },\n            optionsChange: function (e) {\n                if (e.field == 'gradient.stops') {\n                    BaseNode.fn.clear.call(this);\n                    this.loadStops();\n                } else if (e.field == GRADIENT) {\n                    this.allAttr(this.mapCoordinates());\n                }\n            },\n            renderCoordinates: function () {\n                return renderAllAttr(this.mapCoordinates());\n            },\n            mapSpace: function () {\n                return [\n                    'gradientUnits',\n                    this.srcElement.userSpace() ? 'userSpaceOnUse' : 'objectBoundingBox'\n                ];\n            }\n        });\n        var LinearGradientNode = GradientNode.extend({\n            template: renderTemplate('<linearGradient id=\\'#=d.id#\\' #=d.renderCoordinates()#>' + '#= d.renderChildren()#' + '</linearGradient>'),\n            mapCoordinates: function () {\n                var srcElement = this.srcElement;\n                var start = srcElement.start();\n                var end = srcElement.end();\n                var attrs = [\n                    [\n                        'x1',\n                        start.x\n                    ],\n                    [\n                        'y1',\n                        start.y\n                    ],\n                    [\n                        'x2',\n                        end.x\n                    ],\n                    [\n                        'y2',\n                        end.y\n                    ],\n                    this.mapSpace()\n                ];\n                return attrs;\n            }\n        });\n        var RadialGradientNode = GradientNode.extend({\n            template: renderTemplate('<radialGradient id=\\'#=d.id#\\' #=d.renderCoordinates()#>' + '#= d.renderChildren()#' + '</radialGradient>'),\n            mapCoordinates: function () {\n                var srcElement = this.srcElement;\n                var center = srcElement.center();\n                var radius = srcElement.radius();\n                var attrs = [\n                    [\n                        'cx',\n                        center.x\n                    ],\n                    [\n                        'cy',\n                        center.y\n                    ],\n                    [\n                        'r',\n                        radius\n                    ],\n                    this.mapSpace()\n                ];\n                return attrs;\n            }\n        });\n        var RectNode = PathNode.extend({\n            geometryChange: function () {\n                var geometry = this.srcElement.geometry();\n                this.attr('x', geometry.origin.x);\n                this.attr('y', geometry.origin.y);\n                this.attr('width', geometry.size.width);\n                this.attr('height', geometry.size.height);\n                this.invalidate();\n            },\n            size: function () {\n                return this.srcElement.geometry().size;\n            },\n            origin: function () {\n                return this.srcElement.geometry().origin;\n            },\n            template: renderTemplate('<rect #= d.renderStyle() # #= d.renderOpacity() # ' + 'x=\\'#= d.origin().x #\\' y=\\'#= d.origin().y #\\' ' + 'width=\\'#= d.size().width #\\' height=\\'#= d.size().height #\\'' + '#= d.renderStroke() # ' + '#= d.renderFill() # ' + '#= d.renderDefinitions() # ' + '#= d.renderTransform() # />')\n        });\n        var nodeMap = {\n            Group: GroupNode,\n            Text: TextNode,\n            Path: PathNode,\n            MultiPath: MultiPathNode,\n            Circle: CircleNode,\n            Arc: ArcNode,\n            Image: ImageNode,\n            Rect: RectNode\n        };\n        var renderSVG = function (container, svg) {\n            container.innerHTML = svg;\n        };\n        (function () {\n            var testFragment = '<svg xmlns=\\'' + SVG_NS + '\\'></svg>', testContainer = doc.createElement('div'), hasParser = typeof DOMParser != UNDEFINED;\n            testContainer.innerHTML = testFragment;\n            if (hasParser && testContainer.firstChild.namespaceURI != SVG_NS) {\n                renderSVG = function (container, svg) {\n                    var parser = new DOMParser(), chartDoc = parser.parseFromString(svg, 'text/xml'), importedDoc = doc.adoptNode(chartDoc.documentElement);\n                    container.innerHTML = '';\n                    container.appendChild(importedDoc);\n                };\n            }\n        }());\n        function alignToScreen(element) {\n            var ctm;\n            try {\n                ctm = element.getScreenCTM ? element.getScreenCTM() : null;\n            } catch (e) {\n            }\n            if (ctm) {\n                var left = -ctm.e % 1, top = -ctm.f % 1, style = element.style;\n                if (left !== 0 || top !== 0) {\n                    style.left = left + 'px';\n                    style.top = top + 'px';\n                }\n            }\n        }\n        function baseUrl() {\n            var base = document.getElementsByTagName('base')[0], url = '', href = document.location.href, hashIndex = href.indexOf('#');\n            if (base && !kendo.support.browser.msie) {\n                if (hashIndex !== -1) {\n                    href = href.substring(0, hashIndex);\n                }\n                url = href;\n            }\n            return url;\n        }\n        function refUrl(id) {\n            return 'url(' + baseUrl() + '#' + id + ')';\n        }\n        function exportGroup(group) {\n            var root = new RootNode();\n            var bbox = group.clippedBBox();\n            if (bbox) {\n                var origin = bbox.getOrigin();\n                var exportRoot = new d.Group();\n                exportRoot.transform(g.transform().translate(-origin.x, -origin.y));\n                exportRoot.children.push(group);\n                group = exportRoot;\n            }\n            root.load([group]);\n            var svg = '<?xml version=\\'1.0\\' ?>' + '<svg xmlns=\\'' + SVG_NS + '\\' ' + 'xmlns:xlink=\\'http://www.w3.org/1999/xlink\\' ' + 'version=\\'1.1\\'>' + root.render() + '</svg>';\n            root.destroy();\n            return svg;\n        }\n        function exportSVG(group, options) {\n            var svg = exportGroup(group);\n            if (!options || !options.raw) {\n                svg = 'data:image/svg+xml;base64,' + util.encodeBase64(svg);\n            }\n            return $.Deferred().resolve(svg).promise();\n        }\n        function isDefinition(type, value) {\n            return type == 'clip' || type == 'fill' && (!value || value.nodeType == GRADIENT);\n        }\n        function decodeEntities(text) {\n            if (!text || !text.indexOf || text.indexOf('&') < 0) {\n                return text;\n            } else {\n                var element = decodeEntities._element;\n                element.innerHTML = text;\n                return element.textContent || element.innerText;\n            }\n        }\n        decodeEntities._element = document.createElement('span');\n        var DefinitionMap = {\n            clip: 'clip-path',\n            fill: 'fill'\n        };\n        kendo.support.svg = function () {\n            return doc.implementation.hasFeature('http://www.w3.org/TR/SVG11/feature#BasicStructure', '1.1');\n        }();\n        if (kendo.support.svg) {\n            d.SurfaceFactory.current.register('svg', Surface, 10);\n        }\n        deepExtend(d, {\n            exportSVG: exportSVG,\n            svg: {\n                ArcNode: ArcNode,\n                CircleNode: CircleNode,\n                ClipNode: ClipNode,\n                DefinitionNode: DefinitionNode,\n                GradientStopNode: GradientStopNode,\n                GroupNode: GroupNode,\n                ImageNode: ImageNode,\n                LinearGradientNode: LinearGradientNode,\n                MultiPathNode: MultiPathNode,\n                Node: Node,\n                PathNode: PathNode,\n                RadialGradientNode: RadialGradientNode,\n                RectNode: RectNode,\n                RootNode: RootNode,\n                Surface: Surface,\n                TextNode: TextNode,\n                _exportGroup: exportGroup\n            }\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/canvas', [\n        'drawing/search',\n        'kendo.color'\n    ], f);\n}(function () {\n    (function ($) {\n        var doc = document, kendo = window.kendo, deepExtend = kendo.deepExtend, util = kendo.util, defined = util.defined, isTransparent = util.isTransparent, renderTemplate = util.renderTemplate, valueOrDefault = util.valueOrDefault, g = kendo.geometry, d = kendo.drawing, BaseNode = d.BaseNode, proxy = $.proxy;\n        var BUTT = 'butt', DASH_ARRAYS = d.DASH_ARRAYS, FRAME_DELAY = 1000 / 60, SOLID = 'solid', NS = '.kendo';\n        var Surface = d.Surface.extend({\n            init: function (element, options) {\n                d.Surface.fn.init.call(this, element, options);\n                this.element[0].innerHTML = this._template(this);\n                var canvas = this.element[0].firstElementChild;\n                canvas.width = $(element).width();\n                canvas.height = $(element).height();\n                this._rootElement = canvas;\n                this._root = new RootNode(canvas);\n            },\n            destroy: function () {\n                d.Surface.fn.destroy.call(this);\n                if (this._root) {\n                    this._root.destroy();\n                    this._root = null;\n                }\n                if (this._searchTree) {\n                    this._searchTree.clear();\n                    delete this._searchTree;\n                }\n                this.element.off(NS);\n            },\n            type: 'canvas',\n            draw: function (element) {\n                d.Surface.fn.draw.call(this, element);\n                this._root.load([element], undefined, this.options.cors);\n                if (this._searchTree) {\n                    this._searchTree.add([element]);\n                }\n            },\n            clear: function () {\n                d.Surface.fn.clear.call(this);\n                this._root.clear();\n                if (this._searchTree) {\n                    this._searchTree.clear();\n                }\n            },\n            eventTarget: function (e) {\n                if (this._searchTree) {\n                    var point = this._surfacePoint(e);\n                    var shape = this._searchTree.pointShape(point);\n                    return shape;\n                }\n            },\n            image: function () {\n                var root = this._root;\n                var rootElement = this._rootElement;\n                var loadingStates = [];\n                root.traverse(function (childNode) {\n                    if (childNode.loading) {\n                        loadingStates.push(childNode.loading);\n                    }\n                });\n                var defer = $.Deferred();\n                $.when.apply($, loadingStates).done(function () {\n                    root._invalidate();\n                    try {\n                        var data = rootElement.toDataURL();\n                        defer.resolve(data);\n                    } catch (e) {\n                        defer.reject(e);\n                    }\n                }).fail(function (e) {\n                    defer.reject(e);\n                });\n                return defer.promise();\n            },\n            suspendTracking: function () {\n                d.Surface.fn.suspendTracking.call(this);\n                if (this._searchTree) {\n                    this._searchTree.clear();\n                    delete this._searchTree;\n                }\n            },\n            resumeTracking: function () {\n                d.Surface.fn.resumeTracking.call(this);\n                if (!this._searchTree) {\n                    this._searchTree = new d.ShapesQuadTree();\n                    var childNodes = this._root.childNodes;\n                    var rootElements = [];\n                    for (var idx = 0; idx < childNodes.length; idx++) {\n                        rootElements.push(childNodes[idx].srcElement);\n                    }\n                    this._searchTree.add(rootElements);\n                }\n            },\n            _resize: function () {\n                this._rootElement.width = this._size.width;\n                this._rootElement.height = this._size.height;\n                this._root.invalidate();\n            },\n            _template: renderTemplate('<canvas style=\\'width: 100%; height: 100%;\\'></canvas>'),\n            _enableTracking: function () {\n                this._searchTree = new d.ShapesQuadTree();\n                this._mouseTrackHandler = proxy(this._trackMouse, this);\n                this.element.on('click' + NS, this._mouseTrackHandler);\n                this.element.on('mousemove' + NS, this._mouseTrackHandler);\n                d.Surface.fn._enableTracking.call(this);\n            },\n            _trackMouse: function (e) {\n                if (this._suspendedTracking) {\n                    return;\n                }\n                var shape = this.eventTarget(e);\n                if (e.type != 'click') {\n                    var currentShape = this._currentShape;\n                    if (currentShape && currentShape !== shape) {\n                        this.trigger('mouseleave', {\n                            element: currentShape,\n                            originalEvent: e,\n                            type: 'mouseleave'\n                        });\n                    }\n                    if (shape && currentShape !== shape) {\n                        this.trigger('mouseenter', {\n                            element: shape,\n                            originalEvent: e,\n                            type: 'mouseenter'\n                        });\n                    }\n                    this.trigger('mousemove', {\n                        element: shape,\n                        originalEvent: e,\n                        type: 'mousemove'\n                    });\n                    this._currentShape = shape;\n                } else if (shape) {\n                    this.trigger('click', {\n                        element: shape,\n                        originalEvent: e,\n                        type: 'click'\n                    });\n                }\n            }\n        });\n        var Node = BaseNode.extend({\n            init: function (srcElement) {\n                BaseNode.fn.init.call(this, srcElement);\n                if (srcElement) {\n                    this.initClip();\n                }\n            },\n            initClip: function () {\n                var clip = this.srcElement.clip();\n                if (clip) {\n                    this.clip = clip;\n                    clip.addObserver(this);\n                }\n            },\n            clear: function () {\n                if (this.srcElement) {\n                    this.srcElement.removeObserver(this);\n                }\n                this.clearClip();\n                BaseNode.fn.clear.call(this);\n            },\n            clearClip: function () {\n                if (this.clip) {\n                    this.clip.removeObserver(this);\n                    delete this.clip;\n                }\n            },\n            setClip: function (ctx) {\n                if (this.clip) {\n                    ctx.beginPath();\n                    PathNode.fn.renderPoints(ctx, this.clip);\n                    ctx.clip();\n                }\n            },\n            optionsChange: function (e) {\n                if (e.field == 'clip') {\n                    this.clearClip();\n                    this.initClip();\n                }\n                BaseNode.fn.optionsChange.call(this, e);\n            },\n            setTransform: function (ctx) {\n                if (this.srcElement) {\n                    var transform = this.srcElement.transform();\n                    if (transform) {\n                        ctx.transform.apply(ctx, transform.matrix().toArray(6));\n                    }\n                }\n            },\n            loadElements: function (elements, pos, cors) {\n                var node = this, childNode, srcElement, children, i;\n                for (i = 0; i < elements.length; i++) {\n                    srcElement = elements[i];\n                    children = srcElement.children;\n                    childNode = new nodeMap[srcElement.nodeType](srcElement, cors);\n                    if (children && children.length > 0) {\n                        childNode.load(children, pos, cors);\n                    }\n                    if (defined(pos)) {\n                        node.insertAt(childNode, pos);\n                    } else {\n                        node.append(childNode);\n                    }\n                }\n            },\n            load: function (elements, pos, cors) {\n                this.loadElements(elements, pos, cors);\n                this.invalidate();\n            },\n            setOpacity: function (ctx) {\n                if (this.srcElement) {\n                    var opacity = this.srcElement.opacity();\n                    if (defined(opacity)) {\n                        this.globalAlpha(ctx, opacity);\n                    }\n                }\n            },\n            globalAlpha: function (ctx, value) {\n                if (value && ctx.globalAlpha) {\n                    value *= ctx.globalAlpha;\n                }\n                ctx.globalAlpha = value;\n            },\n            visible: function () {\n                var src = this.srcElement;\n                return !src || src && src.options.visible !== false;\n            }\n        });\n        var GroupNode = Node.extend({\n            renderTo: function (ctx) {\n                if (!this.visible()) {\n                    return;\n                }\n                ctx.save();\n                this.setTransform(ctx);\n                this.setClip(ctx);\n                this.setOpacity(ctx);\n                var childNodes = this.childNodes;\n                for (var i = 0; i < childNodes.length; i++) {\n                    var child = childNodes[i];\n                    if (child.visible()) {\n                        child.renderTo(ctx);\n                    }\n                }\n                ctx.restore();\n            }\n        });\n        d.mixins.Traversable.extend(GroupNode.fn, 'childNodes');\n        var RootNode = GroupNode.extend({\n            init: function (canvas) {\n                GroupNode.fn.init.call(this);\n                this.canvas = canvas;\n                this.ctx = canvas.getContext('2d');\n                var invalidateHandler = proxy(this._invalidate, this);\n                this.invalidate = kendo.throttle(function () {\n                    kendo.animationFrame(invalidateHandler);\n                }, FRAME_DELAY);\n            },\n            destroy: function () {\n                GroupNode.fn.destroy.call(this);\n                this.canvas = null;\n                this.ctx = null;\n            },\n            load: function (elements, pos, cors) {\n                this.loadElements(elements, pos, cors);\n                this._invalidate();\n            },\n            _invalidate: function () {\n                if (!this.ctx) {\n                    return;\n                }\n                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n                this.renderTo(this.ctx);\n            }\n        });\n        d.mixins.Traversable.extend(RootNode.fn, 'childNodes');\n        var PathNode = Node.extend({\n            renderTo: function (ctx) {\n                ctx.save();\n                this.setTransform(ctx);\n                this.setClip(ctx);\n                this.setOpacity(ctx);\n                ctx.beginPath();\n                this.renderPoints(ctx, this.srcElement);\n                this.setLineDash(ctx);\n                this.setLineCap(ctx);\n                this.setLineJoin(ctx);\n                this.setFill(ctx);\n                this.setStroke(ctx);\n                ctx.restore();\n            },\n            setFill: function (ctx) {\n                var fill = this.srcElement.options.fill;\n                var hasFill = false;\n                if (fill) {\n                    if (fill.nodeType == 'gradient') {\n                        this.setGradientFill(ctx, fill);\n                        hasFill = true;\n                    } else if (!isTransparent(fill.color)) {\n                        ctx.fillStyle = fill.color;\n                        ctx.save();\n                        this.globalAlpha(ctx, fill.opacity);\n                        ctx.fill();\n                        ctx.restore();\n                        hasFill = true;\n                    }\n                }\n                return hasFill;\n            },\n            setGradientFill: function (ctx, fill) {\n                var bbox = this.srcElement.rawBBox();\n                var gradient;\n                if (fill instanceof d.LinearGradient) {\n                    var start = fill.start();\n                    var end = fill.end();\n                    gradient = ctx.createLinearGradient(start.x, start.y, end.x, end.y);\n                } else if (fill instanceof d.RadialGradient) {\n                    var center = fill.center();\n                    gradient = ctx.createRadialGradient(center.x, center.y, 0, center.x, center.y, fill.radius());\n                }\n                addGradientStops(gradient, fill.stops);\n                ctx.save();\n                if (!fill.userSpace()) {\n                    ctx.transform(bbox.width(), 0, 0, bbox.height(), bbox.origin.x, bbox.origin.y);\n                }\n                ctx.fillStyle = gradient;\n                ctx.fill();\n                ctx.restore();\n            },\n            setStroke: function (ctx) {\n                var stroke = this.srcElement.options.stroke;\n                if (stroke && !isTransparent(stroke.color) && stroke.width > 0) {\n                    ctx.strokeStyle = stroke.color;\n                    ctx.lineWidth = valueOrDefault(stroke.width, 1);\n                    ctx.save();\n                    this.globalAlpha(ctx, stroke.opacity);\n                    ctx.stroke();\n                    ctx.restore();\n                    return true;\n                }\n            },\n            dashType: function () {\n                var stroke = this.srcElement.options.stroke;\n                if (stroke && stroke.dashType) {\n                    return stroke.dashType.toLowerCase();\n                }\n            },\n            setLineDash: function (ctx) {\n                var dashType = this.dashType();\n                if (dashType && dashType != SOLID) {\n                    var dashArray = DASH_ARRAYS[dashType];\n                    if (ctx.setLineDash) {\n                        ctx.setLineDash(dashArray);\n                    } else {\n                        ctx.mozDash = dashArray;\n                        ctx.webkitLineDash = dashArray;\n                    }\n                }\n            },\n            setLineCap: function (ctx) {\n                var dashType = this.dashType();\n                var stroke = this.srcElement.options.stroke;\n                if (dashType && dashType !== SOLID) {\n                    ctx.lineCap = BUTT;\n                } else if (stroke && stroke.lineCap) {\n                    ctx.lineCap = stroke.lineCap;\n                }\n            },\n            setLineJoin: function (ctx) {\n                var stroke = this.srcElement.options.stroke;\n                if (stroke && stroke.lineJoin) {\n                    ctx.lineJoin = stroke.lineJoin;\n                }\n            },\n            renderPoints: function (ctx, path) {\n                var segments = path.segments;\n                if (segments.length === 0) {\n                    return;\n                }\n                var seg = segments[0];\n                var anchor = seg.anchor();\n                ctx.moveTo(anchor.x, anchor.y);\n                for (var i = 1; i < segments.length; i++) {\n                    seg = segments[i];\n                    anchor = seg.anchor();\n                    var prevSeg = segments[i - 1];\n                    var prevOut = prevSeg.controlOut();\n                    var controlIn = seg.controlIn();\n                    if (prevOut && controlIn) {\n                        ctx.bezierCurveTo(prevOut.x, prevOut.y, controlIn.x, controlIn.y, anchor.x, anchor.y);\n                    } else {\n                        ctx.lineTo(anchor.x, anchor.y);\n                    }\n                }\n                if (path.options.closed) {\n                    ctx.closePath();\n                }\n            }\n        });\n        var MultiPathNode = PathNode.extend({\n            renderPoints: function (ctx) {\n                var paths = this.srcElement.paths;\n                for (var i = 0; i < paths.length; i++) {\n                    PathNode.fn.renderPoints(ctx, paths[i]);\n                }\n            }\n        });\n        var CircleNode = PathNode.extend({\n            renderPoints: function (ctx) {\n                var geometry = this.srcElement.geometry();\n                var c = geometry.center;\n                var r = geometry.radius;\n                ctx.arc(c.x, c.y, r, 0, Math.PI * 2);\n            }\n        });\n        var ArcNode = PathNode.extend({\n            renderPoints: function (ctx) {\n                var path = this.srcElement.toPath();\n                PathNode.fn.renderPoints.call(this, ctx, path);\n            }\n        });\n        var TextNode = PathNode.extend({\n            renderTo: function (ctx) {\n                var text = this.srcElement;\n                var pos = text.position();\n                var size = text.measure();\n                ctx.save();\n                this.setTransform(ctx);\n                this.setClip(ctx);\n                this.setOpacity(ctx);\n                ctx.beginPath();\n                ctx.font = text.options.font;\n                if (this.setFill(ctx)) {\n                    ctx.fillText(text.content(), pos.x, pos.y + size.baseline);\n                }\n                if (this.setStroke(ctx)) {\n                    this.setLineDash(ctx);\n                    ctx.strokeText(text.content(), pos.x, pos.y + size.baseline);\n                }\n                ctx.restore();\n            }\n        });\n        var ImageNode = PathNode.extend({\n            init: function (srcElement, cors) {\n                PathNode.fn.init.call(this, srcElement);\n                this.onLoad = proxy(this.onLoad, this);\n                this.onError = proxy(this.onError, this);\n                this.loading = $.Deferred();\n                var img = this.img = new Image();\n                if (cors && !/^data:/i.test(srcElement.src())) {\n                    img.crossOrigin = cors;\n                }\n                img.src = srcElement.src();\n                if (img.complete) {\n                    this.onLoad();\n                } else {\n                    img.onload = this.onLoad;\n                    img.onerror = this.onError;\n                }\n            },\n            renderTo: function (ctx) {\n                if (this.loading.state() === 'resolved') {\n                    ctx.save();\n                    this.setTransform(ctx);\n                    this.setClip(ctx);\n                    this.drawImage(ctx);\n                    ctx.restore();\n                }\n            },\n            optionsChange: function (e) {\n                if (e.field === 'src') {\n                    this.loading = $.Deferred();\n                    this.img.src = this.srcElement.src();\n                } else {\n                    PathNode.fn.optionsChange.call(this, e);\n                }\n            },\n            onLoad: function () {\n                this.loading.resolve();\n                this.invalidate();\n            },\n            onError: function () {\n                this.loading.reject(new Error('Unable to load image \\'' + this.img.src + '\\'. Check for connectivity and verify CORS headers.'));\n            },\n            drawImage: function (ctx) {\n                var rect = this.srcElement.rect();\n                var tl = rect.topLeft();\n                ctx.drawImage(this.img, tl.x, tl.y, rect.width(), rect.height());\n            }\n        });\n        var RectNode = PathNode.extend({\n            renderPoints: function (ctx) {\n                var geometry = this.srcElement.geometry();\n                var origin = geometry.origin;\n                var size = geometry.size;\n                ctx.rect(origin.x, origin.y, size.width, size.height);\n            }\n        });\n        function exportImage(group, options) {\n            var defaults = {\n                width: '800px',\n                height: '600px',\n                cors: 'Anonymous'\n            };\n            var bbox = group.clippedBBox();\n            if (bbox) {\n                var origin = bbox.getOrigin();\n                var exportRoot = new d.Group();\n                exportRoot.transform(g.transform().translate(-origin.x, -origin.y));\n                exportRoot.children.push(group);\n                group = exportRoot;\n                var size = bbox.getSize();\n                defaults.width = size.width + 'px';\n                defaults.height = size.height + 'px';\n            }\n            options = deepExtend(defaults, options);\n            var container = $('<div />').css({\n                display: 'none',\n                width: options.width,\n                height: options.height\n            }).appendTo(document.body);\n            var surface = new Surface(container, options);\n            surface.suspendTracking();\n            surface.draw(group);\n            var promise = surface.image();\n            promise.always(function () {\n                surface.destroy();\n                container.remove();\n            });\n            return promise;\n        }\n        var nodeMap = {\n            Group: GroupNode,\n            Text: TextNode,\n            Path: PathNode,\n            MultiPath: MultiPathNode,\n            Circle: CircleNode,\n            Arc: ArcNode,\n            Image: ImageNode,\n            Rect: RectNode\n        };\n        function addGradientStops(gradient, stops) {\n            var color, stop, idx;\n            for (idx = 0; idx < stops.length; idx++) {\n                stop = stops[idx];\n                color = kendo.parseColor(stop.color());\n                color.a *= stop.opacity();\n                gradient.addColorStop(stop.offset(), color.toCssRgba());\n            }\n        }\n        kendo.support.canvas = function () {\n            return !!doc.createElement('canvas').getContext;\n        }();\n        if (kendo.support.canvas) {\n            d.SurfaceFactory.current.register('canvas', Surface, 20);\n        }\n        deepExtend(kendo.drawing, {\n            exportImage: exportImage,\n            canvas: {\n                ArcNode: ArcNode,\n                CircleNode: CircleNode,\n                GroupNode: GroupNode,\n                ImageNode: ImageNode,\n                MultiPathNode: MultiPathNode,\n                Node: Node,\n                PathNode: PathNode,\n                RectNode: RectNode,\n                RootNode: RootNode,\n                Surface: Surface,\n                TextNode: TextNode\n            }\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/vml', [\n        'drawing/shapes',\n        'kendo.color'\n    ], f);\n}(function () {\n    (function ($) {\n        var doc = document, math = Math, atan2 = math.atan2, ceil = math.ceil, sqrt = math.sqrt, kendo = window.kendo, deepExtend = kendo.deepExtend, noop = $.noop, d = kendo.drawing, BaseNode = d.BaseNode, g = kendo.geometry, toMatrix = g.toMatrix, Color = kendo.Color, util = kendo.util, isTransparent = util.isTransparent, defined = util.defined, deg = util.deg, round = util.round, valueOrDefault = util.valueOrDefault;\n        var NONE = 'none', NS = '.kendo', COORDINATE_MULTIPLE = 100, COORDINATE_SIZE = COORDINATE_MULTIPLE * COORDINATE_MULTIPLE, GRADIENT = 'gradient', TRANSFORM_PRECISION = 4;\n        var Surface = d.Surface.extend({\n            init: function (element, options) {\n                d.Surface.fn.init.call(this, element, options);\n                enableVML();\n                this.element.empty();\n                this._root = new RootNode();\n                this._root.attachTo(this.element[0]);\n                this.element.on('click' + NS, this._click);\n                this.element.on('mouseover' + NS, this._mouseenter);\n                this.element.on('mouseout' + NS, this._mouseleave);\n                this.element.on('mousemove' + NS, this._mousemove);\n            },\n            type: 'vml',\n            destroy: function () {\n                if (this._root) {\n                    this._root.destroy();\n                    this._root = null;\n                    this.element.off(NS);\n                }\n                d.Surface.fn.destroy.call(this);\n            },\n            draw: function (element) {\n                d.Surface.fn.draw.call(this, element);\n                this._root.load([element], undefined, null);\n            },\n            clear: function () {\n                d.Surface.fn.clear.call(this);\n                this._root.clear();\n            }\n        });\n        var Node = BaseNode.extend({\n            init: function (srcElement) {\n                BaseNode.fn.init.call(this, srcElement);\n                this.createElement();\n                this.attachReference();\n            },\n            observe: noop,\n            destroy: function () {\n                if (this.element) {\n                    this.element._kendoNode = null;\n                    this.element = null;\n                }\n                BaseNode.fn.destroy.call(this);\n            },\n            clear: function () {\n                if (this.element) {\n                    this.element.innerHTML = '';\n                }\n                var children = this.childNodes;\n                for (var i = 0; i < children.length; i++) {\n                    children[i].destroy();\n                }\n                this.childNodes = [];\n            },\n            removeSelf: function () {\n                if (this.element) {\n                    this.element.parentNode.removeChild(this.element);\n                    this.element = null;\n                }\n                BaseNode.fn.removeSelf.call(this);\n            },\n            createElement: function () {\n                this.element = doc.createElement('div');\n            },\n            attachReference: function () {\n                this.element._kendoNode = this;\n            },\n            load: function (elements, pos, transform, opacity) {\n                opacity = valueOrDefault(opacity, 1);\n                if (this.srcElement) {\n                    opacity *= valueOrDefault(this.srcElement.options.opacity, 1);\n                }\n                for (var i = 0; i < elements.length; i++) {\n                    var srcElement = elements[i];\n                    var children = srcElement.children;\n                    var combinedTransform = srcElement.currentTransform(transform);\n                    var currentOpacity = opacity * valueOrDefault(srcElement.options.opacity, 1);\n                    var childNode = new nodeMap[srcElement.nodeType](srcElement, combinedTransform, currentOpacity);\n                    if (children && children.length > 0) {\n                        childNode.load(children, pos, combinedTransform, opacity);\n                    }\n                    if (defined(pos)) {\n                        this.insertAt(childNode, pos);\n                    } else {\n                        this.append(childNode);\n                    }\n                    childNode.attachTo(this.element, pos);\n                }\n            },\n            attachTo: function (domElement, pos) {\n                if (defined(pos)) {\n                    domElement.insertBefore(this.element, domElement.children[pos] || null);\n                } else {\n                    domElement.appendChild(this.element);\n                }\n            },\n            optionsChange: function (e) {\n                if (e.field == 'visible') {\n                    this.css('display', e.value !== false ? '' : NONE);\n                }\n            },\n            setStyle: function () {\n                this.allCss(this.mapStyle());\n            },\n            mapStyle: function () {\n                var style = [];\n                if (this.srcElement && this.srcElement.options.visible === false) {\n                    style.push([\n                        'display',\n                        NONE\n                    ]);\n                }\n                return style;\n            },\n            mapOpacityTo: function (attrs, multiplier) {\n                var opacity = valueOrDefault(this.opacity, 1);\n                opacity *= valueOrDefault(multiplier, 1);\n                attrs.push([\n                    'opacity',\n                    opacity\n                ]);\n            },\n            attr: function (name, value) {\n                if (this.element) {\n                    this.element[name] = value;\n                }\n            },\n            allAttr: function (attrs) {\n                for (var i = 0; i < attrs.length; i++) {\n                    this.attr(attrs[i][0], attrs[i][1]);\n                }\n            },\n            css: function (name, value) {\n                if (this.element) {\n                    this.element.style[name] = value;\n                }\n            },\n            allCss: function (styles) {\n                for (var i = 0; i < styles.length; i++) {\n                    this.css(styles[i][0], styles[i][1]);\n                }\n            }\n        });\n        var RootNode = Node.extend({\n            createElement: function () {\n                Node.fn.createElement.call(this);\n                this.allCss([\n                    [\n                        'width',\n                        '100%'\n                    ],\n                    [\n                        'height',\n                        '100%'\n                    ],\n                    [\n                        'position',\n                        'relative'\n                    ],\n                    [\n                        'visibility',\n                        'visible'\n                    ]\n                ]);\n            },\n            attachReference: noop\n        });\n        var ClipObserver = kendo.Class.extend({\n            init: function (srcElement, observer) {\n                this.srcElement = srcElement;\n                this.observer = observer;\n                srcElement.addObserver(this);\n            },\n            geometryChange: function () {\n                this.observer.optionsChange({\n                    field: 'clip',\n                    value: this.srcElement\n                });\n            },\n            clear: function () {\n                this.srcElement.removeObserver(this);\n            }\n        });\n        var ObserverNode = Node.extend({\n            init: function (srcElement) {\n                Node.fn.init.call(this, srcElement);\n                if (srcElement) {\n                    this.initClip();\n                }\n            },\n            observe: function () {\n                BaseNode.fn.observe.call(this);\n            },\n            mapStyle: function () {\n                var style = Node.fn.mapStyle.call(this);\n                if (this.srcElement && this.srcElement.clip()) {\n                    style.push([\n                        'clip',\n                        this.clipRect()\n                    ]);\n                }\n                return style;\n            },\n            optionsChange: function (e) {\n                if (e.field == 'clip') {\n                    this.clearClip();\n                    this.initClip();\n                    this.setClip();\n                }\n                Node.fn.optionsChange.call(this, e);\n            },\n            clear: function () {\n                this.clearClip();\n                Node.fn.clear.call(this);\n            },\n            initClip: function () {\n                if (this.srcElement.clip()) {\n                    this.clip = new ClipObserver(this.srcElement.clip(), this);\n                    this.clip.observer = this;\n                }\n            },\n            clearClip: function () {\n                if (this.clip) {\n                    this.clip.clear();\n                    this.clip = null;\n                    this.css('clip', this.clipRect());\n                }\n            },\n            setClip: function () {\n                if (this.clip) {\n                    this.css('clip', this.clipRect());\n                }\n            },\n            clipRect: function () {\n                var clipRect = EMPTY_CLIP;\n                var clip = this.srcElement.clip();\n                if (clip) {\n                    var bbox = this.clipBBox(clip);\n                    var topLeft = bbox.topLeft();\n                    var bottomRight = bbox.bottomRight();\n                    clipRect = kendo.format('rect({0}px {1}px {2}px {3}px)', topLeft.y, bottomRight.x, bottomRight.y, topLeft.x);\n                }\n                return clipRect;\n            },\n            clipBBox: function (clip) {\n                var topLeft = this.srcElement.rawBBox().topLeft();\n                var clipBBox = clip.rawBBox();\n                clipBBox.origin.translate(-topLeft.x, -topLeft.y);\n                return clipBBox;\n            }\n        });\n        var GroupNode = ObserverNode.extend({\n            createElement: function () {\n                Node.fn.createElement.call(this);\n                this.setStyle();\n            },\n            attachTo: function (domElement, pos) {\n                this.css('display', NONE);\n                Node.fn.attachTo.call(this, domElement, pos);\n                if (this.srcElement.options.visible !== false) {\n                    this.css('display', '');\n                }\n            },\n            _attachTo: function (domElement) {\n                var frag = document.createDocumentFragment();\n                frag.appendChild(this.element);\n                domElement.appendChild(frag);\n            },\n            mapStyle: function () {\n                var style = ObserverNode.fn.mapStyle.call(this);\n                style.push([\n                    'position',\n                    'absolute'\n                ]);\n                style.push([\n                    'white-space',\n                    'nowrap'\n                ]);\n                return style;\n            },\n            optionsChange: function (e) {\n                if (e.field === 'transform') {\n                    this.refreshTransform();\n                }\n                if (e.field === 'opacity') {\n                    this.refreshOpacity();\n                }\n                ObserverNode.fn.optionsChange.call(this, e);\n            },\n            refreshTransform: function (transform) {\n                var currentTransform = this.srcElement.currentTransform(transform), children = this.childNodes, length = children.length, i;\n                this.setClip();\n                for (i = 0; i < length; i++) {\n                    children[i].refreshTransform(currentTransform);\n                }\n            },\n            currentOpacity: function () {\n                var opacity = valueOrDefault(this.srcElement.options.opacity, 1);\n                if (this.parent && this.parent.currentOpacity) {\n                    opacity *= this.parent.currentOpacity();\n                }\n                return opacity;\n            },\n            refreshOpacity: function () {\n                var children = this.childNodes, length = children.length, i;\n                var opacity = this.currentOpacity();\n                for (i = 0; i < length; i++) {\n                    children[i].refreshOpacity(opacity);\n                }\n            },\n            initClip: function () {\n                ObserverNode.fn.initClip.call(this);\n                if (this.clip) {\n                    var bbox = this.clip.srcElement.bbox(this.srcElement.currentTransform());\n                    if (bbox) {\n                        this.css('width', bbox.width() + bbox.origin.x);\n                        this.css('height', bbox.height() + bbox.origin.y);\n                    }\n                }\n            },\n            clipBBox: function (clip) {\n                return clip.bbox(this.srcElement.currentTransform());\n            },\n            clearClip: function () {\n                ObserverNode.fn.clearClip.call(this);\n            }\n        });\n        var StrokeNode = Node.extend({\n            init: function (srcElement, opacity) {\n                this.opacity = opacity;\n                Node.fn.init.call(this, srcElement);\n            },\n            createElement: function () {\n                this.element = createElementVML('stroke');\n                this.setOpacity();\n            },\n            optionsChange: function (e) {\n                if (e.field.indexOf('stroke') === 0) {\n                    this.setStroke();\n                }\n            },\n            refreshOpacity: function (opacity) {\n                this.opacity = opacity;\n                this.setStroke();\n            },\n            setStroke: function () {\n                this.allAttr(this.mapStroke());\n            },\n            setOpacity: function () {\n                this.setStroke();\n            },\n            mapStroke: function () {\n                var stroke = this.srcElement.options.stroke;\n                var attrs = [];\n                if (stroke && !isTransparent(stroke.color) && stroke.width !== 0) {\n                    attrs.push([\n                        'on',\n                        'true'\n                    ]);\n                    attrs.push([\n                        'color',\n                        stroke.color\n                    ]);\n                    attrs.push([\n                        'weight',\n                        (stroke.width || 1) + 'px'\n                    ]);\n                    this.mapOpacityTo(attrs, stroke.opacity);\n                    if (defined(stroke.dashType)) {\n                        attrs.push([\n                            'dashstyle',\n                            stroke.dashType\n                        ]);\n                    }\n                    if (defined(stroke.lineJoin)) {\n                        attrs.push([\n                            'joinstyle',\n                            stroke.lineJoin\n                        ]);\n                    }\n                    if (defined(stroke.lineCap)) {\n                        var lineCap = stroke.lineCap.toLowerCase();\n                        if (lineCap === 'butt') {\n                            lineCap = lineCap === 'butt' ? 'flat' : lineCap;\n                        }\n                        attrs.push([\n                            'endcap',\n                            lineCap\n                        ]);\n                    }\n                } else {\n                    attrs.push([\n                        'on',\n                        'false'\n                    ]);\n                }\n                return attrs;\n            }\n        });\n        var FillNode = Node.extend({\n            init: function (srcElement, transform, opacity) {\n                this.opacity = opacity;\n                Node.fn.init.call(this, srcElement);\n            },\n            createElement: function () {\n                this.element = createElementVML('fill');\n                this.setFill();\n            },\n            optionsChange: function (e) {\n                if (fillField(e.field)) {\n                    this.setFill();\n                }\n            },\n            refreshOpacity: function (opacity) {\n                this.opacity = opacity;\n                this.setOpacity();\n            },\n            setFill: function () {\n                this.allAttr(this.mapFill());\n            },\n            setOpacity: function () {\n                this.setFill();\n            },\n            attr: function (name, value) {\n                var element = this.element;\n                if (element) {\n                    var fields = name.split('.');\n                    while (fields.length > 1) {\n                        element = element[fields.shift()];\n                    }\n                    element[fields[0]] = value;\n                }\n            },\n            mapFill: function () {\n                var fill = this.srcElement.fill();\n                var attrs = [[\n                        'on',\n                        'false'\n                    ]];\n                if (fill) {\n                    if (fill.nodeType == GRADIENT) {\n                        attrs = this.mapGradient(fill);\n                    } else if (!isTransparent(fill.color)) {\n                        attrs = this.mapFillColor(fill);\n                    }\n                }\n                return attrs;\n            },\n            mapFillColor: function (fill) {\n                var attrs = [\n                    [\n                        'on',\n                        'true'\n                    ],\n                    [\n                        'color',\n                        fill.color\n                    ]\n                ];\n                this.mapOpacityTo(attrs, fill.opacity);\n                return attrs;\n            },\n            mapGradient: function (fill) {\n                var options = this.srcElement.options;\n                var fallbackFill = options.fallbackFill || fill.fallbackFill && fill.fallbackFill();\n                var attrs;\n                if (fill instanceof d.LinearGradient) {\n                    attrs = this.mapLinearGradient(fill);\n                } else if (fill instanceof d.RadialGradient && fill.supportVML) {\n                    attrs = this.mapRadialGradient(fill);\n                } else if (fallbackFill) {\n                    attrs = this.mapFillColor(fallbackFill);\n                } else {\n                    attrs = [[\n                            'on',\n                            'false'\n                        ]];\n                }\n                return attrs;\n            },\n            mapLinearGradient: function (fill) {\n                var start = fill.start();\n                var end = fill.end();\n                var angle = util.deg(atan2(end.y - start.y, end.x - start.x));\n                var attrs = [\n                    [\n                        'on',\n                        'true'\n                    ],\n                    [\n                        'type',\n                        GRADIENT\n                    ],\n                    [\n                        'focus',\n                        0\n                    ],\n                    [\n                        'method',\n                        'none'\n                    ],\n                    [\n                        'angle',\n                        270 - angle\n                    ]\n                ];\n                this.addColors(attrs);\n                return attrs;\n            },\n            mapRadialGradient: function (fill) {\n                var bbox = this.srcElement.rawBBox();\n                var center = fill.center();\n                var focusx = (center.x - bbox.origin.x) / bbox.width();\n                var focusy = (center.y - bbox.origin.y) / bbox.height();\n                var attrs = [\n                    [\n                        'on',\n                        'true'\n                    ],\n                    [\n                        'type',\n                        'gradienttitle'\n                    ],\n                    [\n                        'focus',\n                        '100%'\n                    ],\n                    [\n                        'focusposition',\n                        focusx + ' ' + focusy\n                    ],\n                    [\n                        'method',\n                        'none'\n                    ]\n                ];\n                this.addColors(attrs);\n                return attrs;\n            },\n            addColors: function (attrs) {\n                var options = this.srcElement.options;\n                var opacity = valueOrDefault(this.opacity, 1);\n                var stopColors = [];\n                var stops = options.fill.stops;\n                var baseColor = options.baseColor;\n                var colorsField = this.element.colors ? 'colors.value' : 'colors';\n                var color = stopColor(baseColor, stops[0], opacity);\n                var color2 = stopColor(baseColor, stops[stops.length - 1], opacity);\n                var stop;\n                for (var idx = 0; idx < stops.length; idx++) {\n                    stop = stops[idx];\n                    stopColors.push(math.round(stop.offset() * 100) + '% ' + stopColor(baseColor, stop, opacity));\n                }\n                attrs.push([\n                    colorsField,\n                    stopColors.join(',')\n                ], [\n                    'color',\n                    color\n                ], [\n                    'color2',\n                    color2\n                ]);\n            }\n        });\n        var TransformNode = Node.extend({\n            init: function (srcElement, transform) {\n                this.transform = transform;\n                Node.fn.init.call(this, srcElement);\n            },\n            createElement: function () {\n                this.element = createElementVML('skew');\n                this.setTransform();\n            },\n            optionsChange: function (e) {\n                if (e.field === 'transform') {\n                    this.refresh(this.srcElement.currentTransform());\n                }\n            },\n            refresh: function (transform) {\n                this.transform = transform;\n                this.setTransform();\n            },\n            transformOrigin: function () {\n                return '-0.5,-0.5';\n            },\n            setTransform: function () {\n                this.allAttr(this.mapTransform());\n            },\n            mapTransform: function () {\n                var transform = this.transform;\n                var attrs = [], matrix = toMatrix(transform);\n                if (matrix) {\n                    matrix.round(TRANSFORM_PRECISION);\n                    attrs.push([\n                        'on',\n                        'true'\n                    ], [\n                        'matrix',\n                        [\n                            matrix.a,\n                            matrix.c,\n                            matrix.b,\n                            matrix.d,\n                            0,\n                            0\n                        ].join(',')\n                    ], [\n                        'offset',\n                        matrix.e + 'px,' + matrix.f + 'px'\n                    ], [\n                        'origin',\n                        this.transformOrigin()\n                    ]);\n                } else {\n                    attrs.push([\n                        'on',\n                        'false'\n                    ]);\n                }\n                return attrs;\n            }\n        });\n        var ShapeNode = ObserverNode.extend({\n            init: function (srcElement, transform, opacity) {\n                this.fill = this.createFillNode(srcElement, transform, opacity);\n                this.stroke = new StrokeNode(srcElement, opacity);\n                this.transform = this.createTransformNode(srcElement, transform);\n                ObserverNode.fn.init.call(this, srcElement);\n            },\n            attachTo: function (domElement, pos) {\n                this.fill.attachTo(this.element);\n                this.stroke.attachTo(this.element);\n                this.transform.attachTo(this.element);\n                Node.fn.attachTo.call(this, domElement, pos);\n            },\n            createFillNode: function (srcElement, transform, opacity) {\n                return new FillNode(srcElement, transform, opacity);\n            },\n            createTransformNode: function (srcElement, transform) {\n                return new TransformNode(srcElement, transform);\n            },\n            createElement: function () {\n                this.element = createElementVML('shape');\n                this.setCoordsize();\n                this.setStyle();\n            },\n            optionsChange: function (e) {\n                if (fillField(e.field)) {\n                    this.fill.optionsChange(e);\n                } else if (e.field.indexOf('stroke') === 0) {\n                    this.stroke.optionsChange(e);\n                } else if (e.field === 'transform') {\n                    this.transform.optionsChange(e);\n                } else if (e.field === 'opacity') {\n                    this.fill.setOpacity();\n                    this.stroke.setOpacity();\n                }\n                ObserverNode.fn.optionsChange.call(this, e);\n            },\n            refreshTransform: function (transform) {\n                this.transform.refresh(this.srcElement.currentTransform(transform));\n            },\n            refreshOpacity: function (opacity) {\n                opacity *= valueOrDefault(this.srcElement.options.opacity, 1);\n                this.fill.refreshOpacity(opacity);\n                this.stroke.refreshOpacity(opacity);\n            },\n            mapStyle: function (width, height) {\n                var styles = ObserverNode.fn.mapStyle.call(this);\n                if (!width || !height) {\n                    width = height = COORDINATE_MULTIPLE;\n                }\n                styles.push([\n                    'position',\n                    'absolute'\n                ], [\n                    'width',\n                    width + 'px'\n                ], [\n                    'height',\n                    height + 'px'\n                ]);\n                var cursor = this.srcElement.options.cursor;\n                if (cursor) {\n                    styles.push([\n                        'cursor',\n                        cursor\n                    ]);\n                }\n                return styles;\n            },\n            setCoordsize: function () {\n                this.allAttr([\n                    [\n                        'coordorigin',\n                        '0 0'\n                    ],\n                    [\n                        'coordsize',\n                        COORDINATE_SIZE + ' ' + COORDINATE_SIZE\n                    ]\n                ]);\n            }\n        });\n        var PathDataNode = Node.extend({\n            createElement: function () {\n                this.element = createElementVML('path');\n                this.setPathData();\n            },\n            geometryChange: function () {\n                this.setPathData();\n            },\n            setPathData: function () {\n                this.attr('v', this.renderData());\n            },\n            renderData: function () {\n                return printPath(this.srcElement);\n            }\n        });\n        var PathNode = ShapeNode.extend({\n            init: function (srcElement, transform, opacity) {\n                this.pathData = this.createDataNode(srcElement);\n                ShapeNode.fn.init.call(this, srcElement, transform, opacity);\n            },\n            attachTo: function (domElement, pos) {\n                this.pathData.attachTo(this.element);\n                ShapeNode.fn.attachTo.call(this, domElement, pos);\n            },\n            createDataNode: function (srcElement) {\n                return new PathDataNode(srcElement);\n            },\n            geometryChange: function () {\n                this.pathData.geometryChange();\n                ShapeNode.fn.geometryChange.call(this);\n            }\n        });\n        var MultiPathDataNode = PathDataNode.extend({\n            renderData: function () {\n                var paths = this.srcElement.paths;\n                if (paths.length > 0) {\n                    var result = [], i, open;\n                    for (i = 0; i < paths.length; i++) {\n                        open = i < paths.length - 1;\n                        result.push(printPath(paths[i], open));\n                    }\n                    return result.join(' ');\n                }\n            }\n        });\n        var MultiPathNode = PathNode.extend({\n            createDataNode: function (srcElement) {\n                return new MultiPathDataNode(srcElement);\n            }\n        });\n        var CircleTransformNode = TransformNode.extend({\n            transformOrigin: function () {\n                var boundingBox = this.srcElement.geometry().bbox(), center = boundingBox.center(), originX = -ceil(center.x) / ceil(boundingBox.width()), originY = -ceil(center.y) / ceil(boundingBox.height());\n                return originX + ',' + originY;\n            }\n        });\n        var CircleNode = ShapeNode.extend({\n            createElement: function () {\n                this.element = createElementVML('oval');\n                this.setStyle();\n            },\n            createTransformNode: function (srcElement, transform) {\n                return new CircleTransformNode(srcElement, transform);\n            },\n            geometryChange: function () {\n                ShapeNode.fn.geometryChange.call(this);\n                this.setStyle();\n                this.refreshTransform();\n            },\n            mapStyle: function () {\n                var geometry = this.srcElement.geometry();\n                var radius = geometry.radius;\n                var center = geometry.center;\n                var diameter = ceil(radius * 2);\n                var styles = ShapeNode.fn.mapStyle.call(this, diameter, diameter);\n                styles.push([\n                    'left',\n                    ceil(center.x - radius) + 'px'\n                ], [\n                    'top',\n                    ceil(center.y - radius) + 'px'\n                ]);\n                return styles;\n            }\n        });\n        var ArcDataNode = PathDataNode.extend({\n            renderData: function () {\n                return printPath(this.srcElement.toPath());\n            }\n        });\n        var ArcNode = PathNode.extend({\n            createDataNode: function (srcElement) {\n                return new ArcDataNode(srcElement);\n            }\n        });\n        var TextPathDataNode = PathDataNode.extend({\n            createElement: function () {\n                PathDataNode.fn.createElement.call(this);\n                this.attr('textpathok', true);\n            },\n            renderData: function () {\n                var rect = this.srcElement.rect();\n                var center = rect.center();\n                return 'm ' + printPoints([new g.Point(rect.topLeft().x, center.y)]) + ' l ' + printPoints([new g.Point(rect.bottomRight().x, center.y)]);\n            }\n        });\n        var TextPathNode = Node.extend({\n            createElement: function () {\n                this.element = createElementVML('textpath');\n                this.attr('on', true);\n                this.attr('fitpath', false);\n                this.setStyle();\n                this.setString();\n            },\n            optionsChange: function (e) {\n                if (e.field === 'content') {\n                    this.setString();\n                } else {\n                    this.setStyle();\n                }\n                Node.fn.optionsChange.call(this, e);\n            },\n            mapStyle: function () {\n                return [[\n                        'font',\n                        this.srcElement.options.font\n                    ]];\n            },\n            setString: function () {\n                this.attr('string', this.srcElement.content());\n            }\n        });\n        var TextNode = PathNode.extend({\n            init: function (srcElement, transform, opacity) {\n                this.path = new TextPathNode(srcElement);\n                PathNode.fn.init.call(this, srcElement, transform, opacity);\n            },\n            createDataNode: function (srcElement) {\n                return new TextPathDataNode(srcElement);\n            },\n            attachTo: function (domElement, pos) {\n                this.path.attachTo(this.element);\n                PathNode.fn.attachTo.call(this, domElement, pos);\n            },\n            optionsChange: function (e) {\n                if (e.field === 'font' || e.field === 'content') {\n                    this.path.optionsChange(e);\n                    this.pathData.geometryChange(e);\n                }\n                PathNode.fn.optionsChange.call(this, e);\n            }\n        });\n        var ImagePathDataNode = PathDataNode.extend({\n            renderData: function () {\n                var rect = this.srcElement.rect();\n                var path = new d.Path().moveTo(rect.topLeft()).lineTo(rect.topRight()).lineTo(rect.bottomRight()).lineTo(rect.bottomLeft()).close();\n                return printPath(path);\n            }\n        });\n        var ImageFillNode = TransformNode.extend({\n            init: function (srcElement, transform, opacity) {\n                this.opacity = opacity;\n                TransformNode.fn.init.call(this, srcElement, transform);\n            },\n            createElement: function () {\n                this.element = createElementVML('fill');\n                this.attr('type', 'frame');\n                this.attr('rotate', true);\n                this.setOpacity();\n                this.setSrc();\n                this.setTransform();\n            },\n            optionsChange: function (e) {\n                if (e.field === 'src') {\n                    this.setSrc();\n                }\n                TransformNode.fn.optionsChange.call(this, e);\n            },\n            geometryChange: function () {\n                this.refresh();\n            },\n            refreshOpacity: function (opacity) {\n                this.opacity = opacity;\n                this.setOpacity();\n            },\n            setOpacity: function () {\n                var attrs = [];\n                this.mapOpacityTo(attrs, this.srcElement.options.opacity);\n                this.allAttr(attrs);\n            },\n            setSrc: function () {\n                this.attr('src', this.srcElement.src());\n            },\n            mapTransform: function () {\n                var img = this.srcElement;\n                var rawbbox = img.rawBBox();\n                var rawcenter = rawbbox.center();\n                var fillOrigin = COORDINATE_MULTIPLE / 2;\n                var fillSize = COORDINATE_MULTIPLE;\n                var x;\n                var y;\n                var width = rawbbox.width() / fillSize;\n                var height = rawbbox.height() / fillSize;\n                var angle = 0;\n                var transform = this.transform;\n                if (transform) {\n                    var matrix = toMatrix(transform);\n                    var sx = sqrt(matrix.a * matrix.a + matrix.b * matrix.b);\n                    var sy = sqrt(matrix.c * matrix.c + matrix.d * matrix.d);\n                    width *= sx;\n                    height *= sy;\n                    var ax = deg(atan2(matrix.b, matrix.d));\n                    var ay = deg(atan2(-matrix.c, matrix.a));\n                    angle = (ax + ay) / 2;\n                    if (angle !== 0) {\n                        var center = img.bbox().center();\n                        x = (center.x - fillOrigin) / fillSize;\n                        y = (center.y - fillOrigin) / fillSize;\n                    } else {\n                        x = (rawcenter.x * sx + matrix.e - fillOrigin) / fillSize;\n                        y = (rawcenter.y * sy + matrix.f - fillOrigin) / fillSize;\n                    }\n                } else {\n                    x = (rawcenter.x - fillOrigin) / fillSize;\n                    y = (rawcenter.y - fillOrigin) / fillSize;\n                }\n                width = round(width, TRANSFORM_PRECISION);\n                height = round(height, TRANSFORM_PRECISION);\n                x = round(x, TRANSFORM_PRECISION);\n                y = round(y, TRANSFORM_PRECISION);\n                angle = round(angle, TRANSFORM_PRECISION);\n                return [\n                    [\n                        'size',\n                        width + ',' + height\n                    ],\n                    [\n                        'position',\n                        x + ',' + y\n                    ],\n                    [\n                        'angle',\n                        angle\n                    ]\n                ];\n            }\n        });\n        var ImageNode = PathNode.extend({\n            createFillNode: function (srcElement, transform, opacity) {\n                return new ImageFillNode(srcElement, transform, opacity);\n            },\n            createDataNode: function (srcElement) {\n                return new ImagePathDataNode(srcElement);\n            },\n            optionsChange: function (e) {\n                if (e.field === 'src' || e.field === 'transform') {\n                    this.fill.optionsChange(e);\n                }\n                PathNode.fn.optionsChange.call(this, e);\n            },\n            geometryChange: function () {\n                this.fill.geometryChange();\n                PathNode.fn.geometryChange.call(this);\n            },\n            refreshTransform: function (transform) {\n                PathNode.fn.refreshTransform.call(this, transform);\n                this.fill.refresh(this.srcElement.currentTransform(transform));\n            }\n        });\n        var RectDataNode = PathDataNode.extend({\n            renderData: function () {\n                var rect = this.srcElement.geometry();\n                var parts = [\n                    'm',\n                    printPoints([rect.topLeft()]),\n                    'l',\n                    printPoints([\n                        rect.topRight(),\n                        rect.bottomRight(),\n                        rect.bottomLeft()\n                    ]),\n                    'x e'\n                ];\n                return parts.join(' ');\n            }\n        });\n        var RectNode = PathNode.extend({\n            createDataNode: function (srcElement) {\n                return new RectDataNode(srcElement);\n            }\n        });\n        var nodeMap = {\n            Group: GroupNode,\n            Text: TextNode,\n            Path: PathNode,\n            MultiPath: MultiPathNode,\n            Circle: CircleNode,\n            Arc: ArcNode,\n            Image: ImageNode,\n            Rect: RectNode\n        };\n        function enableVML() {\n            if (doc.namespaces && !doc.namespaces.kvml) {\n                doc.namespaces.add('kvml', 'urn:schemas-microsoft-com:vml');\n                var stylesheet = doc.styleSheets.length > 30 ? doc.styleSheets[0] : doc.createStyleSheet();\n                stylesheet.addRule('.kvml', 'behavior:url(#default#VML)');\n            }\n        }\n        function createElementVML(type) {\n            var element = doc.createElement('kvml:' + type);\n            element.className = 'kvml';\n            return element;\n        }\n        function printPoints(points) {\n            var length = points.length;\n            var result = [];\n            for (var i = 0; i < length; i++) {\n                result.push(points[i].scaleCopy(COORDINATE_MULTIPLE).toString(0, ','));\n            }\n            return result.join(' ');\n        }\n        function printPath(path, open) {\n            var segments = path.segments, length = segments.length;\n            if (length > 0) {\n                var parts = [], output, type, currentType, i;\n                for (i = 1; i < length; i++) {\n                    type = segmentType(segments[i - 1], segments[i]);\n                    if (type !== currentType) {\n                        currentType = type;\n                        parts.push(type);\n                    }\n                    if (type === 'l') {\n                        parts.push(printPoints([segments[i].anchor()]));\n                    } else {\n                        parts.push(printPoints([\n                            segments[i - 1].controlOut(),\n                            segments[i].controlIn(),\n                            segments[i].anchor()\n                        ]));\n                    }\n                }\n                output = 'm ' + printPoints([segments[0].anchor()]) + ' ' + parts.join(' ');\n                if (path.options.closed) {\n                    output += ' x';\n                }\n                if (open !== true) {\n                    output += ' e';\n                }\n                return output;\n            }\n        }\n        function segmentType(segmentStart, segmentEnd) {\n            return segmentStart.controlOut() && segmentEnd.controlIn() ? 'c' : 'l';\n        }\n        function fillField(field) {\n            return field.indexOf('fill') === 0 || field.indexOf(GRADIENT) === 0;\n        }\n        function stopColor(baseColor, stop, baseOpacity) {\n            var opacity = baseOpacity * valueOrDefault(stop.opacity(), 1);\n            var color;\n            if (baseColor) {\n                color = blendColors(baseColor, stop.color(), opacity);\n            } else {\n                color = blendColors(stop.color(), '#fff', 1 - opacity);\n            }\n            return color;\n        }\n        function blendColors(base, overlay, alpha) {\n            var baseColor = new Color(base), overlayColor = new Color(overlay), r = blendChannel(baseColor.r, overlayColor.r, alpha), g = blendChannel(baseColor.g, overlayColor.g, alpha), b = blendChannel(baseColor.b, overlayColor.b, alpha);\n            return new Color(r, g, b).toHex();\n        }\n        function blendChannel(a, b, alpha) {\n            return math.round(alpha * b + (1 - alpha) * a);\n        }\n        kendo.support.vml = function () {\n            var browser = kendo.support.browser;\n            return browser.msie && browser.version < 9;\n        }();\n        var EMPTY_CLIP = 'inherit';\n        if (kendo.support.browser.msie && kendo.support.browser.version < 8) {\n            EMPTY_CLIP = 'rect(auto auto auto auto)';\n        }\n        if (kendo.support.vml) {\n            d.SurfaceFactory.current.register('vml', Surface, 30);\n        }\n        deepExtend(d, {\n            vml: {\n                ArcDataNode: ArcDataNode,\n                ArcNode: ArcNode,\n                CircleTransformNode: CircleTransformNode,\n                CircleNode: CircleNode,\n                FillNode: FillNode,\n                GroupNode: GroupNode,\n                ImageNode: ImageNode,\n                ImageFillNode: ImageFillNode,\n                ImagePathDataNode: ImagePathDataNode,\n                MultiPathDataNode: MultiPathDataNode,\n                MultiPathNode: MultiPathNode,\n                Node: Node,\n                PathDataNode: PathDataNode,\n                PathNode: PathNode,\n                RectDataNode: RectDataNode,\n                RectNode: RectNode,\n                RootNode: RootNode,\n                StrokeNode: StrokeNode,\n                Surface: Surface,\n                TextNode: TextNode,\n                TextPathNode: TextPathNode,\n                TextPathDataNode: TextPathDataNode,\n                TransformNode: TransformNode\n            }\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/html', [\n        'kendo.color',\n        'drawing/shapes',\n        'util/main',\n        'util/text-metrics'\n    ], f);\n}(function () {\n    (function ($, parseFloat, Math) {\n        'use strict';\n        var drawing = kendo.drawing;\n        var geo = kendo.geometry;\n        var slice = Array.prototype.slice;\n        var browser = kendo.support.browser;\n        var romanNumeral = kendo.util.arabicToRoman;\n        var mergeSort = kendo.util.mergeSort;\n        var KENDO_PSEUDO_ELEMENT = 'KENDO-PSEUDO-ELEMENT';\n        var IMAGE_CACHE = {};\n        var nodeInfo = {};\n        nodeInfo._root = nodeInfo;\n        var TextRect = drawing.Text.extend({\n            nodeType: 'Text',\n            init: function (str, rect, options) {\n                drawing.Text.fn.init.call(this, str, rect.getOrigin(), options);\n                this._pdfRect = rect;\n            },\n            rect: function () {\n                return this._pdfRect;\n            },\n            rawBBox: function () {\n                return this._pdfRect;\n            }\n        });\n        function getXY(thing) {\n            if (typeof thing == 'number') {\n                return {\n                    x: thing,\n                    y: thing\n                };\n            }\n            if (Array.isArray(thing)) {\n                return {\n                    x: thing[0],\n                    y: thing[1]\n                };\n            }\n            return {\n                x: thing.x,\n                y: thing.y\n            };\n        }\n        function drawDOM(element, options) {\n            if (!options) {\n                options = {};\n            }\n            var defer = $.Deferred();\n            element = $(element)[0];\n            if (!element) {\n                return defer.reject('No element to export');\n            }\n            if (typeof window.getComputedStyle != 'function') {\n                throw new Error('window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+.');\n            }\n            if (kendo.pdf) {\n                kendo.pdf.defineFont(getFontFaces(element.ownerDocument));\n            }\n            var scale = getXY(options.scale || 1);\n            function doOne(element) {\n                var group = new drawing.Group();\n                var pos = element.getBoundingClientRect();\n                setTransform(group, [\n                    scale.x,\n                    0,\n                    0,\n                    scale.y,\n                    -pos.left * scale.x,\n                    -pos.top * scale.y\n                ]);\n                nodeInfo._clipbox = false;\n                nodeInfo._matrix = geo.Matrix.unit();\n                nodeInfo._stackingContext = {\n                    element: element,\n                    group: group\n                };\n                if (options.avoidLinks === true) {\n                    nodeInfo._avoidLinks = 'a';\n                } else {\n                    nodeInfo._avoidLinks = options.avoidLinks;\n                }\n                $(element).addClass('k-pdf-export');\n                renderElement(element, group);\n                $(element).removeClass('k-pdf-export');\n                return group;\n            }\n            cacheImages(element, function () {\n                var forceBreak = options && options.forcePageBreak;\n                var hasPaperSize = options && options.paperSize && options.paperSize != 'auto';\n                var paperOptions = kendo.pdf.getPaperOptions(function (key, def) {\n                    if (key == 'paperSize') {\n                        return hasPaperSize ? options[key] : 'A4';\n                    }\n                    return key in options ? options[key] : def;\n                });\n                var pageWidth = hasPaperSize && paperOptions.paperSize[0];\n                var pageHeight = hasPaperSize && paperOptions.paperSize[1];\n                var margin = options.margin && paperOptions.margin;\n                var hasMargin = !!margin;\n                if (forceBreak || pageHeight) {\n                    if (!margin) {\n                        margin = {\n                            left: 0,\n                            top: 0,\n                            right: 0,\n                            bottom: 0\n                        };\n                    }\n                    if (pageWidth) {\n                        pageWidth /= scale.x;\n                    }\n                    if (pageHeight) {\n                        pageHeight /= scale.y;\n                    }\n                    margin.left /= scale.x;\n                    margin.right /= scale.x;\n                    margin.top /= scale.y;\n                    margin.bottom /= scale.y;\n                    var group = new drawing.Group({\n                        pdf: {\n                            multiPage: true,\n                            paperSize: hasPaperSize ? paperOptions.paperSize : 'auto',\n                            _ignoreMargin: hasMargin\n                        }\n                    });\n                    handlePageBreaks(function (x) {\n                        if (options.progress) {\n                            var canceled = false, pageNum = 0;\n                            (function next() {\n                                if (pageNum < x.pages.length) {\n                                    var page = doOne(x.pages[pageNum]);\n                                    group.append(page);\n                                    options.progress({\n                                        page: page,\n                                        pageNum: ++pageNum,\n                                        totalPages: x.pages.length,\n                                        cancel: function () {\n                                            canceled = true;\n                                        }\n                                    });\n                                    if (!canceled) {\n                                        setTimeout(next);\n                                    } else {\n                                        x.container.parentNode.removeChild(x.container);\n                                    }\n                                } else {\n                                    x.container.parentNode.removeChild(x.container);\n                                    defer.resolve(group);\n                                }\n                            }());\n                        } else {\n                            x.pages.forEach(function (page) {\n                                group.append(doOne(page));\n                            });\n                            x.container.parentNode.removeChild(x.container);\n                            defer.resolve(group);\n                        }\n                    }, element, forceBreak, pageWidth ? pageWidth - margin.left - margin.right : null, pageHeight ? pageHeight - margin.top - margin.bottom : null, margin, options);\n                } else {\n                    defer.resolve(doOne(element));\n                }\n            });\n            function makeTemplate(template) {\n                if (template != null) {\n                    if (typeof template == 'string') {\n                        template = kendo.template(template.replace(/^\\s+|\\s+$/g, ''));\n                    }\n                    if (typeof template == 'function') {\n                        return function (data) {\n                            var el = template(data);\n                            if (el) {\n                                if (typeof el == 'string') {\n                                    el = el.replace(/^\\s+|\\s+$/g, '');\n                                }\n                                return $(el)[0];\n                            }\n                        };\n                    }\n                    return function () {\n                        return $(template).clone()[0];\n                    };\n                }\n            }\n            function cloneNodes(el) {\n                var clone = el.cloneNode(false);\n                if (el.nodeType == 1) {\n                    var $el = $(el), $clone = $(clone), i;\n                    var data = $el.data();\n                    for (i in data) {\n                        $clone.data(i, data[i]);\n                    }\n                    if (/^canvas$/i.test(el.tagName)) {\n                        clone.getContext('2d').drawImage(el, 0, 0);\n                    } else if (/^input$/i.test(el.tagName)) {\n                        el.removeAttribute('name');\n                    } else {\n                        for (i = el.firstChild; i; i = i.nextSibling) {\n                            clone.appendChild(cloneNodes(i));\n                        }\n                    }\n                }\n                return clone;\n            }\n            function handlePageBreaks(callback, element, forceBreak, pageWidth, pageHeight, margin, options) {\n                var template = makeTemplate(options.template);\n                var doc = element.ownerDocument;\n                var pages = [];\n                var copy = options._destructive ? element : cloneNodes(element);\n                var container = doc.createElement('KENDO-PDF-DOCUMENT');\n                var adjust = 0;\n                $(copy).find('tfoot').each(function () {\n                    this.parentNode.appendChild(this);\n                });\n                $(copy).find('ol').each(function () {\n                    $(this).children().each(function (index) {\n                        this.setAttribute('kendo-split-index', index);\n                    });\n                });\n                $(container).css({\n                    display: 'block',\n                    position: 'absolute',\n                    boxSizing: 'content-box',\n                    left: '-10000px',\n                    top: '-10000px'\n                });\n                if (pageWidth) {\n                    $(container).css({\n                        width: pageWidth,\n                        paddingLeft: margin.left,\n                        paddingRight: margin.right\n                    });\n                    $(copy).css({ overflow: 'hidden' });\n                }\n                element.parentNode.insertBefore(container, element);\n                container.appendChild(copy);\n                if (options.beforePageBreak) {\n                    setTimeout(function () {\n                        options.beforePageBreak(container, doPageBreak);\n                    }, 15);\n                } else {\n                    setTimeout(doPageBreak, 15);\n                }\n                function doPageBreak() {\n                    if (forceBreak != '-' || pageHeight) {\n                        splitElement(copy);\n                    }\n                    var page = makePage();\n                    copy.parentNode.insertBefore(page, copy);\n                    page.appendChild(copy);\n                    if (template) {\n                        var count = pages.length;\n                        pages.forEach(function (page, i) {\n                            var el = template({\n                                element: page,\n                                pageNum: i + 1,\n                                totalPages: pages.length\n                            });\n                            if (el) {\n                                page.appendChild(el);\n                                cacheImages(el, function () {\n                                    if (--count === 0) {\n                                        next();\n                                    }\n                                });\n                            }\n                        });\n                    } else {\n                        next();\n                    }\n                    function next() {\n                        whenImagesAreActuallyLoaded(pages, function () {\n                            callback({\n                                pages: pages,\n                                container: container\n                            });\n                        });\n                    }\n                }\n                function keepTogether(jqel) {\n                    if (options.keepTogether && jqel.is(options.keepTogether) && jqel.height() <= pageHeight - adjust) {\n                        return true;\n                    }\n                    var tag = jqel[0].tagName;\n                    if (/^h[1-6]$/i.test(tag) && jqel.height() >= pageHeight - adjust) {\n                        return false;\n                    }\n                    return jqel.data('kendoChart') || /^(?:img|tr|thead|th|tfoot|iframe|svg|object|canvas|input|textarea|select|video|h[1-6])$/i.test(tag);\n                }\n                function splitElement(element) {\n                    var style = getComputedStyle(element);\n                    var bottomPadding = parseFloat(getPropertyValue(style, 'padding-bottom'));\n                    var bottomBorder = parseFloat(getPropertyValue(style, 'border-bottom-width'));\n                    var saveAdjust = adjust;\n                    adjust += bottomPadding + bottomBorder;\n                    var isFirst = true;\n                    for (var el = element.firstChild; el; el = el.nextSibling) {\n                        if (el.nodeType == 1) {\n                            isFirst = false;\n                            var jqel = $(el);\n                            if (jqel.is(forceBreak)) {\n                                breakAtElement(el);\n                                continue;\n                            }\n                            if (!pageHeight) {\n                                splitElement(el);\n                                continue;\n                            }\n                            if (!/^(?:static|relative)$/.test(getPropertyValue(getComputedStyle(el), 'position'))) {\n                                continue;\n                            }\n                            var fall = fallsOnMargin(el);\n                            if (fall == 1) {\n                                breakAtElement(el);\n                            } else if (fall) {\n                                if (keepTogether(jqel)) {\n                                    breakAtElement(el);\n                                } else {\n                                    splitElement(el);\n                                }\n                            } else {\n                                splitElement(el);\n                            }\n                        } else if (el.nodeType == 3 && pageHeight) {\n                            splitText(el, isFirst);\n                            isFirst = false;\n                        }\n                    }\n                    adjust = saveAdjust;\n                }\n                function firstInParent(el) {\n                    var p = el.parentNode, first = p.firstChild;\n                    if (el === first) {\n                        return true;\n                    }\n                    if (el === p.children[0]) {\n                        if (first.nodeType == 7 || first.nodeType == 8) {\n                            return true;\n                        }\n                        if (first.nodeType == 3) {\n                            return !/\\S/.test(first.data);\n                        }\n                    }\n                    return false;\n                }\n                function breakAtElement(el) {\n                    if (el.nodeType == 1 && el !== copy && firstInParent(el)) {\n                        return breakAtElement(el.parentNode);\n                    }\n                    var table, colgroup, thead, grid, gridHead;\n                    table = $(el).closest('table');\n                    colgroup = table.find('colgroup:first');\n                    if (options.repeatHeaders) {\n                        thead = table.find('thead:first');\n                        grid = $(el).closest('.k-grid[data-role=\"grid\"]');\n                        if (grid[0] && grid[0].querySelector('.k-auto-scrollable')) {\n                            gridHead = grid.find('.k-grid-header:first');\n                        }\n                    }\n                    var page = makePage();\n                    var range = doc.createRange();\n                    range.setStartBefore(copy);\n                    range.setEndBefore(el);\n                    page.appendChild(range.extractContents());\n                    copy.parentNode.insertBefore(page, copy);\n                    if (table[0]) {\n                        table = $(el).closest('table');\n                        if (options.repeatHeaders && thead[0]) {\n                            thead.clone().prependTo(table);\n                        }\n                        if (colgroup[0]) {\n                            colgroup.clone().prependTo(table);\n                        }\n                    }\n                    if (options.repeatHeaders && gridHead && gridHead[0]) {\n                        grid = $(el).closest('.k-grid[data-role=\"grid\"]');\n                        if (gridHead[0]) {\n                            gridHead.clone().prependTo(grid);\n                        }\n                    }\n                }\n                function makePage() {\n                    var page = doc.createElement('KENDO-PDF-PAGE');\n                    $(page).css({\n                        display: 'block',\n                        boxSizing: 'content-box',\n                        width: pageWidth || 'auto',\n                        padding: margin.top + 'px ' + margin.right + 'px ' + margin.bottom + 'px ' + margin.left + 'px',\n                        position: 'relative',\n                        height: pageHeight || 'auto',\n                        overflow: pageHeight || pageWidth ? 'hidden' : 'visible',\n                        clear: 'both'\n                    });\n                    if (options && options.pageClassName) {\n                        page.className = options.pageClassName;\n                    }\n                    pages.push(page);\n                    return page;\n                }\n                function fallsOnMargin(thing) {\n                    var box = thing.getBoundingClientRect();\n                    if (box.width === 0 || box.height === 0) {\n                        return 0;\n                    }\n                    var top = copy.getBoundingClientRect().top;\n                    var available = pageHeight - adjust;\n                    return box.height > available ? 3 : box.top - top > available ? 1 : box.bottom - top > available ? 2 : 0;\n                }\n                function splitText(node, isFirst) {\n                    if (!/\\S/.test(node.data)) {\n                        return;\n                    }\n                    var len = node.data.length;\n                    var range = doc.createRange();\n                    range.selectNodeContents(node);\n                    var fall = fallsOnMargin(range);\n                    if (!fall) {\n                        return;\n                    }\n                    var nextnode = node;\n                    if (fall == 1) {\n                        if (isFirst) {\n                            breakAtElement(node.parentNode);\n                        } else {\n                            breakAtElement(node);\n                        }\n                    } else {\n                        (function findEOP(min, pos, max) {\n                            range.setEnd(node, pos);\n                            if (min == pos || pos == max) {\n                                return pos;\n                            }\n                            if (fallsOnMargin(range)) {\n                                return findEOP(min, min + pos >> 1, pos);\n                            } else {\n                                return findEOP(pos, pos + max >> 1, max);\n                            }\n                        }(0, len >> 1, len));\n                        if (!/\\S/.test(range.toString()) && isFirst) {\n                            breakAtElement(node.parentNode);\n                        } else {\n                            nextnode = node.splitText(range.endOffset);\n                            var page = makePage();\n                            range.setStartBefore(copy);\n                            page.appendChild(range.extractContents());\n                            copy.parentNode.insertBefore(page, copy);\n                        }\n                    }\n                    splitText(nextnode);\n                }\n            }\n            return defer.promise();\n        }\n        drawing.drawDOM = drawDOM;\n        drawDOM.getFontFaces = getFontFaces;\n        var parseBackgroundImage = function () {\n            var tok_linear_gradient = /^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\\s*)\\(/;\n            var tok_percent = /^([-0-9.]+%)/;\n            var tok_length = /^([-0-9.]+px)/;\n            var tok_keyword = /^(left|right|top|bottom|to|center)\\W/;\n            var tok_angle = /^([-0-9.]+(deg|grad|rad|turn))/;\n            var tok_whitespace = /^(\\s+)/;\n            var tok_popen = /^(\\()/;\n            var tok_pclose = /^(\\))/;\n            var tok_comma = /^(,)/;\n            var tok_url = /^(url)\\(/;\n            var tok_content = /^(.*?)\\)/;\n            var cache1 = {}, cache2 = {};\n            function parse(input) {\n                var orig = input;\n                if (hasOwnProperty(cache1, orig)) {\n                    return cache1[orig];\n                }\n                function skip_ws() {\n                    var m = tok_whitespace.exec(input);\n                    if (m) {\n                        input = input.substr(m[1].length);\n                    }\n                }\n                function read(token) {\n                    skip_ws();\n                    var m = token.exec(input);\n                    if (m) {\n                        input = input.substr(m[1].length);\n                        return m[1];\n                    }\n                }\n                function read_stop() {\n                    var color = kendo.parseColor(input, true);\n                    var length, percent;\n                    if (color) {\n                        input = input.substr(color.match[0].length);\n                        color = color.toRGB();\n                        if (!(length = read(tok_length))) {\n                            percent = read(tok_percent);\n                        }\n                        return {\n                            color: color,\n                            length: length,\n                            percent: percent\n                        };\n                    }\n                }\n                function read_linear_gradient(propName) {\n                    var angle;\n                    var to1, to2;\n                    var stops = [];\n                    var reverse = false;\n                    if (read(tok_popen)) {\n                        angle = read(tok_angle);\n                        if (angle) {\n                            angle = parseAngle(angle);\n                            read(tok_comma);\n                        } else {\n                            to1 = read(tok_keyword);\n                            if (to1 == 'to') {\n                                to1 = read(tok_keyword);\n                            } else if (to1 && /^-/.test(propName)) {\n                                reverse = true;\n                            }\n                            to2 = read(tok_keyword);\n                            read(tok_comma);\n                        }\n                        if (/-moz-/.test(propName) && angle == null && to1 == null) {\n                            var x = read(tok_percent), y = read(tok_percent);\n                            reverse = true;\n                            if (x == '0%') {\n                                to1 = 'left';\n                            } else if (x == '100%') {\n                                to1 = 'right';\n                            }\n                            if (y == '0%') {\n                                to2 = 'top';\n                            } else if (y == '100%') {\n                                to2 = 'bottom';\n                            }\n                            read(tok_comma);\n                        }\n                        while (input && !read(tok_pclose)) {\n                            var stop = read_stop();\n                            if (!stop) {\n                                break;\n                            }\n                            stops.push(stop);\n                            read(tok_comma);\n                        }\n                        return {\n                            type: 'linear',\n                            angle: angle,\n                            to: to1 && to2 ? to1 + ' ' + to2 : to1 ? to1 : to2 ? to2 : null,\n                            stops: stops,\n                            reverse: reverse\n                        };\n                    }\n                }\n                function read_url() {\n                    if (read(tok_popen)) {\n                        var url = read(tok_content);\n                        url = url.replace(/^['\"]+|[\"']+$/g, '');\n                        read(tok_pclose);\n                        return {\n                            type: 'url',\n                            url: url\n                        };\n                    }\n                }\n                var tok;\n                if (tok = read(tok_linear_gradient)) {\n                    tok = read_linear_gradient(tok);\n                } else if (tok = read(tok_url)) {\n                    tok = read_url();\n                }\n                return cache1[orig] = tok || { type: 'none' };\n            }\n            return function (input) {\n                if (hasOwnProperty(cache2, input)) {\n                    return cache2[input];\n                }\n                return cache2[input] = splitProperty(input).map(parse);\n            };\n        }();\n        var splitProperty = function () {\n            var cache = {};\n            return function (input, separator) {\n                if (!separator) {\n                    separator = /^\\s*,\\s*/;\n                }\n                var cacheKey = input + separator;\n                if (hasOwnProperty(cache, cacheKey)) {\n                    return cache[cacheKey];\n                }\n                var ret = [];\n                var last = 0, pos = 0;\n                var in_paren = 0;\n                var in_string = false;\n                var m;\n                function looking_at(rx) {\n                    return m = rx.exec(input.substr(pos));\n                }\n                function trim(str) {\n                    return str.replace(/^\\s+|\\s+$/g, '');\n                }\n                while (pos < input.length) {\n                    if (!in_string && looking_at(/^[\\(\\[\\{]/)) {\n                        in_paren++;\n                        pos++;\n                    } else if (!in_string && looking_at(/^[\\)\\]\\}]/)) {\n                        in_paren--;\n                        pos++;\n                    } else if (!in_string && looking_at(/^[\\\"\\']/)) {\n                        in_string = m[0];\n                        pos++;\n                    } else if (in_string == '\\'' && looking_at(/^\\\\\\'/)) {\n                        pos += 2;\n                    } else if (in_string == '\"' && looking_at(/^\\\\\\\"/)) {\n                        pos += 2;\n                    } else if (in_string == '\\'' && looking_at(/^\\'/)) {\n                        in_string = false;\n                        pos++;\n                    } else if (in_string == '\"' && looking_at(/^\\\"/)) {\n                        in_string = false;\n                        pos++;\n                    } else if (looking_at(separator)) {\n                        if (!in_string && !in_paren && pos > last) {\n                            ret.push(trim(input.substring(last, pos)));\n                            last = pos + m[0].length;\n                        }\n                        pos += m[0].length;\n                    } else {\n                        pos++;\n                    }\n                }\n                if (last < pos) {\n                    ret.push(trim(input.substring(last, pos)));\n                }\n                return cache[cacheKey] = ret;\n            };\n        }();\n        var getFontURL = function (cache) {\n            return function (el) {\n                var url = cache[el];\n                if (!url) {\n                    var m;\n                    if (m = /url\\((['\"]?)([^'\")]*?)\\1\\)\\s+format\\((['\"]?)truetype\\3\\)/.exec(el)) {\n                        url = cache[el] = m[2];\n                    } else if (m = /url\\((['\"]?)([^'\")]*?\\.ttf)\\1\\)/.exec(el)) {\n                        url = cache[el] = m[2];\n                    }\n                }\n                return url;\n            };\n        }(Object.create(null));\n        var getFontHeight = function (cache) {\n            return function (font) {\n                var height = cache[font];\n                if (height == null) {\n                    height = cache[font] = kendo.util.measureText('Mapq', { font: font }).height;\n                }\n                return height;\n            };\n        }(Object.create(null));\n        function getFontFaces(doc) {\n            if (doc == null) {\n                doc = document;\n            }\n            var result = {};\n            for (var i = 0; i < doc.styleSheets.length; ++i) {\n                doStylesheet(doc.styleSheets[i]);\n            }\n            return result;\n            function doStylesheet(ss) {\n                if (ss) {\n                    var rules = null;\n                    try {\n                        rules = ss.cssRules;\n                    } catch (ex) {\n                    }\n                    if (rules) {\n                        addRules(ss, rules);\n                    }\n                }\n            }\n            function findFonts(rule) {\n                var src = getPropertyValue(rule.style, 'src');\n                if (src) {\n                    return splitProperty(src).reduce(function (a, el) {\n                        var font = getFontURL(el);\n                        if (font) {\n                            a.push(font);\n                        }\n                        return a;\n                    }, []);\n                } else {\n                    var font = getFontURL(rule.cssText);\n                    return font ? [font] : [];\n                }\n            }\n            function addRules(styleSheet, rules) {\n                for (var i = 0; i < rules.length; ++i) {\n                    var r = rules[i];\n                    switch (r.type) {\n                    case 3:\n                        doStylesheet(r.styleSheet);\n                        break;\n                    case 5:\n                        var style = r.style;\n                        var family = splitProperty(getPropertyValue(style, 'font-family'));\n                        var bold = /^([56789]00|bold)$/i.test(getPropertyValue(style, 'font-weight'));\n                        var italic = 'italic' == getPropertyValue(style, 'font-style');\n                        var src = findFonts(r);\n                        if (src.length > 0) {\n                            addRule(styleSheet, family, bold, italic, src[0]);\n                        }\n                    }\n                }\n            }\n            function addRule(styleSheet, names, bold, italic, url) {\n                if (!/^data:/i.test(url)) {\n                    if (!(/^[^\\/:]+:\\/\\//.test(url) || /^\\//.test(url))) {\n                        url = String(styleSheet.href).replace(/[^\\/]*$/, '') + url;\n                    }\n                }\n                names.forEach(function (name) {\n                    name = name.replace(/^(['\"]?)(.*?)\\1$/, '$2');\n                    if (bold) {\n                        name += '|bold';\n                    }\n                    if (italic) {\n                        name += '|italic';\n                    }\n                    result[name] = url;\n                });\n            }\n        }\n        function hasOwnProperty(obj, key) {\n            return Object.prototype.hasOwnProperty.call(obj, key);\n        }\n        function getCounter(name) {\n            name = '_counter_' + name;\n            return nodeInfo[name];\n        }\n        function getAllCounters(name) {\n            var values = [], p = nodeInfo;\n            name = '_counter_' + name;\n            while (p) {\n                if (hasOwnProperty(p, name)) {\n                    values.push(p[name]);\n                }\n                p = Object.getPrototypeOf(p);\n            }\n            return values.reverse();\n        }\n        function incCounter(name, inc) {\n            var p = nodeInfo;\n            name = '_counter_' + name;\n            while (p && !hasOwnProperty(p, name)) {\n                p = Object.getPrototypeOf(p);\n            }\n            if (!p) {\n                p = nodeInfo._root;\n            }\n            p[name] = (p[name] || 0) + (inc == null ? 1 : inc);\n        }\n        function resetCounter(name, val) {\n            name = '_counter_' + name;\n            nodeInfo[name] = val == null ? 0 : val;\n        }\n        function doCounters(a, f, def) {\n            for (var i = 0; i < a.length;) {\n                var name = a[i++];\n                var val = parseFloat(a[i]);\n                if (isNaN(val)) {\n                    f(name, def);\n                } else {\n                    f(name, val);\n                    ++i;\n                }\n            }\n        }\n        function parseColor(str, css) {\n            var color = kendo.parseColor(str);\n            if (color) {\n                color = color.toRGB();\n                if (css) {\n                    color = color.toCssRgba();\n                } else if (color.a === 0) {\n                    color = null;\n                }\n            }\n            return color;\n        }\n        function whenImagesAreActuallyLoaded(elements, callback) {\n            var pending = 0;\n            elements.forEach(function (el) {\n                var images = el.querySelectorAll('img');\n                for (var i = 0; i < images.length; ++i) {\n                    var img = images[i];\n                    if (!img.complete) {\n                        pending++;\n                        img.onload = img.onerror = next;\n                    }\n                }\n            });\n            if (!pending) {\n                next();\n            }\n            function next() {\n                if (--pending <= 0) {\n                    callback();\n                }\n            }\n        }\n        function cacheImages(element, callback) {\n            var urls = [];\n            function add(url) {\n                if (!IMAGE_CACHE[url]) {\n                    IMAGE_CACHE[url] = true;\n                    urls.push(url);\n                }\n            }\n            (function dive(element) {\n                if (/^img$/i.test(element.tagName)) {\n                    add(element.src);\n                }\n                parseBackgroundImage(getPropertyValue(getComputedStyle(element), 'background-image')).forEach(function (bg) {\n                    if (bg.type == 'url') {\n                        add(bg.url);\n                    }\n                });\n                if (element.children) {\n                    slice.call(element.children).forEach(dive);\n                }\n            }(element));\n            var count = urls.length;\n            function next() {\n                if (--count <= 0) {\n                    callback();\n                }\n            }\n            if (count === 0) {\n                next();\n            }\n            urls.forEach(function (url) {\n                var img = IMAGE_CACHE[url] = new Image();\n                if (!/^data:/i.test(url)) {\n                    img.crossOrigin = 'Anonymous';\n                }\n                img.src = url;\n                if (img.complete) {\n                    next();\n                } else {\n                    img.onload = next;\n                    img.onerror = function () {\n                        IMAGE_CACHE[url] = null;\n                        next();\n                    };\n                }\n            });\n        }\n        function alphaNumeral(n) {\n            var result = '';\n            do {\n                var r = n % 26;\n                result = String.fromCharCode(97 + r) + result;\n                n = Math.floor(n / 26);\n            } while (n > 0);\n            return result;\n        }\n        function pushNodeInfo(element, style, group) {\n            nodeInfo = Object.create(nodeInfo);\n            nodeInfo[element.tagName.toLowerCase()] = {\n                element: element,\n                style: style\n            };\n            var decoration = getPropertyValue(style, 'text-decoration');\n            if (decoration && decoration != 'none') {\n                var color = getPropertyValue(style, 'color');\n                decoration.split(/\\s+/g).forEach(function (name) {\n                    if (!nodeInfo[name]) {\n                        nodeInfo[name] = color;\n                    }\n                });\n            }\n            if (createsStackingContext(style)) {\n                nodeInfo._stackingContext = {\n                    element: element,\n                    group: group\n                };\n            }\n        }\n        function popNodeInfo() {\n            nodeInfo = Object.getPrototypeOf(nodeInfo);\n        }\n        function updateClipbox(path) {\n            if (nodeInfo._clipbox != null) {\n                var box = path.bbox(nodeInfo._matrix);\n                if (nodeInfo._clipbox) {\n                    nodeInfo._clipbox = geo.Rect.intersect(nodeInfo._clipbox, box);\n                } else {\n                    nodeInfo._clipbox = box;\n                }\n            }\n        }\n        function emptyClipbox() {\n            var cb = nodeInfo._clipbox;\n            if (cb == null) {\n                return true;\n            }\n            if (cb) {\n                return cb.width() === 0 || cb.height() === 0;\n            }\n        }\n        function createsStackingContext(style) {\n            function prop(name) {\n                return getPropertyValue(style, name);\n            }\n            if (prop('transform') != 'none' || prop('position') != 'static' && prop('z-index') != 'auto' || prop('opacity') < 1) {\n                return true;\n            }\n        }\n        function getComputedStyle(element, pseudoElt) {\n            return window.getComputedStyle(element, pseudoElt || null);\n        }\n        function getPropertyValue(style, prop) {\n            var val = style.getPropertyValue(prop);\n            if (val == null || val === '') {\n                if (browser.webkit) {\n                    val = style.getPropertyValue('-webkit-' + prop);\n                } else if (browser.mozilla) {\n                    val = style.getPropertyValue('-moz-' + prop);\n                } else if (browser.opera) {\n                    val = style.getPropertyValue('-o-' + prop);\n                } else if (browser.msie) {\n                    val = style.getPropertyValue('-ms-' + prop);\n                }\n            }\n            return val;\n        }\n        function pleaseSetPropertyValue(style, prop, value, important) {\n            style.setProperty(prop, value, important);\n            if (browser.webkit) {\n                style.setProperty('-webkit-' + prop, value, important);\n            } else if (browser.mozilla) {\n                style.setProperty('-moz-' + prop, value, important);\n            } else if (browser.opera) {\n                style.setProperty('-o-' + prop, value, important);\n            } else if (browser.msie) {\n                style.setProperty('-ms-' + prop, value, important);\n                prop = 'ms' + prop.replace(/(^|-)([a-z])/g, function (s, p1, p2) {\n                    return p1 + p2.toUpperCase();\n                });\n                style[prop] = value;\n            }\n        }\n        function getBorder(style, side) {\n            side = 'border-' + side;\n            return {\n                width: parseFloat(getPropertyValue(style, side + '-width')),\n                style: getPropertyValue(style, side + '-style'),\n                color: parseColor(getPropertyValue(style, side + '-color'), true)\n            };\n        }\n        function saveStyle(element, func) {\n            var prev = element.style.cssText;\n            var result = func();\n            element.style.cssText = prev;\n            return result;\n        }\n        function getBorderRadius(style, side) {\n            var r = getPropertyValue(style, 'border-' + side + '-radius').split(/\\s+/g).map(parseFloat);\n            if (r.length == 1) {\n                r.push(r[0]);\n            }\n            return sanitizeRadius({\n                x: r[0],\n                y: r[1]\n            });\n        }\n        function getContentBox(element) {\n            var box = element.getBoundingClientRect();\n            box = innerBox(box, 'border-*-width', element);\n            box = innerBox(box, 'padding-*', element);\n            return box;\n        }\n        function innerBox(box, prop, element) {\n            var style, wt, wr, wb, wl;\n            if (typeof prop == 'string') {\n                style = getComputedStyle(element);\n                wt = parseFloat(getPropertyValue(style, prop.replace('*', 'top')));\n                wr = parseFloat(getPropertyValue(style, prop.replace('*', 'right')));\n                wb = parseFloat(getPropertyValue(style, prop.replace('*', 'bottom')));\n                wl = parseFloat(getPropertyValue(style, prop.replace('*', 'left')));\n            } else if (typeof prop == 'number') {\n                wt = wr = wb = wl = prop;\n            }\n            return {\n                top: box.top + wt,\n                right: box.right - wr,\n                bottom: box.bottom - wb,\n                left: box.left + wl,\n                width: box.right - box.left - wr - wl,\n                height: box.bottom - box.top - wb - wt\n            };\n        }\n        function getTransform(style) {\n            var transform = getPropertyValue(style, 'transform');\n            if (transform == 'none') {\n                return null;\n            }\n            var matrix = /^\\s*matrix\\(\\s*(.*?)\\s*\\)\\s*$/.exec(transform);\n            if (matrix) {\n                var origin = getPropertyValue(style, 'transform-origin');\n                matrix = matrix[1].split(/\\s*,\\s*/g).map(parseFloat);\n                origin = origin.split(/\\s+/g).map(parseFloat);\n                return {\n                    matrix: matrix,\n                    origin: origin\n                };\n            }\n        }\n        function radiansToDegrees(radians) {\n            return 180 * radians / Math.PI % 360;\n        }\n        function parseAngle(angle) {\n            var num = parseFloat(angle);\n            if (/grad$/.test(angle)) {\n                return Math.PI * num / 200;\n            } else if (/rad$/.test(angle)) {\n                return num;\n            } else if (/turn$/.test(angle)) {\n                return Math.PI * num * 2;\n            } else if (/deg$/.test(angle)) {\n                return Math.PI * num / 180;\n            }\n        }\n        function setTransform(shape, m) {\n            m = new geo.Matrix(m[0], m[1], m[2], m[3], m[4], m[5]);\n            shape.transform(m);\n            return m;\n        }\n        function setClipping(shape, clipPath) {\n            shape.clip(clipPath);\n        }\n        function addArcToPath(path, x, y, options) {\n            var points = new geo.Arc([\n                    x,\n                    y\n                ], options).curvePoints(), i = 1;\n            while (i < points.length) {\n                path.curveTo(points[i++], points[i++], points[i++]);\n            }\n        }\n        function sanitizeRadius(r) {\n            if (r.x <= 0 || r.y <= 0) {\n                r.x = r.y = 0;\n            }\n            return r;\n        }\n        function adjustBorderRadiusForBox(box, rTL, rTR, rBR, rBL) {\n            var tl_x = Math.max(0, rTL.x), tl_y = Math.max(0, rTL.y);\n            var tr_x = Math.max(0, rTR.x), tr_y = Math.max(0, rTR.y);\n            var br_x = Math.max(0, rBR.x), br_y = Math.max(0, rBR.y);\n            var bl_x = Math.max(0, rBL.x), bl_y = Math.max(0, rBL.y);\n            var f = Math.min(box.width / (tl_x + tr_x), box.height / (tr_y + br_y), box.width / (br_x + bl_x), box.height / (bl_y + tl_y));\n            if (f < 1) {\n                tl_x *= f;\n                tl_y *= f;\n                tr_x *= f;\n                tr_y *= f;\n                br_x *= f;\n                br_y *= f;\n                bl_x *= f;\n                bl_y *= f;\n            }\n            return {\n                tl: {\n                    x: tl_x,\n                    y: tl_y\n                },\n                tr: {\n                    x: tr_x,\n                    y: tr_y\n                },\n                br: {\n                    x: br_x,\n                    y: br_y\n                },\n                bl: {\n                    x: bl_x,\n                    y: bl_y\n                }\n            };\n        }\n        function elementRoundBox(element, box, type) {\n            var style = getComputedStyle(element);\n            var rTL = getBorderRadius(style, 'top-left');\n            var rTR = getBorderRadius(style, 'top-right');\n            var rBL = getBorderRadius(style, 'bottom-left');\n            var rBR = getBorderRadius(style, 'bottom-right');\n            if (type == 'padding' || type == 'content') {\n                var bt = getBorder(style, 'top');\n                var br = getBorder(style, 'right');\n                var bb = getBorder(style, 'bottom');\n                var bl = getBorder(style, 'left');\n                rTL.x -= bl.width;\n                rTL.y -= bt.width;\n                rTR.x -= br.width;\n                rTR.y -= bt.width;\n                rBR.x -= br.width;\n                rBR.y -= bb.width;\n                rBL.x -= bl.width;\n                rBL.y -= bb.width;\n                if (type == 'content') {\n                    var pt = parseFloat(getPropertyValue(style, 'padding-top'));\n                    var pr = parseFloat(getPropertyValue(style, 'padding-right'));\n                    var pb = parseFloat(getPropertyValue(style, 'padding-bottom'));\n                    var pl = parseFloat(getPropertyValue(style, 'padding-left'));\n                    rTL.x -= pl;\n                    rTL.y -= pt;\n                    rTR.x -= pr;\n                    rTR.y -= pt;\n                    rBR.x -= pr;\n                    rBR.y -= pb;\n                    rBL.x -= pl;\n                    rBL.y -= pb;\n                }\n            }\n            if (typeof type == 'number') {\n                rTL.x -= type;\n                rTL.y -= type;\n                rTR.x -= type;\n                rTR.y -= type;\n                rBR.x -= type;\n                rBR.y -= type;\n                rBL.x -= type;\n                rBL.y -= type;\n            }\n            return roundBox(box, rTL, rTR, rBR, rBL);\n        }\n        function roundBox(box, rTL0, rTR0, rBR0, rBL0) {\n            var tmp = adjustBorderRadiusForBox(box, rTL0, rTR0, rBR0, rBL0);\n            var rTL = tmp.tl;\n            var rTR = tmp.tr;\n            var rBR = tmp.br;\n            var rBL = tmp.bl;\n            var path = new drawing.Path({\n                fill: null,\n                stroke: null\n            });\n            path.moveTo(box.left, box.top + rTL.y);\n            if (rTL.x) {\n                addArcToPath(path, box.left + rTL.x, box.top + rTL.y, {\n                    startAngle: -180,\n                    endAngle: -90,\n                    radiusX: rTL.x,\n                    radiusY: rTL.y\n                });\n            }\n            path.lineTo(box.right - rTR.x, box.top);\n            if (rTR.x) {\n                addArcToPath(path, box.right - rTR.x, box.top + rTR.y, {\n                    startAngle: -90,\n                    endAngle: 0,\n                    radiusX: rTR.x,\n                    radiusY: rTR.y\n                });\n            }\n            path.lineTo(box.right, box.bottom - rBR.y);\n            if (rBR.x) {\n                addArcToPath(path, box.right - rBR.x, box.bottom - rBR.y, {\n                    startAngle: 0,\n                    endAngle: 90,\n                    radiusX: rBR.x,\n                    radiusY: rBR.y\n                });\n            }\n            path.lineTo(box.left + rBL.x, box.bottom);\n            if (rBL.x) {\n                addArcToPath(path, box.left + rBL.x, box.bottom - rBL.y, {\n                    startAngle: 90,\n                    endAngle: 180,\n                    radiusX: rBL.x,\n                    radiusY: rBL.y\n                });\n            }\n            return path.close();\n        }\n        function formatCounter(val, style) {\n            var str = parseFloat(val) + '';\n            switch (style) {\n            case 'decimal-leading-zero':\n                if (str.length < 2) {\n                    str = '0' + str;\n                }\n                return str;\n            case 'lower-roman':\n                return romanNumeral(val).toLowerCase();\n            case 'upper-roman':\n                return romanNumeral(val).toUpperCase();\n            case 'lower-latin':\n            case 'lower-alpha':\n                return alphaNumeral(val - 1);\n            case 'upper-latin':\n            case 'upper-alpha':\n                return alphaNumeral(val - 1).toUpperCase();\n            default:\n                return str;\n            }\n        }\n        function evalPseudoElementContent(element, content) {\n            function displayCounter(name, style, separator) {\n                if (!separator) {\n                    return formatCounter(getCounter(name) || 0, style);\n                }\n                separator = separator.replace(/^\\s*([\"'])(.*)\\1\\s*$/, '$2');\n                return getAllCounters(name).map(function (val) {\n                    return formatCounter(val, style);\n                }).join(separator);\n            }\n            var a = splitProperty(content, /^\\s+/);\n            var result = [], m;\n            a.forEach(function (el) {\n                var tmp;\n                if (m = /^\\s*([\"'])(.*)\\1\\s*$/.exec(el)) {\n                    result.push(m[2].replace(/\\\\([0-9a-f]{4})/gi, function (s, p) {\n                        return String.fromCharCode(parseInt(p, 16));\n                    }));\n                } else if (m = /^\\s*counter\\((.*?)\\)\\s*$/.exec(el)) {\n                    tmp = splitProperty(m[1]);\n                    result.push(displayCounter(tmp[0], tmp[1]));\n                } else if (m = /^\\s*counters\\((.*?)\\)\\s*$/.exec(el)) {\n                    tmp = splitProperty(m[1]);\n                    result.push(displayCounter(tmp[0], tmp[2], tmp[1]));\n                } else if (m = /^\\s*attr\\((.*?)\\)\\s*$/.exec(el)) {\n                    result.push(element.getAttribute(m[1]) || '');\n                } else {\n                    result.push(el);\n                }\n            });\n            return result.join('');\n        }\n        function getCssText(style) {\n            if (style.cssText) {\n                return style.cssText;\n            }\n            var result = [];\n            for (var i = 0; i < style.length; ++i) {\n                result.push(style[i] + ': ' + getPropertyValue(style, style[i]));\n            }\n            return result.join(';\\n');\n        }\n        function _renderWithPseudoElements(element, group) {\n            if (element.tagName == KENDO_PSEUDO_ELEMENT) {\n                _renderElement(element, group);\n                return;\n            }\n            var fake = [];\n            function pseudo(kind, place) {\n                var style = getComputedStyle(element, kind);\n                if (style.content && style.content != 'normal' && style.content != 'none' && style.width != '0px') {\n                    var psel = element.ownerDocument.createElement(KENDO_PSEUDO_ELEMENT);\n                    psel.style.cssText = getCssText(style);\n                    psel.textContent = evalPseudoElementContent(element, style.content);\n                    element.insertBefore(psel, place);\n                    fake.push(psel);\n                }\n            }\n            pseudo(':before', element.firstChild);\n            pseudo(':after', null);\n            var saveClass = element.className;\n            element.className += ' kendo-pdf-hide-pseudo-elements';\n            _renderElement(element, group);\n            element.className = saveClass;\n            fake.forEach(function (el) {\n                element.removeChild(el);\n            });\n        }\n        function _renderElement(element, group) {\n            var style = getComputedStyle(element);\n            var top = getBorder(style, 'top');\n            var right = getBorder(style, 'right');\n            var bottom = getBorder(style, 'bottom');\n            var left = getBorder(style, 'left');\n            var rTL0 = getBorderRadius(style, 'top-left');\n            var rTR0 = getBorderRadius(style, 'top-right');\n            var rBL0 = getBorderRadius(style, 'bottom-left');\n            var rBR0 = getBorderRadius(style, 'bottom-right');\n            var dir = getPropertyValue(style, 'direction');\n            var backgroundColor = getPropertyValue(style, 'background-color');\n            backgroundColor = parseColor(backgroundColor);\n            var backgroundImage = parseBackgroundImage(getPropertyValue(style, 'background-image'));\n            var backgroundRepeat = splitProperty(getPropertyValue(style, 'background-repeat'));\n            var backgroundPosition = splitProperty(getPropertyValue(style, 'background-position'));\n            var backgroundOrigin = splitProperty(getPropertyValue(style, 'background-origin'));\n            var backgroundSize = splitProperty(getPropertyValue(style, 'background-size'));\n            if (browser.msie && browser.version < 10) {\n                backgroundPosition = splitProperty(element.currentStyle.backgroundPosition);\n            }\n            var innerbox = innerBox(element.getBoundingClientRect(), 'border-*-width', element);\n            (function () {\n                var clip = getPropertyValue(style, 'clip');\n                var m = /^\\s*rect\\((.*)\\)\\s*$/.exec(clip);\n                if (m) {\n                    var a = m[1].split(/[ ,]+/g);\n                    var top = a[0] == 'auto' ? innerbox.top : parseFloat(a[0]) + innerbox.top;\n                    var right = a[1] == 'auto' ? innerbox.right : parseFloat(a[1]) + innerbox.left;\n                    var bottom = a[2] == 'auto' ? innerbox.bottom : parseFloat(a[2]) + innerbox.top;\n                    var left = a[3] == 'auto' ? innerbox.left : parseFloat(a[3]) + innerbox.left;\n                    var tmp = new drawing.Group();\n                    var clipPath = new drawing.Path().moveTo(left, top).lineTo(right, top).lineTo(right, bottom).lineTo(left, bottom).close();\n                    setClipping(tmp, clipPath);\n                    group.append(tmp);\n                    group = tmp;\n                    updateClipbox(clipPath);\n                }\n            }());\n            var boxes, i, cells;\n            var display = getPropertyValue(style, 'display');\n            if (display == 'table-row') {\n                boxes = [];\n                for (i = 0, cells = element.children; i < cells.length; ++i) {\n                    boxes.push(cells[i].getBoundingClientRect());\n                }\n            } else {\n                boxes = element.getClientRects();\n                if (boxes.length == 1) {\n                    boxes = [element.getBoundingClientRect()];\n                }\n            }\n            boxes = adjustBoxes(boxes);\n            for (i = 0; i < boxes.length; ++i) {\n                drawOneBox(boxes[i], i === 0, i == boxes.length - 1);\n            }\n            if (boxes.length > 0 && display == 'list-item') {\n                drawBullet(boxes[0]);\n            }\n            (function () {\n                function clipit() {\n                    var clipPath = elementRoundBox(element, innerbox, 'padding');\n                    var tmp = new drawing.Group();\n                    setClipping(tmp, clipPath);\n                    group.append(tmp);\n                    group = tmp;\n                    updateClipbox(clipPath);\n                }\n                if (isFormField(element)) {\n                    clipit();\n                } else if (/^(hidden|auto|scroll)/.test(getPropertyValue(style, 'overflow'))) {\n                    clipit();\n                } else if (/^(hidden|auto|scroll)/.test(getPropertyValue(style, 'overflow-x'))) {\n                    clipit();\n                } else if (/^(hidden|auto|scroll)/.test(getPropertyValue(style, 'overflow-y'))) {\n                    clipit();\n                }\n            }());\n            if (!maybeRenderWidget(element, group)) {\n                renderContents(element, group);\n            }\n            return group;\n            function adjustBoxes(boxes) {\n                if (/^td$/i.test(element.tagName)) {\n                    var table = nodeInfo.table;\n                    if (table && getPropertyValue(table.style, 'border-collapse') == 'collapse') {\n                        var tableBorderLeft = getBorder(table.style, 'left').width;\n                        var tableBorderTop = getBorder(table.style, 'top').width;\n                        if (tableBorderLeft === 0 && tableBorderTop === 0) {\n                            return boxes;\n                        }\n                        var tableBox = table.element.getBoundingClientRect();\n                        var firstCell = table.element.rows[0].cells[0];\n                        var firstCellBox = firstCell.getBoundingClientRect();\n                        if (firstCellBox.top == tableBox.top || firstCellBox.left == tableBox.left) {\n                            return slice.call(boxes).map(function (box) {\n                                return {\n                                    left: box.left + tableBorderLeft,\n                                    top: box.top + tableBorderTop,\n                                    right: box.right + tableBorderLeft,\n                                    bottom: box.bottom + tableBorderTop,\n                                    height: box.height,\n                                    width: box.width\n                                };\n                            });\n                        }\n                    }\n                }\n                return boxes;\n            }\n            function drawEdge(color, len, Wtop, Wleft, Wright, rl, rr, transform) {\n                if (Wtop <= 0) {\n                    return;\n                }\n                var path, edge = new drawing.Group();\n                setTransform(edge, transform);\n                group.append(edge);\n                sanitizeRadius(rl);\n                sanitizeRadius(rr);\n                path = new drawing.Path({\n                    fill: { color: color },\n                    stroke: null\n                });\n                edge.append(path);\n                path.moveTo(rl.x ? Math.max(rl.x, Wleft) : 0, 0).lineTo(len - (rr.x ? Math.max(rr.x, Wright) : 0), 0).lineTo(len - Math.max(rr.x, Wright), Wtop).lineTo(Math.max(rl.x, Wleft), Wtop).close();\n                if (rl.x) {\n                    drawRoundCorner(Wleft, rl, [\n                        -1,\n                        0,\n                        0,\n                        1,\n                        rl.x,\n                        0\n                    ]);\n                }\n                if (rr.x) {\n                    drawRoundCorner(Wright, rr, [\n                        1,\n                        0,\n                        0,\n                        1,\n                        len - rr.x,\n                        0\n                    ]);\n                }\n                function drawRoundCorner(Wright, r, transform) {\n                    var angle = Math.PI / 2 * Wright / (Wright + Wtop);\n                    var ri = {\n                        x: r.x - Wright,\n                        y: r.y - Wtop\n                    };\n                    var path = new drawing.Path({\n                        fill: { color: color },\n                        stroke: null\n                    }).moveTo(0, 0);\n                    setTransform(path, transform);\n                    addArcToPath(path, 0, r.y, {\n                        startAngle: -90,\n                        endAngle: -radiansToDegrees(angle),\n                        radiusX: r.x,\n                        radiusY: r.y\n                    });\n                    if (ri.x > 0 && ri.y > 0) {\n                        path.lineTo(ri.x * Math.cos(angle), r.y - ri.y * Math.sin(angle));\n                        addArcToPath(path, 0, r.y, {\n                            startAngle: -radiansToDegrees(angle),\n                            endAngle: -90,\n                            radiusX: ri.x,\n                            radiusY: ri.y,\n                            anticlockwise: true\n                        });\n                    } else if (ri.x > 0) {\n                        path.lineTo(ri.x, Wtop).lineTo(0, Wtop);\n                    } else {\n                        path.lineTo(ri.x, Wtop).lineTo(ri.x, 0);\n                    }\n                    edge.append(path.close());\n                }\n            }\n            function drawBackground(box) {\n                var background = new drawing.Group();\n                setClipping(background, roundBox(box, rTL0, rTR0, rBR0, rBL0));\n                group.append(background);\n                if (element.tagName == 'A' && element.href && !/^#?$/.test($(element).attr('href'))) {\n                    if (!nodeInfo._avoidLinks || !$(element).is(nodeInfo._avoidLinks)) {\n                        background._pdfLink = {\n                            url: element.href,\n                            top: box.top,\n                            right: box.right,\n                            bottom: box.bottom,\n                            left: box.left\n                        };\n                    }\n                }\n                if (backgroundColor) {\n                    var path = new drawing.Path({\n                        fill: { color: backgroundColor.toCssRgba() },\n                        stroke: null\n                    });\n                    path.moveTo(box.left, box.top).lineTo(box.right, box.top).lineTo(box.right, box.bottom).lineTo(box.left, box.bottom).close();\n                    background.append(path);\n                }\n                for (var i = backgroundImage.length; --i >= 0;) {\n                    drawOneBackground(background, box, backgroundImage[i], backgroundRepeat[i % backgroundRepeat.length], backgroundPosition[i % backgroundPosition.length], backgroundOrigin[i % backgroundOrigin.length], backgroundSize[i % backgroundSize.length]);\n                }\n            }\n            function drawOneBackground(group, box, background, backgroundRepeat, backgroundPosition, backgroundOrigin, backgroundSize) {\n                if (!background || background == 'none') {\n                    return;\n                }\n                if (background.type == 'url') {\n                    if (/^url\\(\\\"data:image\\/svg/i.test(background.url)) {\n                        return;\n                    }\n                    var img = IMAGE_CACHE[background.url];\n                    if (img && img.width > 0 && img.height > 0) {\n                        drawBackgroundImage(group, box, img.width, img.height, function (group, rect) {\n                            group.append(new drawing.Image(background.url, rect));\n                        });\n                    }\n                } else if (background.type == 'linear') {\n                    drawBackgroundImage(group, box, box.width, box.height, gradientRenderer(background));\n                } else {\n                    return;\n                }\n                function drawBackgroundImage(group, box, img_width, img_height, renderBG) {\n                    var aspect_ratio = img_width / img_height, f;\n                    var orgBox = box;\n                    if (backgroundOrigin == 'content-box') {\n                        orgBox = innerBox(orgBox, 'border-*-width', element);\n                        orgBox = innerBox(orgBox, 'padding-*', element);\n                    } else if (backgroundOrigin == 'padding-box') {\n                        orgBox = innerBox(orgBox, 'border-*-width', element);\n                    }\n                    if (!/^\\s*auto(\\s+auto)?\\s*$/.test(backgroundSize)) {\n                        if (backgroundSize == 'contain') {\n                            f = Math.min(orgBox.width / img_width, orgBox.height / img_height);\n                            img_width *= f;\n                            img_height *= f;\n                        } else if (backgroundSize == 'cover') {\n                            f = Math.max(orgBox.width / img_width, orgBox.height / img_height);\n                            img_width *= f;\n                            img_height *= f;\n                        } else {\n                            var size = backgroundSize.split(/\\s+/g);\n                            if (/%$/.test(size[0])) {\n                                img_width = orgBox.width * parseFloat(size[0]) / 100;\n                            } else {\n                                img_width = parseFloat(size[0]);\n                            }\n                            if (size.length == 1 || size[1] == 'auto') {\n                                img_height = img_width / aspect_ratio;\n                            } else if (/%$/.test(size[1])) {\n                                img_height = orgBox.height * parseFloat(size[1]) / 100;\n                            } else {\n                                img_height = parseFloat(size[1]);\n                            }\n                        }\n                    }\n                    var pos = (backgroundPosition + '').split(/\\s+/);\n                    if (pos.length == 1) {\n                        pos[1] = '50%';\n                    }\n                    if (/%$/.test(pos[0])) {\n                        pos[0] = parseFloat(pos[0]) / 100 * (orgBox.width - img_width);\n                    } else {\n                        pos[0] = parseFloat(pos[0]);\n                    }\n                    if (/%$/.test(pos[1])) {\n                        pos[1] = parseFloat(pos[1]) / 100 * (orgBox.height - img_height);\n                    } else {\n                        pos[1] = parseFloat(pos[1]);\n                    }\n                    var rect = new geo.Rect([\n                        orgBox.left + pos[0],\n                        orgBox.top + pos[1]\n                    ], [\n                        img_width,\n                        img_height\n                    ]);\n                    function rewX() {\n                        while (rect.origin.x > box.left) {\n                            rect.origin.x -= img_width;\n                        }\n                    }\n                    function rewY() {\n                        while (rect.origin.y > box.top) {\n                            rect.origin.y -= img_height;\n                        }\n                    }\n                    function repeatX() {\n                        while (rect.origin.x < box.right) {\n                            renderBG(group, rect.clone());\n                            rect.origin.x += img_width;\n                        }\n                    }\n                    if (backgroundRepeat == 'no-repeat') {\n                        renderBG(group, rect);\n                    } else if (backgroundRepeat == 'repeat-x') {\n                        rewX();\n                        repeatX();\n                    } else if (backgroundRepeat == 'repeat-y') {\n                        rewY();\n                        while (rect.origin.y < box.bottom) {\n                            renderBG(group, rect.clone());\n                            rect.origin.y += img_height;\n                        }\n                    } else if (backgroundRepeat == 'repeat') {\n                        rewX();\n                        rewY();\n                        var origin = rect.origin.clone();\n                        while (rect.origin.y < box.bottom) {\n                            rect.origin.x = origin.x;\n                            repeatX();\n                            rect.origin.y += img_height;\n                        }\n                    }\n                }\n            }\n            function drawBullet() {\n                var listStyleType = getPropertyValue(style, 'list-style-type');\n                if (listStyleType == 'none') {\n                    return;\n                }\n                var listStylePosition = getPropertyValue(style, 'list-style-position');\n                function _drawBullet(f) {\n                    saveStyle(element, function () {\n                        element.style.position = 'relative';\n                        var bullet = element.ownerDocument.createElement(KENDO_PSEUDO_ELEMENT);\n                        bullet.style.position = 'absolute';\n                        bullet.style.boxSizing = 'border-box';\n                        if (listStylePosition == 'outside') {\n                            bullet.style.width = '6em';\n                            bullet.style.left = '-6.8em';\n                            bullet.style.textAlign = 'right';\n                        } else {\n                            bullet.style.left = '0px';\n                        }\n                        f(bullet);\n                        element.insertBefore(bullet, element.firstChild);\n                        renderElement(bullet, group);\n                        element.removeChild(bullet);\n                    });\n                }\n                function elementIndex(f) {\n                    var a = element.parentNode.children;\n                    var k = element.getAttribute('kendo-split-index');\n                    if (k != null) {\n                        return f(k | 0, a.length);\n                    }\n                    for (var i = 0; i < a.length; ++i) {\n                        if (a[i] === element) {\n                            return f(i, a.length);\n                        }\n                    }\n                }\n                switch (listStyleType) {\n                case 'circle':\n                case 'disc':\n                case 'square':\n                    _drawBullet(function (bullet) {\n                        bullet.style.fontSize = '60%';\n                        bullet.style.lineHeight = '200%';\n                        bullet.style.paddingRight = '0.5em';\n                        bullet.style.fontFamily = 'DejaVu Serif';\n                        bullet.innerHTML = {\n                            'disc': '\\u25CF',\n                            'circle': '\\u25EF',\n                            'square': '\\u25A0'\n                        }[listStyleType];\n                    });\n                    break;\n                case 'decimal':\n                case 'decimal-leading-zero':\n                    _drawBullet(function (bullet) {\n                        elementIndex(function (idx) {\n                            ++idx;\n                            if (listStyleType == 'decimal-leading-zero' && (idx + '').length < 2) {\n                                idx = '0' + idx;\n                            }\n                            bullet.innerHTML = idx + '.';\n                        });\n                    });\n                    break;\n                case 'lower-roman':\n                case 'upper-roman':\n                    _drawBullet(function (bullet) {\n                        elementIndex(function (idx) {\n                            idx = romanNumeral(idx + 1);\n                            if (listStyleType == 'upper-roman') {\n                                idx = idx.toUpperCase();\n                            }\n                            bullet.innerHTML = idx + '.';\n                        });\n                    });\n                    break;\n                case 'lower-latin':\n                case 'lower-alpha':\n                case 'upper-latin':\n                case 'upper-alpha':\n                    _drawBullet(function (bullet) {\n                        elementIndex(function (idx) {\n                            idx = alphaNumeral(idx);\n                            if (/^upper/i.test(listStyleType)) {\n                                idx = idx.toUpperCase();\n                            }\n                            bullet.innerHTML = idx + '.';\n                        });\n                    });\n                    break;\n                }\n            }\n            function drawOneBox(box, isFirst, isLast) {\n                if (box.width === 0 || box.height === 0) {\n                    return;\n                }\n                drawBackground(box);\n                var shouldDrawLeft = left.width > 0 && (isFirst && dir == 'ltr' || isLast && dir == 'rtl');\n                var shouldDrawRight = right.width > 0 && (isLast && dir == 'ltr' || isFirst && dir == 'rtl');\n                if (top.width === 0 && left.width === 0 && right.width === 0 && bottom.width === 0) {\n                    return;\n                }\n                if (true) {\n                    if (top.color == right.color && top.color == bottom.color && top.color == left.color) {\n                        if (top.width == right.width && top.width == bottom.width && top.width == left.width) {\n                            if (shouldDrawLeft && shouldDrawRight) {\n                                box = innerBox(box, top.width / 2);\n                                var path = elementRoundBox(element, box, top.width / 2);\n                                path.options.stroke = {\n                                    color: top.color,\n                                    width: top.width\n                                };\n                                group.append(path);\n                                return;\n                            }\n                        }\n                    }\n                    if (rTL0.x === 0 && rTR0.x === 0 && rBR0.x === 0 && rBL0.x === 0) {\n                        if (top.width < 2 && left.width < 2 && right.width < 2 && bottom.width < 2) {\n                            if (top.width > 0) {\n                                group.append(new drawing.Path({\n                                    stroke: {\n                                        width: top.width,\n                                        color: top.color\n                                    }\n                                }).moveTo(box.left, box.top + top.width / 2).lineTo(box.right, box.top + top.width / 2));\n                            }\n                            if (bottom.width > 0) {\n                                group.append(new drawing.Path({\n                                    stroke: {\n                                        width: bottom.width,\n                                        color: bottom.color\n                                    }\n                                }).moveTo(box.left, box.bottom - bottom.width / 2).lineTo(box.right, box.bottom - bottom.width / 2));\n                            }\n                            if (shouldDrawLeft) {\n                                group.append(new drawing.Path({\n                                    stroke: {\n                                        width: left.width,\n                                        color: left.color\n                                    }\n                                }).moveTo(box.left + left.width / 2, box.top).lineTo(box.left + left.width / 2, box.bottom));\n                            }\n                            if (shouldDrawRight) {\n                                group.append(new drawing.Path({\n                                    stroke: {\n                                        width: right.width,\n                                        color: right.color\n                                    }\n                                }).moveTo(box.right - right.width / 2, box.top).lineTo(box.right - right.width / 2, box.bottom));\n                            }\n                            return;\n                        }\n                    }\n                }\n                var tmp = adjustBorderRadiusForBox(box, rTL0, rTR0, rBR0, rBL0);\n                var rTL = tmp.tl;\n                var rTR = tmp.tr;\n                var rBR = tmp.br;\n                var rBL = tmp.bl;\n                drawEdge(top.color, box.width, top.width, left.width, right.width, rTL, rTR, [\n                    1,\n                    0,\n                    0,\n                    1,\n                    box.left,\n                    box.top\n                ]);\n                drawEdge(bottom.color, box.width, bottom.width, right.width, left.width, rBR, rBL, [\n                    -1,\n                    0,\n                    0,\n                    -1,\n                    box.right,\n                    box.bottom\n                ]);\n                function inv(p) {\n                    return {\n                        x: p.y,\n                        y: p.x\n                    };\n                }\n                drawEdge(left.color, box.height, left.width, bottom.width, top.width, inv(rBL), inv(rTL), [\n                    0,\n                    -1,\n                    1,\n                    0,\n                    box.left,\n                    box.bottom\n                ]);\n                drawEdge(right.color, box.height, right.width, top.width, bottom.width, inv(rTR), inv(rBR), [\n                    0,\n                    1,\n                    -1,\n                    0,\n                    box.right,\n                    box.top\n                ]);\n            }\n        }\n        function gradientRenderer(gradient) {\n            return function (group, rect) {\n                var width = rect.width(), height = rect.height();\n                switch (gradient.type) {\n                case 'linear':\n                    var angle = gradient.angle != null ? gradient.angle : Math.PI;\n                    switch (gradient.to) {\n                    case 'top':\n                        angle = 0;\n                        break;\n                    case 'left':\n                        angle = -Math.PI / 2;\n                        break;\n                    case 'bottom':\n                        angle = Math.PI;\n                        break;\n                    case 'right':\n                        angle = Math.PI / 2;\n                        break;\n                    case 'top left':\n                    case 'left top':\n                        angle = -Math.atan2(height, width);\n                        break;\n                    case 'top right':\n                    case 'right top':\n                        angle = Math.atan2(height, width);\n                        break;\n                    case 'bottom left':\n                    case 'left bottom':\n                        angle = Math.PI + Math.atan2(height, width);\n                        break;\n                    case 'bottom right':\n                    case 'right bottom':\n                        angle = Math.PI - Math.atan2(height, width);\n                        break;\n                    }\n                    if (gradient.reverse) {\n                        angle -= Math.PI;\n                    }\n                    angle %= 2 * Math.PI;\n                    if (angle < 0) {\n                        angle += 2 * Math.PI;\n                    }\n                    var pxlen = Math.abs(width * Math.sin(angle)) + Math.abs(height * Math.cos(angle));\n                    var scaledAngle = Math.atan(width * Math.tan(angle) / height);\n                    var sin = Math.sin(scaledAngle), cos = Math.cos(scaledAngle);\n                    var len = Math.abs(sin) + Math.abs(cos);\n                    var x = len / 2 * sin;\n                    var y = len / 2 * cos;\n                    if (angle > Math.PI / 2 && angle <= 3 * Math.PI / 2) {\n                        x = -x;\n                        y = -y;\n                    }\n                    var implicit = [], right = 0;\n                    var stops = gradient.stops.map(function (s, i) {\n                        var offset = s.percent;\n                        if (offset) {\n                            offset = parseFloat(offset) / 100;\n                        } else if (s.length) {\n                            offset = parseFloat(s.length) / pxlen;\n                        } else if (i === 0) {\n                            offset = 0;\n                        } else if (i == gradient.stops.length - 1) {\n                            offset = 1;\n                        }\n                        var stop = {\n                            color: s.color.toCssRgba(),\n                            offset: offset\n                        };\n                        if (offset != null) {\n                            right = offset;\n                            implicit.forEach(function (s, i) {\n                                var stop = s.stop;\n                                stop.offset = s.left + (right - s.left) * (i + 1) / (implicit.length + 1);\n                            });\n                            implicit = [];\n                        } else {\n                            implicit.push({\n                                left: right,\n                                stop: stop\n                            });\n                        }\n                        return stop;\n                    });\n                    var start = [\n                        0.5 - x,\n                        0.5 + y\n                    ];\n                    var end = [\n                        0.5 + x,\n                        0.5 - y\n                    ];\n                    group.append(drawing.Path.fromRect(rect).stroke(null).fill(new drawing.LinearGradient({\n                        start: start,\n                        end: end,\n                        stops: stops,\n                        userSpace: false\n                    })));\n                    break;\n                case 'radial':\n                    if (window.console && window.console.log) {\n                        window.console.log('Radial gradients are not yet supported in HTML renderer');\n                    }\n                    break;\n                }\n            };\n        }\n        function maybeRenderWidget(element, group) {\n            if (element.getAttribute(kendo.attr('role'))) {\n                var widget = kendo.widgetInstance($(element));\n                if (widget && (widget.exportDOMVisual || widget.exportVisual)) {\n                    var visual;\n                    if (widget.exportDOMVisual) {\n                        visual = widget.exportDOMVisual();\n                    } else {\n                        visual = widget.exportVisual();\n                    }\n                    if (!visual) {\n                        return false;\n                    }\n                    var wrap = new drawing.Group();\n                    wrap.children.push(visual);\n                    var bbox = element.getBoundingClientRect();\n                    wrap.transform(geo.transform().translate(bbox.left, bbox.top));\n                    group.append(wrap);\n                    return true;\n                }\n            }\n        }\n        function renderImage(element, url, group) {\n            var box = getContentBox(element);\n            var rect = new geo.Rect([\n                box.left,\n                box.top\n            ], [\n                box.width,\n                box.height\n            ]);\n            var image = new drawing.Image(url, rect);\n            setClipping(image, elementRoundBox(element, box, 'content'));\n            group.append(image);\n        }\n        function zIndexSort(a, b) {\n            var sa = getComputedStyle(a);\n            var sb = getComputedStyle(b);\n            var za = parseFloat(getPropertyValue(sa, 'z-index'));\n            var zb = parseFloat(getPropertyValue(sb, 'z-index'));\n            var pa = getPropertyValue(sa, 'position');\n            var pb = getPropertyValue(sb, 'position');\n            if (isNaN(za) && isNaN(zb)) {\n                if (/static|absolute/.test(pa) && /static|absolute/.test(pb)) {\n                    return 0;\n                }\n                if (pa == 'static') {\n                    return -1;\n                }\n                if (pb == 'static') {\n                    return 1;\n                }\n                return 0;\n            }\n            if (isNaN(za)) {\n                return zb === 0 ? 0 : zb > 0 ? -1 : 1;\n            }\n            if (isNaN(zb)) {\n                return za === 0 ? 0 : za > 0 ? 1 : -1;\n            }\n            return parseFloat(za) - parseFloat(zb);\n        }\n        function isFormField(element) {\n            return /^(?:textarea|select|input)$/i.test(element.tagName);\n        }\n        function getSelectedOption(element) {\n            if (element.selectedOptions && element.selectedOptions.length > 0) {\n                return element.selectedOptions[0];\n            }\n            return element.options[element.selectedIndex];\n        }\n        function renderCheckbox(element, group) {\n            var style = getComputedStyle(element);\n            var color = getPropertyValue(style, 'color');\n            var box = element.getBoundingClientRect();\n            if (element.type == 'checkbox') {\n                group.append(drawing.Path.fromRect(new geo.Rect([\n                    box.left + 1,\n                    box.top + 1\n                ], [\n                    box.width - 2,\n                    box.height - 2\n                ])).stroke(color, 1));\n                if (element.checked) {\n                    group.append(new drawing.Path().stroke(color, 1.2).moveTo(box.left + 0.22 * box.width, box.top + 0.55 * box.height).lineTo(box.left + 0.45 * box.width, box.top + 0.75 * box.height).lineTo(box.left + 0.78 * box.width, box.top + 0.22 * box.width));\n                }\n            } else {\n                group.append(new drawing.Circle(new geo.Circle([\n                    (box.left + box.right) / 2,\n                    (box.top + box.bottom) / 2\n                ], Math.min(box.width - 2, box.height - 2) / 2)).stroke(color, 1));\n                if (element.checked) {\n                    group.append(new drawing.Circle(new geo.Circle([\n                        (box.left + box.right) / 2,\n                        (box.top + box.bottom) / 2\n                    ], Math.min(box.width - 8, box.height - 8) / 2)).fill(color).stroke(null));\n                }\n            }\n        }\n        function renderFormField(element, group) {\n            var tag = element.tagName.toLowerCase();\n            if (tag == 'input' && (element.type == 'checkbox' || element.type == 'radio')) {\n                return renderCheckbox(element, group);\n            }\n            var p = element.parentNode;\n            var doc = element.ownerDocument;\n            var el = doc.createElement(KENDO_PSEUDO_ELEMENT);\n            var option;\n            el.style.cssText = getCssText(getComputedStyle(element));\n            if (tag == 'input') {\n                el.style.whiteSpace = 'pre';\n            }\n            if (tag == 'select' || tag == 'textarea') {\n                el.style.overflow = 'auto';\n            }\n            if (tag == 'select') {\n                if (element.multiple) {\n                    for (var i = 0; i < element.options.length; ++i) {\n                        option = doc.createElement(KENDO_PSEUDO_ELEMENT);\n                        option.style.cssText = getCssText(getComputedStyle(element.options[i]));\n                        option.style.display = 'block';\n                        option.textContent = element.options[i].textContent;\n                        el.appendChild(option);\n                    }\n                } else {\n                    option = getSelectedOption(element);\n                    if (option) {\n                        el.textContent = option.textContent;\n                    }\n                }\n            } else {\n                el.textContent = element.value;\n            }\n            p.insertBefore(el, element);\n            el.scrollLeft = element.scrollLeft;\n            el.scrollTop = element.scrollTop;\n            element.style.display = 'none';\n            renderContents(el, group);\n            element.style.display = '';\n            p.removeChild(el);\n        }\n        function renderContents(element, group) {\n            if (nodeInfo._stackingContext.element === element) {\n                nodeInfo._stackingContext.group = group;\n            }\n            switch (element.tagName.toLowerCase()) {\n            case 'img':\n                renderImage(element, element.src, group);\n                break;\n            case 'canvas':\n                try {\n                    renderImage(element, element.toDataURL('image/png'), group);\n                } catch (ex) {\n                }\n                break;\n            case 'textarea':\n            case 'input':\n            case 'select':\n                renderFormField(element, group);\n                break;\n            default:\n                var blocks = [], floats = [], inline = [], positioned = [];\n                for (var i = element.firstChild; i; i = i.nextSibling) {\n                    switch (i.nodeType) {\n                    case 3:\n                        if (/\\S/.test(i.data)) {\n                            renderText(element, i, group);\n                        }\n                        break;\n                    case 1:\n                        var style = getComputedStyle(i);\n                        var display = getPropertyValue(style, 'display');\n                        var floating = getPropertyValue(style, 'float');\n                        var position = getPropertyValue(style, 'position');\n                        if (position != 'static') {\n                            positioned.push(i);\n                        } else if (display != 'inline') {\n                            if (floating != 'none') {\n                                floats.push(i);\n                            } else {\n                                blocks.push(i);\n                            }\n                        } else {\n                            inline.push(i);\n                        }\n                        break;\n                    }\n                }\n                mergeSort(blocks, zIndexSort).forEach(function (el) {\n                    renderElement(el, group);\n                });\n                mergeSort(floats, zIndexSort).forEach(function (el) {\n                    renderElement(el, group);\n                });\n                mergeSort(inline, zIndexSort).forEach(function (el) {\n                    renderElement(el, group);\n                });\n                mergeSort(positioned, zIndexSort).forEach(function (el) {\n                    renderElement(el, group);\n                });\n            }\n        }\n        function renderText(element, node, group) {\n            if (emptyClipbox()) {\n                return;\n            }\n            var style = getComputedStyle(element);\n            if (parseFloat(getPropertyValue(style, 'text-indent')) < -500) {\n                return;\n            }\n            var text = node.data;\n            var start = 0;\n            var end = text.search(/\\S\\s*$/) + 1;\n            if (!end) {\n                return;\n            }\n            var fontSize = getPropertyValue(style, 'font-size');\n            var lineHeight = getPropertyValue(style, 'line-height');\n            var font = [\n                getPropertyValue(style, 'font-style'),\n                getPropertyValue(style, 'font-variant'),\n                getPropertyValue(style, 'font-weight'),\n                fontSize,\n                getPropertyValue(style, 'font-family')\n            ].join(' ');\n            fontSize = parseFloat(fontSize);\n            lineHeight = parseFloat(lineHeight);\n            if (fontSize === 0) {\n                return;\n            }\n            var color = getPropertyValue(style, 'color');\n            var range = element.ownerDocument.createRange();\n            var align = getPropertyValue(style, 'text-align');\n            var isJustified = align == 'justify';\n            var whiteSpace = getPropertyValue(style, 'white-space');\n            var textOverflow, saveTextOverflow;\n            if (browser.msie) {\n                textOverflow = style.textOverflow;\n                if (textOverflow == 'ellipsis') {\n                    saveTextOverflow = element.style.textOverflow;\n                    element.style.textOverflow = 'clip';\n                }\n            }\n            var estimateLineLength = element.getBoundingClientRect().width / fontSize * 5;\n            if (estimateLineLength === 0) {\n                estimateLineLength = 500;\n            }\n            var prevLineBottom = null;\n            while (!doChunk()) {\n            }\n            if (browser.msie && textOverflow == 'ellipsis') {\n                element.style.textOverflow = saveTextOverflow;\n            }\n            return;\n            function actuallyGetRangeBoundingRect(range) {\n                if (browser.msie || browser.chrome) {\n                    var rectangles = range.getClientRects(), box = {\n                            top: +Infinity,\n                            right: -Infinity,\n                            bottom: -Infinity,\n                            left: +Infinity\n                        };\n                    for (var i = 0; i < rectangles.length; ++i) {\n                        var b = rectangles[i];\n                        if (b.width <= 1 || b.bottom === prevLineBottom) {\n                            continue;\n                        }\n                        box.left = Math.min(b.left, box.left);\n                        box.top = Math.min(b.top, box.top);\n                        box.right = Math.max(b.right, box.right);\n                        box.bottom = Math.max(b.bottom, box.bottom);\n                    }\n                    box.width = box.right - box.left;\n                    box.height = box.bottom - box.top;\n                    return box;\n                }\n                return range.getBoundingClientRect();\n            }\n            function doChunk() {\n                var origStart = start;\n                var box, pos = text.substr(start).search(/\\S/);\n                start += pos;\n                if (pos < 0 || start >= end) {\n                    return true;\n                }\n                range.setStart(node, start);\n                range.setEnd(node, start + 1);\n                box = actuallyGetRangeBoundingRect(range);\n                var found = false;\n                if (isJustified) {\n                    pos = text.substr(start).search(/\\s/);\n                    if (pos >= 0) {\n                        range.setEnd(node, start + pos);\n                        var r = actuallyGetRangeBoundingRect(range);\n                        if (r.bottom == box.bottom) {\n                            box = r;\n                            found = true;\n                            start += pos;\n                        }\n                    }\n                }\n                if (!found) {\n                    pos = function findEOL(min, eol, max) {\n                        range.setEnd(node, eol);\n                        var r = actuallyGetRangeBoundingRect(range);\n                        if (r.bottom != box.bottom && min < eol) {\n                            return findEOL(min, min + eol >> 1, eol);\n                        } else if (r.right != box.right) {\n                            box = r;\n                            if (eol < max) {\n                                return findEOL(eol, eol + max >> 1, max);\n                            } else {\n                                return eol;\n                            }\n                        } else {\n                            return eol;\n                        }\n                    }(start, Math.min(end, start + estimateLineLength), end);\n                    if (pos == start) {\n                        return true;\n                    }\n                    start = pos;\n                    pos = range.toString().search(/\\s+$/);\n                    if (pos === 0) {\n                        return;\n                    }\n                    if (pos > 0) {\n                        range.setEnd(node, range.startOffset + pos);\n                        box = actuallyGetRangeBoundingRect(range);\n                    }\n                }\n                if (browser.msie) {\n                    box = range.getClientRects()[0];\n                }\n                var str = range.toString();\n                if (!/^(?:pre|pre-wrap)$/i.test(whiteSpace)) {\n                    str = str.replace(/\\s+/g, ' ');\n                } else if (/\\t/.test(str)) {\n                    var cc = 0;\n                    for (pos = origStart; pos < range.startOffset; ++pos) {\n                        var code = text.charCodeAt(pos);\n                        if (code == 9) {\n                            cc += 8 - cc % 8;\n                        } else if (code == 10 || code == 13) {\n                            cc = 0;\n                        } else {\n                            cc++;\n                        }\n                    }\n                    while ((pos = str.search('\\t')) >= 0) {\n                        var indent = '        '.substr(0, 8 - (cc + pos) % 8);\n                        str = str.substr(0, pos) + indent + str.substr(pos + 1);\n                    }\n                }\n                if (!found) {\n                    prevLineBottom = box.bottom;\n                }\n                drawText(str, box);\n            }\n            function drawText(str, box) {\n                if (browser.msie && !isNaN(lineHeight)) {\n                    var height = getFontHeight(font);\n                    var top = (box.top + box.bottom - height) / 2;\n                    box = {\n                        top: top,\n                        right: box.right,\n                        bottom: top + height,\n                        left: box.left,\n                        height: height,\n                        width: box.right - box.left\n                    };\n                }\n                var text = new TextRect(str, new geo.Rect([\n                    box.left,\n                    box.top\n                ], [\n                    box.width,\n                    box.height\n                ]), {\n                    font: font,\n                    fill: { color: color }\n                });\n                group.append(text);\n                decorate(box);\n            }\n            function decorate(box) {\n                line(nodeInfo['underline'], box.bottom);\n                line(nodeInfo['line-through'], box.bottom - box.height / 2.7);\n                line(nodeInfo['overline'], box.top);\n                function line(color, ypos) {\n                    if (color) {\n                        var width = fontSize / 12;\n                        var path = new drawing.Path({\n                            stroke: {\n                                width: width,\n                                color: color\n                            }\n                        });\n                        ypos -= width;\n                        path.moveTo(box.left, ypos).lineTo(box.right, ypos);\n                        group.append(path);\n                    }\n                }\n            }\n        }\n        function groupInStackingContext(element, group, zIndex) {\n            var main;\n            if (zIndex != 'auto') {\n                main = nodeInfo._stackingContext.group;\n                zIndex = parseFloat(zIndex);\n            } else {\n                main = group;\n                zIndex = 0;\n            }\n            var a = main.children;\n            for (var i = 0; i < a.length; ++i) {\n                if (a[i]._dom_zIndex != null && a[i]._dom_zIndex > zIndex) {\n                    break;\n                }\n            }\n            var tmp = new drawing.Group();\n            main.insertAt(tmp, i);\n            tmp._dom_zIndex = zIndex;\n            if (main !== group) {\n                if (nodeInfo._clipbox) {\n                    var m = nodeInfo._matrix.invert();\n                    var r = nodeInfo._clipbox.transformCopy(m);\n                    setClipping(tmp, drawing.Path.fromRect(r));\n                }\n            }\n            return tmp;\n        }\n        function renderElement(element, container) {\n            var style = getComputedStyle(element);\n            var counterReset = getPropertyValue(style, 'counter-reset');\n            if (counterReset) {\n                doCounters(splitProperty(counterReset, /^\\s+/), resetCounter, 0);\n            }\n            var counterIncrement = getPropertyValue(style, 'counter-increment');\n            if (counterIncrement) {\n                doCounters(splitProperty(counterIncrement, /^\\s+/), incCounter, 1);\n            }\n            if (/^(style|script|link|meta|iframe|svg|col|colgroup)$/i.test(element.tagName)) {\n                return;\n            }\n            if (nodeInfo._clipbox == null) {\n                return;\n            }\n            var opacity = parseFloat(getPropertyValue(style, 'opacity'));\n            var visibility = getPropertyValue(style, 'visibility');\n            var display = getPropertyValue(style, 'display');\n            if (opacity === 0 || visibility == 'hidden' || display == 'none') {\n                return;\n            }\n            var tr = getTransform(style);\n            var group;\n            var zIndex = getPropertyValue(style, 'z-index');\n            if ((tr || opacity < 1) && zIndex == 'auto') {\n                zIndex = 0;\n            }\n            group = groupInStackingContext(element, container, zIndex);\n            if (opacity < 1) {\n                group.opacity(opacity * group.opacity());\n            }\n            pushNodeInfo(element, style, group);\n            if (!tr) {\n                _renderWithPseudoElements(element, group);\n            } else {\n                saveStyle(element, function () {\n                    pleaseSetPropertyValue(element.style, 'transform', 'none', 'important');\n                    pleaseSetPropertyValue(element.style, 'transition', 'none', 'important');\n                    if (getPropertyValue(style, 'position') == 'static') {\n                        pleaseSetPropertyValue(element.style, 'position', 'relative', 'important');\n                    }\n                    var bbox = element.getBoundingClientRect();\n                    var x = bbox.left + tr.origin[0];\n                    var y = bbox.top + tr.origin[1];\n                    var m = [\n                        1,\n                        0,\n                        0,\n                        1,\n                        -x,\n                        -y\n                    ];\n                    m = mmul(m, tr.matrix);\n                    m = mmul(m, [\n                        1,\n                        0,\n                        0,\n                        1,\n                        x,\n                        y\n                    ]);\n                    m = setTransform(group, m);\n                    nodeInfo._matrix = nodeInfo._matrix.multiplyCopy(m);\n                    _renderWithPseudoElements(element, group);\n                });\n            }\n            popNodeInfo();\n        }\n        function mmul(a, b) {\n            var a1 = a[0], b1 = a[1], c1 = a[2], d1 = a[3], e1 = a[4], f1 = a[5];\n            var a2 = b[0], b2 = b[1], c2 = b[2], d2 = b[3], e2 = b[4], f2 = b[5];\n            return [\n                a1 * a2 + b1 * c2,\n                a1 * b2 + b1 * d2,\n                c1 * a2 + d1 * c2,\n                c1 * b2 + d1 * d2,\n                e1 * a2 + f1 * c2 + e2,\n                e1 * b2 + f1 * d2 + f2\n            ];\n        }\n    }(window.kendo.jQuery, parseFloat, Math));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/animation', [\n        'drawing/geometry',\n        'drawing/core'\n    ], f);\n}(function () {\n    (function ($) {\n        var noop = $.noop, kendo = window.kendo, Class = kendo.Class, util = kendo.util, animationFrame = kendo.animationFrame, deepExtend = kendo.deepExtend;\n        var Animation = Class.extend({\n            init: function (element, options) {\n                var anim = this;\n                anim.options = deepExtend({}, anim.options, options);\n                anim.element = element;\n            },\n            options: {\n                duration: 500,\n                easing: 'swing'\n            },\n            setup: noop,\n            step: noop,\n            play: function () {\n                var anim = this, options = anim.options, easing = $.easing[options.easing], duration = options.duration, delay = options.delay || 0, start = util.now() + delay, finish = start + duration;\n                if (duration === 0) {\n                    anim.step(1);\n                    anim.abort();\n                } else {\n                    setTimeout(function () {\n                        var loop = function () {\n                            if (anim._stopped) {\n                                return;\n                            }\n                            var wallTime = util.now();\n                            var time = util.limitValue(wallTime - start, 0, duration);\n                            var pos = time / duration;\n                            var easingPos = easing(pos, time, 0, 1, duration);\n                            anim.step(easingPos);\n                            if (wallTime < finish) {\n                                animationFrame(loop);\n                            } else {\n                                anim.abort();\n                            }\n                        };\n                        loop();\n                    }, delay);\n                }\n            },\n            abort: function () {\n                this._stopped = true;\n            },\n            destroy: function () {\n                this.abort();\n            }\n        });\n        var AnimationFactory = function () {\n            this._items = [];\n        };\n        AnimationFactory.prototype = {\n            register: function (name, type) {\n                this._items.push({\n                    name: name,\n                    type: type\n                });\n            },\n            create: function (element, options) {\n                var items = this._items;\n                var match;\n                if (options && options.type) {\n                    var type = options.type.toLowerCase();\n                    for (var i = 0; i < items.length; i++) {\n                        if (items[i].name.toLowerCase() === type) {\n                            match = items[i];\n                            break;\n                        }\n                    }\n                }\n                if (match) {\n                    return new match.type(element, options);\n                }\n            }\n        };\n        AnimationFactory.current = new AnimationFactory();\n        Animation.create = function (type, element, options) {\n            return AnimationFactory.current.create(type, element, options);\n        };\n        deepExtend(kendo.drawing, {\n            Animation: Animation,\n            AnimationFactory: AnimationFactory\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.drawing', [\n        'kendo.color',\n        'util/main',\n        'util/text-metrics',\n        'util/base64',\n        'mixins/observers',\n        'drawing/geometry',\n        'drawing/core',\n        'drawing/mixins',\n        'drawing/shapes',\n        'drawing/parser',\n        'drawing/search',\n        'drawing/svg',\n        'drawing/canvas',\n        'drawing/vml',\n        'drawing/html',\n        'drawing/animation'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'drawing',\n        name: 'Drawing API',\n        category: 'framework',\n        description: 'The Kendo UI low-level drawing API',\n        depends: [\n            'core',\n            'color',\n            'popup'\n        ]\n    };\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"],"sourceRoot":"/source/"}