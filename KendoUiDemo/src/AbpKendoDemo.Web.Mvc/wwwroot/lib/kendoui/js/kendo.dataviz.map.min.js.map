{"version":3,"sources":["kendo.dataviz.map.js"],"names":["f","define","defined","value","UNDEFINED","round","precision","power","pow","math","p","limitValue","min","max","rad","degrees","DEG_TO_RAD","deg","radians","isNumber","val","isNaN","valueOrDefault","defaultValue","sqr","objectKey","object","key","parts","push","sort","join","hashKey","str","i","hash","length","charCodeAt","hashObject","arrayLimits","arr","MAX_NUM","MIN_NUM","arrayMin","arrayMax","sparseArrayMin","sparseArrayLimits","sparseArrayMax","n","isFinite","undefined","last","array","append","first","second","apply","renderTemplate","text","kendo","template","useWithBlock","paramName","renderAttr","name","renderAllAttr","attrs","output","renderStyle","renderSize","size","renderPos","pos","result","toHyphens","split","isTransparent","color","arabicToRoman","literals","1","10","100","2","20","200","3","30","300","4","40","400","5","50","500","6","60","600","7","70","700","8","80","800","9","90","900","1000","values","roman","shift","romanToArabic","r","digits","prev","v","toLowerCase","x","l","c","d","m","charAt","memoize","cache","Object","create","id","arguments","this","ucs2decode","string","extra","counter","ucs2encode","map","String","fromCharCode","mergeSort","a","cmp","merge","b","ai","bi","slice","left","right","Math","floor","window","deepExtend","PI","Number","MAX_VALUE","now","Date","getTime","util","drawing","dataviz","amd","a1","a2","a3","$","zeroSize","width","height","baseline","measureText","style","measureBox","TextMetrics","current","measure","loadFonts","fonts","callback","promises","document","font","load","e","logToConsole","Promise","all","then","doc","Class","LRUCache","extend","init","_size","_length","_map","put","lru","entry","_head","_tail","newer","older","get","defaultMeasureBox","options","_cache","_initOptions","baselineMarkerSize","box","styleKey","cacheKey","cachedResult","baselineMarker","_baselineMarker","cloneNode","appendChild","body","offsetWidth","offsetHeight","offsetTop","parentNode","removeChild","jQuery","encodeBase64","input","chr1","chr2","chr3","enc1","enc2","enc3","enc4","encodeUTF8","KEY_STR","inArray","ObserversMixin","observers","_observers","addObserver","element","removeObserver","index","splice","trigger","methodName","event","observer","idx","_suspended","optionsChange","geometryChange","suspend","resume","_observerField","field","mixins","Extent","abs","atan","atan2","cos","sin","tan","Location","lat","lng","DISTANCE_ITERATIONS","DISTANCE_CONVERGENCE","DISTANCE_PRECISION","FORMAT","toArray","equals","loc","clone","wrap","distanceTo","dest","datum","greatCircleTo","distance","destination","bearing","fromLat","fromLng","dToR","datums","WGS84","asin","L","U1","sinU1","cosU1","U2","sinU2","cosU2","lambda","prevLambda","converged","sinLambda","cosLambda","sino","cosA2","coso","cos2om","sigma","sinA","C","u2","A","B","deltao","azimuthFrom","azimuthTo","sqrt","fn","toString","format","fromLngLat","ll","fromLatLng","nw","se","contains","center","containsAny","locs","include","includeAll","edges","ne","sw","overlaps","extent","World","Widget","ui","Attribution","call","items","addClass","separator","itemTemplate","filter","zoom","_extent","_zoom","_render","add","item","remove","clear","empty","_itemText","show","hide","inZoomLevel","_inZoomLevel","minZoom","maxZoom","inArea","_inArea","area","plugin","button","dir","keys","proxy","NS","BUTTONS","Navigator","on","parentElement","parent","closest","attr","_keyroot","_tabindex","_keydown","panStep","events","dispose","off","_pan","y","_click","currentTarget","is","preventDefault","which","UP","DOWN","RIGHT","LEFT","symbol","PLUS","MINUS","FF_PLUS","FF_MINUS","ZoomControl","zoomStep","_change","delta","NUMPAD_PLUS","NUMPAD_MINUS","exp","log","g","geometry","Point","limit","PI_DIV_2","PI_DIV_4","Mercator","MAX_LNG","MAX_LAT","INVERSE_ITERATIONS","INVERSE_CONVERGENCE","centralMeridian","forward","clamp","proj","lng0","_projectLat","ecc","ts","con","inverse","point","_inverseY","dphi","ecch","phi","SphericalMercator","Equirectangular","EPSG3857","crs","_proj","_tm","transform","translate","scale","_itm","toPoint","toLocation","EPSG3395","EPSG4326","projections","Layer","css","zIndex","opacity","appendTo","scrollElement","_beforeReset","_reset","_resize","_panEnd","_activate","_updateAttribution","destroy","_deactivate","reset","_applyExtent","_setVisibility","noop","matchMinZoom","matchMaxZoom","inside","visible","bind","unbind","attribution","layers","DataSource","data","Group","ShapeLayer","surface","Surface","_initRoot","movable","Movable","_markers","_handler","_mouseenter","_mouseleave","_initDataSource","autoBind","dataSource","_dataChange","setDataSource","fetch","_translateSurface","_data","_load","_root","draw","dsOptions","sender","view","container","shape","_clearMarkers","_loader","GeoJSONLoader","parse","shapeCreated","args","cancelled","Circle","_createMarker","layer","featureCreated","marker","markers","location","dataItem","_panning","suspendTracking","resumeTracking","locationToView","moveTo","originalEvent","locator","defaultStyle","root","unwrap","type","_loadGeometryTo","_featureCreated","children","_shapeCreated","group","properties","path","coords","coordinates","_loadPolygon","_setLineFill","_loadPoint","segments","anchor","fill","_loadShape","rings","_buildPolygon","j","MultiPath","Path","lineTo","circle","schemas","geojson","features","geometries","transports","read","dataType","getter","BubbleLayer","locationField","valueField","minSize","maxSize","opt","getValue","scaleType","_scaleType","_createSymbol","_drawSymbol","isFunction","scales","symbols","SqrtScale","domain","range","domainRange","outputRange","_domain","_range","_ratio","rel","Symbols","geo","square","halfSize","close","bubble","roundPoint","TileLayer","subdomains","viewType","_viewType","_view","origin","locationToLayer","viewOrigin","_updateView","TileView","support","mobileOS","throttle","extentToPoint","render","pool","TilePool","tileSize","urlTemplate","_center","_viewOrigin","pointToTileIndex","tileCount","firstTileIndex","indexToPoint","ceil","diff","subdomainText","subdomainIndex","tile","createTile","currentIndex","tileOptions","wrapIndex","offset","subdomain","errorUrlTemplate","boundary","wrapValue","remainder","ImageTile","createElement","errorUrl","target","setAttribute","removeAttribute","url","top","visibility","urlResult","urlOptions","z","s","quadkey","q","culture","_items","_remove","_create","dist","maxDist","BingLayer","baseUrl","_scheme","_onMetadata","_fetchMetadata","imagerySet","Error","ajax","uriScheme","jsonp","success","proto","protocol","replace","resource","resourceSets","resources","imageUrl","imageUrlSubdomains","zoomMin","zoomMax","_addAttribution","BingView","imageryProviders","coverageAreas","bbox","tileQuadKey","digit","mask","quadKey","bing","indexOf","Tooltip","MarkerLayer","_markerClick","titleField","arg","isArray","_addOne","update","showAt","Marker","addTo","getLocation","getTitle","title","tooltip","popup","_position","attributes","renderTooltip","contentTemplate","content","contentUrl","defaults","CSS_PREFIX","FRICTION","FRICTION_MOBILE","MOUSEWHEEL","VELOCITY_MULTIPLIER","Map","_getOrigin","_initScroller","_initMarkers","_initControls","_initLayers","_mousewheel","controls","navigator","layerDefaults","stroke","position","markerDefaults","wraparound","scroller","zoomControl","level","_setExtent","_getExtent","setOptions","_layerSize","layerToLocation","translateWith","viewToLocation","eventOffset","pageX","clientX","pageY","clientY","eventToView","cursor","eventToLayer","eventToLocation","viewSize","exportVisual","_setOrigin","topLeft","_origin","invalidate","layerWidth","layerHeight","bottomRight","_zoomAround","pivot","_createAttribution","_createNavigator","_createZoomControl","_createControlElement","defaultPos","posSelector","_navigatorPan","_navigatorCenter","scrollLeft","scrollTop","bounds","_virtualSize","one","_scrollEnd","scrollTo","_zoomControlChange","friction","zoomable","mobile","Scroller","velocityMultiplier","mousewheelScrolling","_scroll","userEvents","_scaleStart","_scale","impl","defs","_scrollOffset","_panComplete","_panEndTS","touch","touches","cancel","_scaleToZoom","gestureCenter","centerLocation","centerPoint","originPoint","scaleDelta","tiles","_resetScroller","xBounds","yBounds","dimensions","forcedMinScale","maxScale","pannable","makeVirtual","virtualSize","_renderLayers","scrollWrap","fromZoom","toZoom","postZoom","mwDelta"],"mappings":"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","file":"kendo.dataviz.map.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('util/main', ['kendo.core'], f);\n}(function () {\n    (function () {\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend;\n        var DEG_TO_RAD = math.PI / 180, MAX_NUM = Number.MAX_VALUE, MIN_NUM = -Number.MAX_VALUE, UNDEFINED = 'undefined';\n        function defined(value) {\n            return typeof value !== UNDEFINED;\n        }\n        function round(value, precision) {\n            var power = pow(precision);\n            return math.round(value * power) / power;\n        }\n        function pow(p) {\n            if (p) {\n                return math.pow(10, p);\n            } else {\n                return 1;\n            }\n        }\n        function limitValue(value, min, max) {\n            return math.max(math.min(value, max), min);\n        }\n        function rad(degrees) {\n            return degrees * DEG_TO_RAD;\n        }\n        function deg(radians) {\n            return radians / DEG_TO_RAD;\n        }\n        function isNumber(val) {\n            return typeof val === 'number' && !isNaN(val);\n        }\n        function valueOrDefault(value, defaultValue) {\n            return defined(value) ? value : defaultValue;\n        }\n        function sqr(value) {\n            return value * value;\n        }\n        function objectKey(object) {\n            var parts = [];\n            for (var key in object) {\n                parts.push(key + object[key]);\n            }\n            return parts.sort().join('');\n        }\n        function hashKey(str) {\n            var hash = 2166136261;\n            for (var i = 0; i < str.length; ++i) {\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\n                hash ^= str.charCodeAt(i);\n            }\n            return hash >>> 0;\n        }\n        function hashObject(object) {\n            return hashKey(objectKey(object));\n        }\n        var now = Date.now;\n        if (!now) {\n            now = function () {\n                return new Date().getTime();\n            };\n        }\n        function arrayLimits(arr) {\n            var length = arr.length, i, min = MAX_NUM, max = MIN_NUM;\n            for (i = 0; i < length; i++) {\n                max = math.max(max, arr[i]);\n                min = math.min(min, arr[i]);\n            }\n            return {\n                min: min,\n                max: max\n            };\n        }\n        function arrayMin(arr) {\n            return arrayLimits(arr).min;\n        }\n        function arrayMax(arr) {\n            return arrayLimits(arr).max;\n        }\n        function sparseArrayMin(arr) {\n            return sparseArrayLimits(arr).min;\n        }\n        function sparseArrayMax(arr) {\n            return sparseArrayLimits(arr).max;\n        }\n        function sparseArrayLimits(arr) {\n            var min = MAX_NUM, max = MIN_NUM;\n            for (var i = 0, length = arr.length; i < length; i++) {\n                var n = arr[i];\n                if (n !== null && isFinite(n)) {\n                    min = math.min(min, n);\n                    max = math.max(max, n);\n                }\n            }\n            return {\n                min: min === MAX_NUM ? undefined : min,\n                max: max === MIN_NUM ? undefined : max\n            };\n        }\n        function last(array) {\n            if (array) {\n                return array[array.length - 1];\n            }\n        }\n        function append(first, second) {\n            first.push.apply(first, second);\n            return first;\n        }\n        function renderTemplate(text) {\n            return kendo.template(text, {\n                useWithBlock: false,\n                paramName: 'd'\n            });\n        }\n        function renderAttr(name, value) {\n            return defined(value) && value !== null ? ' ' + name + '=\\'' + value + '\\' ' : '';\n        }\n        function renderAllAttr(attrs) {\n            var output = '';\n            for (var i = 0; i < attrs.length; i++) {\n                output += renderAttr(attrs[i][0], attrs[i][1]);\n            }\n            return output;\n        }\n        function renderStyle(attrs) {\n            var output = '';\n            for (var i = 0; i < attrs.length; i++) {\n                var value = attrs[i][1];\n                if (defined(value)) {\n                    output += attrs[i][0] + ':' + value + ';';\n                }\n            }\n            if (output !== '') {\n                return output;\n            }\n        }\n        function renderSize(size) {\n            if (typeof size !== 'string') {\n                size += 'px';\n            }\n            return size;\n        }\n        function renderPos(pos) {\n            var result = [];\n            if (pos) {\n                var parts = kendo.toHyphens(pos).split('-');\n                for (var i = 0; i < parts.length; i++) {\n                    result.push('k-pos-' + parts[i]);\n                }\n            }\n            return result.join(' ');\n        }\n        function isTransparent(color) {\n            return color === '' || color === null || color === 'none' || color === 'transparent' || !defined(color);\n        }\n        function arabicToRoman(n) {\n            var literals = {\n                1: 'i',\n                10: 'x',\n                100: 'c',\n                2: 'ii',\n                20: 'xx',\n                200: 'cc',\n                3: 'iii',\n                30: 'xxx',\n                300: 'ccc',\n                4: 'iv',\n                40: 'xl',\n                400: 'cd',\n                5: 'v',\n                50: 'l',\n                500: 'd',\n                6: 'vi',\n                60: 'lx',\n                600: 'dc',\n                7: 'vii',\n                70: 'lxx',\n                700: 'dcc',\n                8: 'viii',\n                80: 'lxxx',\n                800: 'dccc',\n                9: 'ix',\n                90: 'xc',\n                900: 'cm',\n                1000: 'm'\n            };\n            var values = [\n                1000,\n                900,\n                800,\n                700,\n                600,\n                500,\n                400,\n                300,\n                200,\n                100,\n                90,\n                80,\n                70,\n                60,\n                50,\n                40,\n                30,\n                20,\n                10,\n                9,\n                8,\n                7,\n                6,\n                5,\n                4,\n                3,\n                2,\n                1\n            ];\n            var roman = '';\n            while (n > 0) {\n                if (n < values[0]) {\n                    values.shift();\n                } else {\n                    roman += literals[values[0]];\n                    n -= values[0];\n                }\n            }\n            return roman;\n        }\n        function romanToArabic(r) {\n            r = r.toLowerCase();\n            var digits = {\n                i: 1,\n                v: 5,\n                x: 10,\n                l: 50,\n                c: 100,\n                d: 500,\n                m: 1000\n            };\n            var value = 0, prev = 0;\n            for (var i = 0; i < r.length; ++i) {\n                var v = digits[r.charAt(i)];\n                if (!v) {\n                    return null;\n                }\n                value += v;\n                if (v > prev) {\n                    value -= 2 * prev;\n                }\n                prev = v;\n            }\n            return value;\n        }\n        function memoize(f) {\n            var cache = Object.create(null);\n            return function () {\n                var id = '';\n                for (var i = arguments.length; --i >= 0;) {\n                    id += ':' + arguments[i];\n                }\n                return id in cache ? cache[id] : cache[id] = f.apply(this, arguments);\n            };\n        }\n        function ucs2decode(string) {\n            var output = [], counter = 0, length = string.length, value, extra;\n            while (counter < length) {\n                value = string.charCodeAt(counter++);\n                if (value >= 55296 && value <= 56319 && counter < length) {\n                    extra = string.charCodeAt(counter++);\n                    if ((extra & 64512) == 56320) {\n                        output.push(((value & 1023) << 10) + (extra & 1023) + 65536);\n                    } else {\n                        output.push(value);\n                        counter--;\n                    }\n                } else {\n                    output.push(value);\n                }\n            }\n            return output;\n        }\n        function ucs2encode(array) {\n            return array.map(function (value) {\n                var output = '';\n                if (value > 65535) {\n                    value -= 65536;\n                    output += String.fromCharCode(value >>> 10 & 1023 | 55296);\n                    value = 56320 | value & 1023;\n                }\n                output += String.fromCharCode(value);\n                return output;\n            }).join('');\n        }\n        function mergeSort(a, cmp) {\n            if (a.length < 2) {\n                return a.slice();\n            }\n            function merge(a, b) {\n                var r = [], ai = 0, bi = 0, i = 0;\n                while (ai < a.length && bi < b.length) {\n                    if (cmp(a[ai], b[bi]) <= 0) {\n                        r[i++] = a[ai++];\n                    } else {\n                        r[i++] = b[bi++];\n                    }\n                }\n                if (ai < a.length) {\n                    r.push.apply(r, a.slice(ai));\n                }\n                if (bi < b.length) {\n                    r.push.apply(r, b.slice(bi));\n                }\n                return r;\n            }\n            return function sort(a) {\n                if (a.length <= 1) {\n                    return a;\n                }\n                var m = Math.floor(a.length / 2);\n                var left = a.slice(0, m);\n                var right = a.slice(m);\n                left = sort(left);\n                right = sort(right);\n                return merge(left, right);\n            }(a);\n        }\n        deepExtend(kendo, {\n            util: {\n                MAX_NUM: MAX_NUM,\n                MIN_NUM: MIN_NUM,\n                append: append,\n                arrayLimits: arrayLimits,\n                arrayMin: arrayMin,\n                arrayMax: arrayMax,\n                defined: defined,\n                deg: deg,\n                hashKey: hashKey,\n                hashObject: hashObject,\n                isNumber: isNumber,\n                isTransparent: isTransparent,\n                last: last,\n                limitValue: limitValue,\n                now: now,\n                objectKey: objectKey,\n                round: round,\n                rad: rad,\n                renderAttr: renderAttr,\n                renderAllAttr: renderAllAttr,\n                renderPos: renderPos,\n                renderSize: renderSize,\n                renderStyle: renderStyle,\n                renderTemplate: renderTemplate,\n                sparseArrayLimits: sparseArrayLimits,\n                sparseArrayMin: sparseArrayMin,\n                sparseArrayMax: sparseArrayMax,\n                sqr: sqr,\n                valueOrDefault: valueOrDefault,\n                romanToArabic: romanToArabic,\n                arabicToRoman: arabicToRoman,\n                memoize: memoize,\n                ucs2encode: ucs2encode,\n                ucs2decode: ucs2decode,\n                mergeSort: mergeSort\n            }\n        });\n        kendo.drawing.util = kendo.util;\n        kendo.dataviz.util = kendo.util;\n    }());\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('util/text-metrics', [\n        'kendo.core',\n        'util/main'\n    ], f);\n}(function () {\n    (function ($) {\n        var doc = document, kendo = window.kendo, Class = kendo.Class, util = kendo.util, defined = util.defined;\n        var LRUCache = Class.extend({\n            init: function (size) {\n                this._size = size;\n                this._length = 0;\n                this._map = {};\n            },\n            put: function (key, value) {\n                var lru = this, map = lru._map, entry = {\n                        key: key,\n                        value: value\n                    };\n                map[key] = entry;\n                if (!lru._head) {\n                    lru._head = lru._tail = entry;\n                } else {\n                    lru._tail.newer = entry;\n                    entry.older = lru._tail;\n                    lru._tail = entry;\n                }\n                if (lru._length >= lru._size) {\n                    map[lru._head.key] = null;\n                    lru._head = lru._head.newer;\n                    lru._head.older = null;\n                } else {\n                    lru._length++;\n                }\n            },\n            get: function (key) {\n                var lru = this, entry = lru._map[key];\n                if (entry) {\n                    if (entry === lru._head && entry !== lru._tail) {\n                        lru._head = entry.newer;\n                        lru._head.older = null;\n                    }\n                    if (entry !== lru._tail) {\n                        if (entry.older) {\n                            entry.older.newer = entry.newer;\n                            entry.newer.older = entry.older;\n                        }\n                        entry.older = lru._tail;\n                        entry.newer = null;\n                        lru._tail.newer = entry;\n                        lru._tail = entry;\n                    }\n                    return entry.value;\n                }\n            }\n        });\n        var defaultMeasureBox = $('<div style=\\'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;\\' />')[0];\n        function zeroSize() {\n            return {\n                width: 0,\n                height: 0,\n                baseline: 0\n            };\n        }\n        var TextMetrics = Class.extend({\n            init: function (options) {\n                this._cache = new LRUCache(1000);\n                this._initOptions(options);\n            },\n            options: { baselineMarkerSize: 1 },\n            measure: function (text, style, box) {\n                if (!text) {\n                    return zeroSize();\n                }\n                var styleKey = util.objectKey(style), cacheKey = util.hashKey(text + styleKey), cachedResult = this._cache.get(cacheKey);\n                if (cachedResult) {\n                    return cachedResult;\n                }\n                var size = zeroSize();\n                var measureBox = box ? box : defaultMeasureBox;\n                var baselineMarker = this._baselineMarker().cloneNode(false);\n                for (var key in style) {\n                    var value = style[key];\n                    if (defined(value)) {\n                        measureBox.style[key] = value;\n                    }\n                }\n                $(measureBox).text(text);\n                measureBox.appendChild(baselineMarker);\n                doc.body.appendChild(measureBox);\n                if ((text + '').length) {\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\n                    size.height = measureBox.offsetHeight;\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\n                }\n                if (size.width > 0 && size.height > 0) {\n                    this._cache.put(cacheKey, size);\n                }\n                measureBox.parentNode.removeChild(measureBox);\n                return size;\n            },\n            _baselineMarker: function () {\n                return $('<div class=\\'k-baseline-marker\\' ' + 'style=\\'display: inline-block; vertical-align: baseline;' + 'width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;' + 'overflow: hidden;\\' />')[0];\n            }\n        });\n        TextMetrics.current = new TextMetrics();\n        function measureText(text, style, measureBox) {\n            return TextMetrics.current.measure(text, style, measureBox);\n        }\n        function loadFonts(fonts, callback) {\n            var promises = [];\n            if (fonts.length > 0 && document.fonts) {\n                try {\n                    promises = fonts.map(function (font) {\n                        return document.fonts.load(font);\n                    });\n                } catch (e) {\n                    kendo.logToConsole(e);\n                }\n                Promise.all(promises).then(callback, callback);\n            } else {\n                callback();\n            }\n        }\n        kendo.util.TextMetrics = TextMetrics;\n        kendo.util.LRUCache = LRUCache;\n        kendo.util.loadFonts = loadFonts;\n        kendo.util.measureText = measureText;\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('util/base64', ['util/main'], f);\n}(function () {\n    (function () {\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, fromCharCode = String.fromCharCode;\n        var KEY_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n        function encodeBase64(input) {\n            var output = '';\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n            var i = 0;\n            input = encodeUTF8(input);\n            while (i < input.length) {\n                chr1 = input.charCodeAt(i++);\n                chr2 = input.charCodeAt(i++);\n                chr3 = input.charCodeAt(i++);\n                enc1 = chr1 >> 2;\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\n                enc4 = chr3 & 63;\n                if (isNaN(chr2)) {\n                    enc3 = enc4 = 64;\n                } else if (isNaN(chr3)) {\n                    enc4 = 64;\n                }\n                output = output + KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) + KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\n            }\n            return output;\n        }\n        function encodeUTF8(input) {\n            var output = '';\n            for (var i = 0; i < input.length; i++) {\n                var c = input.charCodeAt(i);\n                if (c < 128) {\n                    output += fromCharCode(c);\n                } else if (c < 2048) {\n                    output += fromCharCode(192 | c >>> 6);\n                    output += fromCharCode(128 | c & 63);\n                } else if (c < 65536) {\n                    output += fromCharCode(224 | c >>> 12);\n                    output += fromCharCode(128 | c >>> 6 & 63);\n                    output += fromCharCode(128 | c & 63);\n                }\n            }\n            return output;\n        }\n        deepExtend(kendo.util, {\n            encodeBase64: encodeBase64,\n            encodeUTF8: encodeUTF8\n        });\n    }());\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('mixins/observers', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend, inArray = $.inArray;\n        var ObserversMixin = {\n            observers: function () {\n                this._observers = this._observers || [];\n                return this._observers;\n            },\n            addObserver: function (element) {\n                if (!this._observers) {\n                    this._observers = [element];\n                } else {\n                    this._observers.push(element);\n                }\n                return this;\n            },\n            removeObserver: function (element) {\n                var observers = this.observers();\n                var index = inArray(element, observers);\n                if (index != -1) {\n                    observers.splice(index, 1);\n                }\n                return this;\n            },\n            trigger: function (methodName, event) {\n                var observers = this._observers;\n                var observer;\n                var idx;\n                if (observers && !this._suspended) {\n                    for (idx = 0; idx < observers.length; idx++) {\n                        observer = observers[idx];\n                        if (observer[methodName]) {\n                            observer[methodName](event);\n                        }\n                    }\n                }\n                return this;\n            },\n            optionsChange: function (e) {\n                e = e || {};\n                e.element = this;\n                this.trigger('optionsChange', e);\n            },\n            geometryChange: function () {\n                this.trigger('geometryChange', { element: this });\n            },\n            suspend: function () {\n                this._suspended = (this._suspended || 0) + 1;\n                return this;\n            },\n            resume: function () {\n                this._suspended = math.max((this._suspended || 0) - 1, 0);\n                return this;\n            },\n            _observerField: function (field, value) {\n                if (this[field]) {\n                    this[field].removeObserver(this);\n                }\n                this[field] = value;\n                value.addObserver(this);\n            }\n        };\n        deepExtend(kendo, { mixins: { ObserversMixin: ObserversMixin } });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/location', ['kendo.drawing'], f);\n}(function () {\n    (function ($, undefined) {\n        var math = Math, abs = math.abs, atan = math.atan, atan2 = math.atan2, cos = math.cos, max = math.max, min = math.min, sin = math.sin, tan = math.tan, kendo = window.kendo, Class = kendo.Class, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, util = kendo.util, defined = util.defined, deg = util.deg, rad = util.rad, round = util.round, sqr = util.sqr, valueOrDefault = util.valueOrDefault;\n        var Location = Class.extend({\n            init: function (lat, lng) {\n                if (arguments.length === 1) {\n                    this.lat = lat[0];\n                    this.lng = lat[1];\n                } else {\n                    this.lat = lat;\n                    this.lng = lng;\n                }\n            },\n            DISTANCE_ITERATIONS: 100,\n            DISTANCE_CONVERGENCE: 1e-12,\n            DISTANCE_PRECISION: 2,\n            FORMAT: '{0:N6},{1:N6}',\n            toArray: function () {\n                return [\n                    this.lat,\n                    this.lng\n                ];\n            },\n            equals: function (loc) {\n                return loc && loc.lat === this.lat && loc.lng === this.lng;\n            },\n            clone: function () {\n                return new Location(this.lat, this.lng);\n            },\n            round: function (precision) {\n                this.lng = round(this.lng, precision);\n                this.lat = round(this.lat, precision);\n                return this;\n            },\n            wrap: function () {\n                this.lng = this.lng % 180;\n                this.lat = this.lat % 90;\n                return this;\n            },\n            distanceTo: function (dest, datum) {\n                return this.greatCircleTo(dest, datum).distance;\n            },\n            destination: function (distance, bearing, datum) {\n                bearing = rad(bearing);\n                datum = datum || dataviz.map.datums.WGS84;\n                var fromLat = rad(this.lat);\n                var fromLng = rad(this.lng);\n                var dToR = distance / kendo.dataviz.map.datums.WGS84.a;\n                var lat = math.asin(sin(fromLat) * cos(dToR) + cos(fromLat) * sin(dToR) * cos(bearing));\n                var lng = fromLng + atan2(sin(bearing) * sin(dToR) * cos(fromLat), cos(dToR) - sin(fromLat) * sin(lat));\n                return new Location(deg(lat), deg(lng));\n            },\n            greatCircleTo: function (dest, datum) {\n                dest = Location.create(dest);\n                datum = datum || dataviz.map.datums.WGS84;\n                if (!dest || this.clone().round(8).equals(dest.clone().round(8))) {\n                    return {\n                        distance: 0,\n                        azimuthFrom: 0,\n                        azimuthTo: 0\n                    };\n                }\n                var a = datum.a;\n                var b = datum.b;\n                var f = datum.f;\n                var L = rad(dest.lng - this.lng);\n                var U1 = atan((1 - f) * tan(rad(this.lat)));\n                var sinU1 = sin(U1);\n                var cosU1 = cos(U1);\n                var U2 = atan((1 - f) * tan(rad(dest.lat)));\n                var sinU2 = sin(U2);\n                var cosU2 = cos(U2);\n                var lambda = L;\n                var prevLambda;\n                var i = this.DISTANCE_ITERATIONS;\n                var converged = false;\n                var sinLambda;\n                var cosLambda;\n                var sino;\n                var cosA2;\n                var coso;\n                var cos2om;\n                var sigma;\n                while (!converged && i-- > 0) {\n                    sinLambda = sin(lambda);\n                    cosLambda = cos(lambda);\n                    sino = math.sqrt(sqr(cosU2 * sinLambda) + sqr(cosU1 * sinU2 - sinU1 * cosU2 * cosLambda));\n                    coso = sinU1 * sinU2 + cosU1 * cosU2 * cosLambda;\n                    sigma = atan2(sino, coso);\n                    var sinA = cosU1 * cosU2 * sinLambda / sino;\n                    cosA2 = 1 - sqr(sinA);\n                    cos2om = 0;\n                    if (cosA2 !== 0) {\n                        cos2om = coso - 2 * sinU1 * sinU2 / cosA2;\n                    }\n                    prevLambda = lambda;\n                    var C = f / 16 * cosA2 * (4 + f * (4 - 3 * cosA2));\n                    lambda = L + (1 - C) * f * sinA * (sigma + C * sino * (cos2om + C * coso * (-1 + 2 * sqr(cos2om))));\n                    converged = abs(lambda - prevLambda) <= this.DISTANCE_CONVERGENCE;\n                }\n                var u2 = cosA2 * (sqr(a) - sqr(b)) / sqr(b);\n                var A = 1 + u2 / 16384 * (4096 + u2 * (-768 + u2 * (320 - 175 * u2)));\n                var B = u2 / 1024 * (256 + u2 * (-128 + u2 * (74 - 47 * u2)));\n                var deltao = B * sino * (cos2om + B / 4 * (coso * (-1 + 2 * sqr(cos2om)) - B / 6 * cos2om * (-3 + 4 * sqr(sino)) * (-3 + 4 * sqr(cos2om))));\n                var azimuthFrom = atan2(cosU2 * sinLambda, cosU1 * sinU2 - sinU1 * cosU2 * cosLambda);\n                var azimuthTo = atan2(cosU1 * sinLambda, -sinU1 * cosU2 + cosU1 * sinU2 * cosLambda);\n                return {\n                    distance: round(b * A * (sigma - deltao), this.DISTANCE_PRECISION),\n                    azimuthFrom: deg(azimuthFrom),\n                    azimuthTo: deg(azimuthTo)\n                };\n            }\n        });\n        Location.fn.toString = function () {\n            return kendo.format(this.FORMAT, this.lat, this.lng);\n        };\n        Location.fromLngLat = function (ll) {\n            return new Location(ll[1], ll[0]);\n        };\n        Location.fromLatLng = function (ll) {\n            return new Location(ll[0], ll[1]);\n        };\n        Location.create = function (a, b) {\n            if (defined(a)) {\n                if (a instanceof Location) {\n                    return a.clone();\n                } else if (arguments.length === 1 && a.length === 2) {\n                    return Location.fromLatLng(a);\n                } else {\n                    return new Location(a, b);\n                }\n            }\n        };\n        var Extent = Class.extend({\n            init: function (nw, se) {\n                nw = Location.create(nw);\n                se = Location.create(se);\n                if (nw.lng + 180 > se.lng + 180 && nw.lat + 90 < se.lat + 90) {\n                    this.se = nw;\n                    this.nw = se;\n                } else {\n                    this.se = se;\n                    this.nw = nw;\n                }\n            },\n            contains: function (loc) {\n                var nw = this.nw, se = this.se, lng = valueOrDefault(loc.lng, loc[1]), lat = valueOrDefault(loc.lat, loc[0]);\n                return loc && lng + 180 >= nw.lng + 180 && lng + 180 <= se.lng + 180 && lat + 90 >= se.lat + 90 && lat + 90 <= nw.lat + 90;\n            },\n            center: function () {\n                var nw = this.nw;\n                var se = this.se;\n                var lng = nw.lng + (se.lng - nw.lng) / 2;\n                var lat = nw.lat + (se.lat - nw.lat) / 2;\n                return new Location(lat, lng);\n            },\n            containsAny: function (locs) {\n                var result = false;\n                for (var i = 0; i < locs.length; i++) {\n                    result = result || this.contains(locs[i]);\n                }\n                return result;\n            },\n            include: function (loc) {\n                var nw = this.nw, se = this.se, lng = valueOrDefault(loc.lng, loc[1]), lat = valueOrDefault(loc.lat, loc[0]);\n                nw.lng = min(nw.lng, lng);\n                nw.lat = max(nw.lat, lat);\n                se.lng = max(se.lng, lng);\n                se.lat = min(se.lat, lat);\n            },\n            includeAll: function (locs) {\n                for (var i = 0; i < locs.length; i++) {\n                    this.include(locs[i]);\n                }\n            },\n            edges: function () {\n                var nw = this.nw, se = this.se;\n                return {\n                    nw: this.nw,\n                    ne: new Location(nw.lat, se.lng),\n                    se: this.se,\n                    sw: new Location(se.lat, nw.lng)\n                };\n            },\n            toArray: function () {\n                var nw = this.nw, se = this.se;\n                return [\n                    nw,\n                    new Location(nw.lat, se.lng),\n                    se,\n                    new Location(se.lat, nw.lng)\n                ];\n            },\n            overlaps: function (extent) {\n                return this.containsAny(extent.toArray()) || extent.containsAny(this.toArray());\n            }\n        });\n        Extent.World = new Extent([\n            90,\n            -180\n        ], [\n            -90,\n            180\n        ]);\n        Extent.create = function (a, b) {\n            if (a instanceof Extent) {\n                return a;\n            } else if (a && b) {\n                return new Extent(a, b);\n            } else if (a && a.length === 4 && !b) {\n                return new Extent([\n                    a[0],\n                    a[1]\n                ], [\n                    a[2],\n                    a[3]\n                ]);\n            }\n        };\n        deepExtend(dataviz, {\n            map: {\n                Extent: Extent,\n                Location: Location\n            }\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/attribution', ['kendo.drawing'], f);\n}(function () {\n    (function () {\n        var kendo = window.kendo, Widget = kendo.ui.Widget, template = kendo.template, valueOrDefault = kendo.util.valueOrDefault, defined = kendo.util.defined;\n        var Attribution = Widget.extend({\n            init: function (element, options) {\n                Widget.fn.init.call(this, element, options);\n                this._initOptions(options);\n                this.items = [];\n                this.element.addClass('k-widget k-attribution');\n            },\n            options: {\n                name: 'Attribution',\n                separator: '&nbsp;|&nbsp;',\n                itemTemplate: '#= text #'\n            },\n            filter: function (extent, zoom) {\n                this._extent = extent;\n                this._zoom = zoom;\n                this._render();\n            },\n            add: function (item) {\n                if (defined(item)) {\n                    if (typeof item === 'string') {\n                        item = { text: item };\n                    }\n                    this.items.push(item);\n                    this._render();\n                }\n            },\n            remove: function (text) {\n                var result = [];\n                for (var i = 0; i < this.items.length; i++) {\n                    var item = this.items[i];\n                    if (item.text !== text) {\n                        result.push(item);\n                    }\n                }\n                this.items = result;\n                this._render();\n            },\n            clear: function () {\n                this.items = [];\n                this.element.empty();\n            },\n            _render: function () {\n                var result = [];\n                var itemTemplate = template(this.options.itemTemplate);\n                for (var i = 0; i < this.items.length; i++) {\n                    var item = this.items[i];\n                    var text = this._itemText(item);\n                    if (text !== '') {\n                        result.push(itemTemplate({ text: text }));\n                    }\n                }\n                if (result.length > 0) {\n                    this.element.empty().append(result.join(this.options.separator)).show();\n                } else {\n                    this.element.hide();\n                }\n            },\n            _itemText: function (item) {\n                var text = '';\n                var inZoomLevel = this._inZoomLevel(item.minZoom, item.maxZoom);\n                var inArea = this._inArea(item.extent);\n                if (inZoomLevel && inArea) {\n                    text += item.text;\n                }\n                return text;\n            },\n            _inZoomLevel: function (min, max) {\n                var result = true;\n                min = valueOrDefault(min, -Number.MAX_VALUE);\n                max = valueOrDefault(max, Number.MAX_VALUE);\n                result = this._zoom > min && this._zoom < max;\n                return result;\n            },\n            _inArea: function (area) {\n                var result = true;\n                if (area) {\n                    result = area.contains(this._extent);\n                }\n                return result;\n            }\n        });\n        kendo.dataviz.ui.plugin(Attribution);\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/navigator', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        var kendo = window.kendo;\n        var Widget = kendo.ui.Widget;\n        var keys = kendo.keys;\n        var proxy = $.proxy;\n        var NS = '.kendoNavigator';\n        function button(dir) {\n            return kendo.format('<button class=\"k-button k-navigator-{0}\">' + '<span class=\"k-icon k-i-arrow-{0}\"/>' + '</button>', dir);\n        }\n        var BUTTONS = button('n') + button('e') + button('s') + button('w');\n        var Navigator = Widget.extend({\n            init: function (element, options) {\n                Widget.fn.init.call(this, element, options);\n                this._initOptions(options);\n                this.element.addClass('k-widget k-header k-shadow k-navigator').append(BUTTONS).on('click' + NS, '.k-button', proxy(this, '_click'));\n                var parentElement = this.element.parent().closest('[' + kendo.attr('role') + ']');\n                this._keyroot = parentElement.length > 0 ? parentElement : this.element;\n                this._tabindex(this._keyroot);\n                this._keydown = proxy(this._keydown, this);\n                this._keyroot.on('keydown', this._keydown);\n            },\n            options: {\n                name: 'Navigator',\n                panStep: 1\n            },\n            events: ['pan'],\n            dispose: function () {\n                this._keyroot.off('keydown', this._keydown);\n            },\n            _pan: function (x, y) {\n                var panStep = this.options.panStep;\n                this.trigger('pan', {\n                    x: x * panStep,\n                    y: y * panStep\n                });\n            },\n            _click: function (e) {\n                var x = 0;\n                var y = 0;\n                var button = $(e.currentTarget);\n                if (button.is('.k-navigator-n')) {\n                    y = 1;\n                } else if (button.is('.k-navigator-s')) {\n                    y = -1;\n                } else if (button.is('.k-navigator-e')) {\n                    x = 1;\n                } else if (button.is('.k-navigator-w')) {\n                    x = -1;\n                }\n                this._pan(x, y);\n                e.preventDefault();\n            },\n            _keydown: function (e) {\n                switch (e.which) {\n                case keys.UP:\n                    this._pan(0, 1);\n                    e.preventDefault();\n                    break;\n                case keys.DOWN:\n                    this._pan(0, -1);\n                    e.preventDefault();\n                    break;\n                case keys.RIGHT:\n                    this._pan(1, 0);\n                    e.preventDefault();\n                    break;\n                case keys.LEFT:\n                    this._pan(-1, 0);\n                    e.preventDefault();\n                    break;\n                }\n            }\n        });\n        kendo.dataviz.ui.plugin(Navigator);\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/zoom', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        var kendo = window.kendo;\n        var Widget = kendo.ui.Widget;\n        var keys = kendo.keys;\n        var proxy = $.proxy;\n        function button(dir, symbol) {\n            return kendo.format('<button class=\"k-button k-zoom-{0}\" title=\"zoom-{0}\">{1}</button>', dir, symbol);\n        }\n        var NS = '.kendoZoomControl';\n        var BUTTONS = button('in', '+') + button('out', '-');\n        var PLUS = 187;\n        var MINUS = 189;\n        var FF_PLUS = 61;\n        var FF_MINUS = 173;\n        var ZoomControl = Widget.extend({\n            init: function (element, options) {\n                Widget.fn.init.call(this, element, options);\n                this._initOptions(options);\n                this.element.addClass('k-widget k-zoom-control k-button-wrap k-buttons-horizontal').append(BUTTONS).on('click' + NS, '.k-button', proxy(this, '_click'));\n                var parentElement = this.element.parent().closest('[' + kendo.attr('role') + ']');\n                this._keyroot = parentElement.length > 0 ? parentElement : this.element;\n                this._tabindex(this._keyroot);\n                this._keydown = proxy(this._keydown, this);\n                this._keyroot.on('keydown', this._keydown);\n            },\n            options: {\n                name: 'ZoomControl',\n                zoomStep: 1\n            },\n            events: ['change'],\n            _change: function (dir) {\n                var zoomStep = this.options.zoomStep;\n                this.trigger('change', { delta: dir * zoomStep });\n            },\n            _click: function (e) {\n                var button = $(e.currentTarget);\n                var dir = 1;\n                if (button.is('.k-zoom-out')) {\n                    dir = -1;\n                }\n                this._change(dir);\n                e.preventDefault();\n            },\n            _keydown: function (e) {\n                switch (e.which) {\n                case keys.NUMPAD_PLUS:\n                case PLUS:\n                case FF_PLUS:\n                    this._change(1);\n                    break;\n                case keys.NUMPAD_MINUS:\n                case MINUS:\n                case FF_MINUS:\n                    this._change(-1);\n                    break;\n                }\n            }\n        });\n        kendo.dataviz.ui.plugin(ZoomControl);\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/crs', [\n        'dataviz/map/location',\n        'kendo.drawing'\n    ], f);\n}(function () {\n    (function ($, undefined) {\n        var math = Math, atan = math.atan, exp = math.exp, pow = math.pow, sin = math.sin, log = math.log, tan = math.tan, kendo = window.kendo, Class = kendo.Class, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, g = kendo.geometry, Point = g.Point, map = dataviz.map, Location = map.Location, util = kendo.util, rad = util.rad, deg = util.deg, limit = util.limitValue;\n        var PI = math.PI, PI_DIV_2 = PI / 2, PI_DIV_4 = PI / 4, DEG_TO_RAD = PI / 180;\n        var WGS84 = {\n            a: 6378137,\n            b: 6356752.314245179,\n            f: 0.0033528106647474805,\n            e: 0.08181919084262149\n        };\n        var Mercator = Class.extend({\n            init: function (options) {\n                this._initOptions(options);\n            },\n            MAX_LNG: 180,\n            MAX_LAT: 85.0840590501,\n            INVERSE_ITERATIONS: 15,\n            INVERSE_CONVERGENCE: 1e-12,\n            options: {\n                centralMeridian: 0,\n                datum: WGS84\n            },\n            forward: function (loc, clamp) {\n                var proj = this, options = proj.options, datum = options.datum, r = datum.a, lng0 = options.centralMeridian, lat = limit(loc.lat, -proj.MAX_LAT, proj.MAX_LAT), lng = clamp ? limit(loc.lng, -proj.MAX_LNG, proj.MAX_LNG) : loc.lng, x = rad(lng - lng0) * r, y = proj._projectLat(lat);\n                return new Point(x, y);\n            },\n            _projectLat: function (lat) {\n                var datum = this.options.datum, ecc = datum.e, r = datum.a, y = rad(lat), ts = tan(PI_DIV_4 + y / 2), con = ecc * sin(y), p = pow((1 - con) / (1 + con), ecc / 2);\n                return r * log(ts * p);\n            },\n            inverse: function (point, clamp) {\n                var proj = this, options = proj.options, datum = options.datum, r = datum.a, lng0 = options.centralMeridian, lng = point.x / (DEG_TO_RAD * r) + lng0, lat = limit(proj._inverseY(point.y), -proj.MAX_LAT, proj.MAX_LAT);\n                if (clamp) {\n                    lng = limit(lng, -proj.MAX_LNG, proj.MAX_LNG);\n                }\n                return new Location(lat, lng);\n            },\n            _inverseY: function (y) {\n                var proj = this, datum = proj.options.datum, r = datum.a, ecc = datum.e, ecch = ecc / 2, ts = exp(-y / r), phi = PI_DIV_2 - 2 * atan(ts), i;\n                for (i = 0; i <= proj.INVERSE_ITERATIONS; i++) {\n                    var con = ecc * sin(phi), p = pow((1 - con) / (1 + con), ecch), dphi = PI_DIV_2 - 2 * atan(ts * p) - phi;\n                    phi += dphi;\n                    if (math.abs(dphi) <= proj.INVERSE_CONVERGENCE) {\n                        break;\n                    }\n                }\n                return deg(phi);\n            }\n        });\n        var SphericalMercator = Mercator.extend({\n            MAX_LAT: 85.0511287798,\n            _projectLat: function (lat) {\n                var r = this.options.datum.a, y = rad(lat), ts = tan(PI_DIV_4 + y / 2);\n                return r * log(ts);\n            },\n            _inverseY: function (y) {\n                var r = this.options.datum.a, ts = exp(-y / r);\n                return deg(PI_DIV_2 - 2 * atan(ts));\n            }\n        });\n        var Equirectangular = Class.extend({\n            forward: function (loc) {\n                return new Point(loc.lng, loc.lat);\n            },\n            inverse: function (point) {\n                return new Location(point.y, point.x);\n            }\n        });\n        var EPSG3857 = Class.extend({\n            init: function () {\n                var crs = this, proj = crs._proj = new SphericalMercator();\n                var c = this.c = 2 * PI * proj.options.datum.a;\n                this._tm = g.transform().translate(0.5, 0.5).scale(1 / c, -1 / c);\n                this._itm = g.transform().scale(c, -c).translate(-0.5, -0.5);\n            },\n            toPoint: function (loc, scale, clamp) {\n                var point = this._proj.forward(loc, clamp);\n                return point.transform(this._tm).scale(scale || 1);\n            },\n            toLocation: function (point, scale, clamp) {\n                point = point.clone().scale(1 / (scale || 1)).transform(this._itm);\n                return this._proj.inverse(point, clamp);\n            }\n        });\n        var EPSG3395 = Class.extend({\n            init: function () {\n                this._proj = new Mercator();\n            },\n            toPoint: function (loc) {\n                return this._proj.forward(loc);\n            },\n            toLocation: function (point) {\n                return this._proj.inverse(point);\n            }\n        });\n        var EPSG4326 = Class.extend({\n            init: function () {\n                this._proj = new Equirectangular();\n            },\n            toPoint: function (loc) {\n                return this._proj.forward(loc);\n            },\n            toLocation: function (point) {\n                return this._proj.inverse(point);\n            }\n        });\n        deepExtend(dataviz, {\n            map: {\n                crs: {\n                    EPSG3395: EPSG3395,\n                    EPSG3857: EPSG3857,\n                    EPSG4326: EPSG4326\n                },\n                datums: { WGS84: WGS84 },\n                projections: {\n                    Equirectangular: Equirectangular,\n                    Mercator: Mercator,\n                    SphericalMercator: SphericalMercator\n                }\n            }\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/layers/base', [\n        'kendo.core',\n        'dataviz/map/location'\n    ], f);\n}(function () {\n    (function ($, undefined) {\n        var proxy = $.proxy, kendo = window.kendo, Class = kendo.Class, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, Extent = dataviz.map.Extent, util = kendo.util, defined = util.defined;\n        var Layer = Class.extend({\n            init: function (map, options) {\n                this._initOptions(options);\n                this.map = map;\n                this.element = $('<div class=\\'k-layer\\'></div>').css({\n                    'zIndex': this.options.zIndex,\n                    'opacity': this.options.opacity\n                }).appendTo(map.scrollElement);\n                this._beforeReset = proxy(this._beforeReset, this);\n                this._reset = proxy(this._reset, this);\n                this._resize = proxy(this._resize, this);\n                this._panEnd = proxy(this._panEnd, this);\n                this._activate();\n                this._updateAttribution();\n            },\n            destroy: function () {\n                this._deactivate();\n            },\n            show: function () {\n                this.reset();\n                this._activate();\n                this._applyExtent(true);\n            },\n            hide: function () {\n                this._deactivate();\n                this._setVisibility(false);\n            },\n            reset: function () {\n                this._beforeReset();\n                this._reset();\n            },\n            _reset: function () {\n                this._applyExtent();\n            },\n            _beforeReset: $.noop,\n            _resize: $.noop,\n            _panEnd: function () {\n                this._applyExtent();\n            },\n            _applyExtent: function () {\n                var options = this.options;\n                var zoom = this.map.zoom();\n                var matchMinZoom = !defined(options.minZoom) || zoom >= options.minZoom;\n                var matchMaxZoom = !defined(options.maxZoom) || zoom <= options.maxZoom;\n                var extent = Extent.create(options.extent);\n                var inside = !extent || extent.overlaps(this.map.extent());\n                this._setVisibility(matchMinZoom && matchMaxZoom && inside);\n            },\n            _setVisibility: function (visible) {\n                this.element.css('display', visible ? '' : 'none');\n            },\n            _activate: function () {\n                var map = this.map;\n                map.bind('beforeReset', this._beforeReset);\n                map.bind('reset', this._reset);\n                map.bind('resize', this._resize);\n                map.bind('panEnd', this._panEnd);\n            },\n            _deactivate: function () {\n                var map = this.map;\n                map.unbind('beforeReset', this._beforeReset);\n                map.unbind('reset', this._reset);\n                map.unbind('resize', this._resize);\n                map.unbind('panEnd', this._panEnd);\n            },\n            _updateAttribution: function () {\n                var attr = this.map.attribution;\n                if (attr) {\n                    attr.add(this.options.attribution);\n                }\n            }\n        });\n        deepExtend(dataviz, { map: { layers: { Layer: Layer } } });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/layers/shape', [\n        'dataviz/map/layers/base',\n        'dataviz/map/location'\n    ], f);\n}(function () {\n    (function ($, undefined) {\n        var proxy = $.proxy, kendo = window.kendo, Class = kendo.Class, DataSource = kendo.data.DataSource, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, last = kendo.util.last, defined = kendo.util.defined, g = kendo.geometry, d = kendo.drawing, Group = d.Group, map = dataviz.map, Location = map.Location, Layer = map.layers.Layer;\n        var ShapeLayer = Layer.extend({\n            init: function (map, options) {\n                this._pan = proxy(this._pan, this);\n                Layer.fn.init.call(this, map, options);\n                this.surface = d.Surface.create(this.element, {\n                    width: map.scrollElement.width(),\n                    height: map.scrollElement.height()\n                });\n                this._initRoot();\n                this.movable = new kendo.ui.Movable(this.surface.element);\n                this._markers = [];\n                this._click = this._handler('shapeClick');\n                this.surface.bind('click', this._click);\n                this._mouseenter = this._handler('shapeMouseEnter');\n                this.surface.bind('mouseenter', this._mouseenter);\n                this._mouseleave = this._handler('shapeMouseLeave');\n                this.surface.bind('mouseleave', this._mouseleave);\n                this._initDataSource();\n            },\n            options: { autoBind: true },\n            destroy: function () {\n                Layer.fn.destroy.call(this);\n                this.surface.destroy();\n                this.dataSource.unbind('change', this._dataChange);\n            },\n            setDataSource: function (dataSource) {\n                if (this.dataSource) {\n                    this.dataSource.unbind('change', this._dataChange);\n                }\n                this.dataSource = kendo.data.DataSource.create(dataSource);\n                this.dataSource.bind('change', this._dataChange);\n                if (this.options.autoBind) {\n                    this.dataSource.fetch();\n                }\n            },\n            _reset: function () {\n                Layer.fn._reset.call(this);\n                this._translateSurface();\n                if (this._data) {\n                    this._load(this._data);\n                }\n            },\n            _initRoot: function () {\n                this._root = new Group();\n                this.surface.draw(this._root);\n            },\n            _beforeReset: function () {\n                this.surface.clear();\n                this._initRoot();\n            },\n            _resize: function () {\n                this.surface.size(this.map.size());\n            },\n            _initDataSource: function () {\n                var dsOptions = this.options.dataSource;\n                this._dataChange = proxy(this._dataChange, this);\n                this.dataSource = DataSource.create(dsOptions).bind('change', this._dataChange);\n                if (dsOptions && this.options.autoBind) {\n                    this.dataSource.fetch();\n                }\n            },\n            _dataChange: function (e) {\n                this._data = e.sender.view();\n                this._load(this._data);\n            },\n            _load: function (data) {\n                this._clearMarkers();\n                if (!this._loader) {\n                    this._loader = new GeoJSONLoader(this.map, this.options.style, this);\n                }\n                var container = new Group();\n                for (var i = 0; i < data.length; i++) {\n                    var shape = this._loader.parse(data[i]);\n                    if (shape) {\n                        container.append(shape);\n                    }\n                }\n                this._root.clear();\n                this._root.append(container);\n            },\n            shapeCreated: function (shape) {\n                var cancelled = false;\n                if (shape instanceof d.Circle) {\n                    cancelled = defined(this._createMarker(shape));\n                }\n                if (!cancelled) {\n                    var args = {\n                        layer: this,\n                        shape: shape\n                    };\n                    cancelled = this.map.trigger('shapeCreated', args);\n                }\n                return cancelled;\n            },\n            featureCreated: function (e) {\n                e.layer = this;\n                this.map.trigger('shapeFeatureCreated', e);\n            },\n            _createMarker: function (shape) {\n                var marker = this.map.markers.bind({ location: shape.location }, shape.dataItem);\n                if (marker) {\n                    this._markers.push(marker);\n                }\n                return marker;\n            },\n            _clearMarkers: function () {\n                for (var i = 0; i < this._markers.length; i++) {\n                    this.map.markers.remove(this._markers[i]);\n                }\n                this._markers = [];\n            },\n            _pan: function () {\n                if (!this._panning) {\n                    this._panning = true;\n                    this.surface.suspendTracking();\n                }\n            },\n            _panEnd: function (e) {\n                Layer.fn._panEnd.call(this, e);\n                this._translateSurface();\n                this.surface.resumeTracking();\n                this._panning = false;\n            },\n            _translateSurface: function () {\n                var map = this.map;\n                var nw = map.locationToView(map.extent().nw);\n                if (this.surface.translate) {\n                    this.surface.translate(nw);\n                    this.movable.moveTo({\n                        x: nw.x,\n                        y: nw.y\n                    });\n                }\n            },\n            _handler: function (event) {\n                var layer = this;\n                return function (e) {\n                    if (e.element) {\n                        var args = {\n                            layer: layer,\n                            shape: e.element,\n                            originalEvent: e.originalEvent\n                        };\n                        layer.map.trigger(event, args);\n                    }\n                };\n            },\n            _activate: function () {\n                Layer.fn._activate.call(this);\n                this.map.bind('pan', this._pan);\n            },\n            _deactivate: function () {\n                Layer.fn._deactivate.call(this);\n                this.map.unbind('pan', this._pan);\n            }\n        });\n        var GeoJSONLoader = Class.extend({\n            init: function (locator, defaultStyle, observer) {\n                this.observer = observer;\n                this.locator = locator;\n                this.style = defaultStyle;\n            },\n            parse: function (item) {\n                var root = new Group();\n                var unwrap = true;\n                if (item.type === 'Feature') {\n                    unwrap = false;\n                    this._loadGeometryTo(root, item.geometry, item);\n                    this._featureCreated(root, item);\n                } else {\n                    this._loadGeometryTo(root, item, item);\n                }\n                if (unwrap && root.children.length < 2) {\n                    root = root.children[0];\n                }\n                return root;\n            },\n            _shapeCreated: function (shape) {\n                var cancelled = false;\n                if (this.observer && this.observer.shapeCreated) {\n                    cancelled = this.observer.shapeCreated(shape);\n                }\n                return cancelled;\n            },\n            _featureCreated: function (group, dataItem) {\n                if (this.observer && this.observer.featureCreated) {\n                    this.observer.featureCreated({\n                        group: group,\n                        dataItem: dataItem,\n                        properties: dataItem.properties\n                    });\n                }\n            },\n            _loadGeometryTo: function (container, geometry, dataItem) {\n                var coords = geometry.coordinates;\n                var i;\n                var path;\n                switch (geometry.type) {\n                case 'LineString':\n                    path = this._loadPolygon(container, [coords], dataItem);\n                    this._setLineFill(path);\n                    break;\n                case 'MultiLineString':\n                    for (i = 0; i < coords.length; i++) {\n                        path = this._loadPolygon(container, [coords[i]], dataItem);\n                        this._setLineFill(path);\n                    }\n                    break;\n                case 'Polygon':\n                    this._loadPolygon(container, coords, dataItem);\n                    break;\n                case 'MultiPolygon':\n                    for (i = 0; i < coords.length; i++) {\n                        this._loadPolygon(container, coords[i], dataItem);\n                    }\n                    break;\n                case 'Point':\n                    this._loadPoint(container, coords, dataItem);\n                    break;\n                case 'MultiPoint':\n                    for (i = 0; i < coords.length; i++) {\n                        this._loadPoint(container, coords[i], dataItem);\n                    }\n                    break;\n                }\n            },\n            _setLineFill: function (path) {\n                var segments = path.segments;\n                if (segments.length < 4 || !segments[0].anchor().equals(last(segments).anchor())) {\n                    path.options.fill = null;\n                }\n            },\n            _loadShape: function (container, shape) {\n                if (!this._shapeCreated(shape)) {\n                    container.append(shape);\n                }\n                return shape;\n            },\n            _loadPolygon: function (container, rings, dataItem) {\n                var shape = this._buildPolygon(rings);\n                shape.dataItem = dataItem;\n                return this._loadShape(container, shape);\n            },\n            _buildPolygon: function (rings) {\n                var type = rings.length > 1 ? d.MultiPath : d.Path;\n                var path = new type(this.style);\n                for (var i = 0; i < rings.length; i++) {\n                    for (var j = 0; j < rings[i].length; j++) {\n                        var point = this.locator.locationToView(Location.fromLngLat(rings[i][j]));\n                        if (j === 0) {\n                            path.moveTo(point.x, point.y);\n                        } else {\n                            path.lineTo(point.x, point.y);\n                        }\n                    }\n                }\n                return path;\n            },\n            _loadPoint: function (container, coords, dataItem) {\n                var location = Location.fromLngLat(coords);\n                var point = this.locator.locationToView(location);\n                var circle = new g.Circle(point, 10);\n                var shape = new d.Circle(circle, this.style);\n                shape.dataItem = dataItem;\n                shape.location = location;\n                return this._loadShape(container, shape);\n            }\n        });\n        deepExtend(kendo.data, {\n            schemas: {\n                geojson: {\n                    type: 'json',\n                    data: function (data) {\n                        if (data.type === 'FeatureCollection') {\n                            return data.features;\n                        }\n                        if (data.type === 'GeometryCollection') {\n                            return data.geometries;\n                        }\n                        return data;\n                    }\n                }\n            },\n            transports: { geojson: { read: { dataType: 'json' } } }\n        });\n        deepExtend(dataviz, {\n            map: {\n                layers: {\n                    shape: ShapeLayer,\n                    ShapeLayer: ShapeLayer\n                },\n                GeoJSONLoader: GeoJSONLoader\n            }\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/layers/bubble', ['dataviz/map/layers/shape'], f);\n}(function () {\n    (function ($, undefined) {\n        var kendo = window.kendo, getter = kendo.getter, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, util = kendo.util, defined = util.defined, g = kendo.geometry, d = kendo.drawing, map = dataviz.map, Location = map.Location, ShapeLayer = map.layers.ShapeLayer;\n        var BubbleLayer = ShapeLayer.extend({\n            options: {\n                autoBind: true,\n                locationField: 'location',\n                valueField: 'value',\n                minSize: 0,\n                maxSize: 100,\n                scale: 'sqrt',\n                symbol: 'circle'\n            },\n            _load: function (data) {\n                this.surface.clear();\n                if (data.length === 0) {\n                    return;\n                }\n                var opt = this.options;\n                var getValue = getter(opt.valueField);\n                data = data.slice(0);\n                data.sort(function (a, b) {\n                    return getValue(b) - getValue(a);\n                });\n                var scaleType = this._scaleType();\n                var scale;\n                for (var i = 0; i < data.length; i++) {\n                    var dataItem = data[i];\n                    var location = getter(opt.locationField)(dataItem);\n                    var value = getter(opt.valueField)(dataItem);\n                    if (defined(location) && defined(value)) {\n                        if (!scale) {\n                            scale = new scaleType([\n                                0,\n                                value\n                            ], [\n                                opt.minSize,\n                                opt.maxSize\n                            ]);\n                        }\n                        location = Location.create(location);\n                        var center = this.map.locationToView(location);\n                        var size = scale.map(value);\n                        var symbol = this._createSymbol({\n                            center: center,\n                            size: size,\n                            style: opt.style,\n                            dataItem: dataItem,\n                            location: location\n                        });\n                        symbol.dataItem = dataItem;\n                        symbol.location = location;\n                        symbol.value = value;\n                        this._drawSymbol(symbol);\n                    }\n                }\n            },\n            _scaleType: function () {\n                var scale = this.options.scale;\n                if (kendo.isFunction(scale)) {\n                    return scale;\n                }\n                return dataviz.map.scales[scale];\n            },\n            _createSymbol: function (args) {\n                var symbol = this.options.symbol;\n                if (!kendo.isFunction(symbol)) {\n                    symbol = dataviz.map.symbols[symbol];\n                }\n                return symbol(args);\n            },\n            _drawSymbol: function (shape) {\n                var args = {\n                    layer: this,\n                    shape: shape\n                };\n                var cancelled = this.map.trigger('shapeCreated', args);\n                if (!cancelled) {\n                    this.surface.draw(shape);\n                }\n            }\n        });\n        var SqrtScale = kendo.Class.extend({\n            init: function (domain, range) {\n                this._domain = domain;\n                this._range = range;\n                var domainRange = Math.sqrt(domain[1]) - Math.sqrt(domain[0]);\n                var outputRange = range[1] - range[0];\n                this._ratio = outputRange / domainRange;\n            },\n            map: function (value) {\n                var rel = (Math.sqrt(value) - Math.sqrt(this._domain[0])) * this._ratio;\n                return this._range[0] + rel;\n            }\n        });\n        var Symbols = {\n            circle: function (args) {\n                var geo = new g.Circle(args.center, args.size / 2);\n                return new d.Circle(geo, args.style);\n            },\n            square: function (args) {\n                var path = new d.Path(args.style);\n                var halfSize = args.size / 2;\n                var center = args.center;\n                path.moveTo(center.x - halfSize, center.y - halfSize).lineTo(center.x + halfSize, center.y - halfSize).lineTo(center.x + halfSize, center.y + halfSize).lineTo(center.x - halfSize, center.y + halfSize).close();\n                return path;\n            }\n        };\n        deepExtend(dataviz, {\n            map: {\n                layers: {\n                    bubble: BubbleLayer,\n                    BubbleLayer: BubbleLayer\n                },\n                scales: { sqrt: SqrtScale },\n                symbols: Symbols\n            }\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/layers/tile', [\n        'dataviz/map/layers/base',\n        'dataviz/map/location'\n    ], f);\n}(function () {\n    (function ($, undefined) {\n        var math = Math, proxy = $.proxy, kendo = window.kendo, Class = kendo.Class, template = kendo.template, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, g = kendo.geometry, Point = g.Point, Layer = dataviz.map.layers.Layer, util = kendo.util, round = util.round, renderSize = util.renderSize, limit = util.limitValue;\n        var TileLayer = Layer.extend({\n            init: function (map, options) {\n                Layer.fn.init.call(this, map, options);\n                if (typeof this.options.subdomains === 'string') {\n                    this.options.subdomains = this.options.subdomains.split('');\n                }\n                var viewType = this._viewType();\n                this._view = new viewType(this.element, this.options);\n            },\n            destroy: function () {\n                Layer.fn.destroy.call(this);\n                this._view.destroy();\n                this._view = null;\n            },\n            _beforeReset: function () {\n                var map = this.map;\n                var origin = map.locationToLayer(map.extent().nw).round();\n                this._view.viewOrigin(origin);\n            },\n            _reset: function () {\n                Layer.fn._reset.call(this);\n                this._updateView();\n                this._view.reset();\n            },\n            _viewType: function () {\n                return TileView;\n            },\n            _activate: function () {\n                Layer.fn._activate.call(this);\n                if (!kendo.support.mobileOS) {\n                    if (!this._pan) {\n                        this._pan = kendo.throttle(proxy(this._render, this), 100);\n                    }\n                    this.map.bind('pan', this._pan);\n                }\n            },\n            _deactivate: function () {\n                Layer.fn._deactivate.call(this);\n                if (this._pan) {\n                    this.map.unbind('pan', this._pan);\n                }\n            },\n            _updateView: function () {\n                var view = this._view, map = this.map, extent = map.extent(), extentToPoint = {\n                        nw: map.locationToLayer(extent.nw).round(),\n                        se: map.locationToLayer(extent.se).round()\n                    };\n                view.center(map.locationToLayer(map.center()));\n                view.extent(extentToPoint);\n                view.zoom(map.zoom());\n            },\n            _resize: function () {\n                this._render();\n            },\n            _panEnd: function (e) {\n                Layer.fn._panEnd.call(this, e);\n                this._render();\n            },\n            _render: function () {\n                this._updateView();\n                this._view.render();\n            }\n        });\n        var TileView = Class.extend({\n            init: function (element, options) {\n                this.element = element;\n                this._initOptions(options);\n                this.pool = new TilePool();\n            },\n            options: {\n                tileSize: 256,\n                subdomains: [\n                    'a',\n                    'b',\n                    'c'\n                ],\n                urlTemplate: ''\n            },\n            center: function (center) {\n                this._center = center;\n            },\n            extent: function (extent) {\n                this._extent = extent;\n            },\n            viewOrigin: function (origin) {\n                this._viewOrigin = origin;\n            },\n            zoom: function (zoom) {\n                this._zoom = zoom;\n            },\n            pointToTileIndex: function (point) {\n                return new Point(math.floor(point.x / this.options.tileSize), math.floor(point.y / this.options.tileSize));\n            },\n            tileCount: function () {\n                var size = this.size(), firstTileIndex = this.pointToTileIndex(this._extent.nw), nw = this._extent.nw, point = this.indexToPoint(firstTileIndex).translate(-nw.x, -nw.y);\n                return {\n                    x: math.ceil((math.abs(point.x) + size.width) / this.options.tileSize),\n                    y: math.ceil((math.abs(point.y) + size.height) / this.options.tileSize)\n                };\n            },\n            size: function () {\n                var nw = this._extent.nw, se = this._extent.se, diff = se.clone().translate(-nw.x, -nw.y);\n                return {\n                    width: diff.x,\n                    height: diff.y\n                };\n            },\n            indexToPoint: function (index) {\n                var x = index.x, y = index.y;\n                return new Point(x * this.options.tileSize, y * this.options.tileSize);\n            },\n            subdomainText: function () {\n                var subdomains = this.options.subdomains;\n                return subdomains[this.subdomainIndex++ % subdomains.length];\n            },\n            destroy: function () {\n                this.element.empty();\n                this.pool.empty();\n            },\n            reset: function () {\n                this.pool.reset();\n                this.subdomainIndex = 0;\n                this.render();\n            },\n            render: function () {\n                var size = this.tileCount(), firstTileIndex = this.pointToTileIndex(this._extent.nw), tile, x, y;\n                for (x = 0; x < size.x; x++) {\n                    for (y = 0; y < size.y; y++) {\n                        tile = this.createTile({\n                            x: firstTileIndex.x + x,\n                            y: firstTileIndex.y + y\n                        });\n                        if (!tile.visible) {\n                            tile.show();\n                        }\n                    }\n                }\n            },\n            createTile: function (currentIndex) {\n                var options = this.tileOptions(currentIndex);\n                var tile = this.pool.get(this._center, options);\n                if (tile.element.parent().length === 0) {\n                    this.element.append(tile.element);\n                }\n                return tile;\n            },\n            tileOptions: function (currentIndex) {\n                var index = this.wrapIndex(currentIndex), point = this.indexToPoint(currentIndex), origin = this._viewOrigin, offset = point.clone().translate(-origin.x, -origin.y);\n                return {\n                    index: index,\n                    currentIndex: currentIndex,\n                    point: point,\n                    offset: roundPoint(offset),\n                    zoom: this._zoom,\n                    size: this.options.tileSize,\n                    subdomain: this.subdomainText(),\n                    urlTemplate: this.options.urlTemplate,\n                    errorUrlTemplate: this.options.errorUrlTemplate\n                };\n            },\n            wrapIndex: function (index) {\n                var boundary = math.pow(2, this._zoom);\n                return {\n                    x: this.wrapValue(index.x, boundary),\n                    y: limit(index.y, 0, boundary - 1)\n                };\n            },\n            wrapValue: function (value, boundary) {\n                var remainder = math.abs(value) % boundary;\n                if (value >= 0) {\n                    value = remainder;\n                } else {\n                    value = boundary - (remainder === 0 ? boundary : remainder);\n                }\n                return value;\n            }\n        });\n        var ImageTile = Class.extend({\n            init: function (id, options) {\n                this.id = id;\n                this.visible = true;\n                this._initOptions(options);\n                this.createElement();\n                this.show();\n            },\n            options: {\n                urlTemplate: '',\n                errorUrlTemplate: ''\n            },\n            createElement: function () {\n                this.element = $('<img style=\\'position: absolute; display: block;\\' />').css({\n                    width: this.options.size,\n                    height: this.options.size\n                }).on('error', proxy(function (e) {\n                    if (this.errorUrl()) {\n                        e.target.setAttribute('src', this.errorUrl());\n                    } else {\n                        e.target.removeAttribute('src');\n                    }\n                }, this));\n            },\n            show: function () {\n                var element = this.element[0];\n                element.style.top = renderSize(this.options.offset.y);\n                element.style.left = renderSize(this.options.offset.x);\n                var url = this.url();\n                if (url) {\n                    element.setAttribute('src', url);\n                }\n                element.style.visibility = 'visible';\n                this.visible = true;\n            },\n            hide: function () {\n                this.element[0].style.visibility = 'hidden';\n                this.visible = false;\n            },\n            url: function () {\n                var urlResult = template(this.options.urlTemplate);\n                return urlResult(this.urlOptions());\n            },\n            errorUrl: function () {\n                var urlResult = template(this.options.errorUrlTemplate);\n                return urlResult(this.urlOptions());\n            },\n            urlOptions: function () {\n                var options = this.options;\n                return {\n                    zoom: options.zoom,\n                    subdomain: options.subdomain,\n                    z: options.zoom,\n                    x: options.index.x,\n                    y: options.index.y,\n                    s: options.subdomain,\n                    quadkey: options.quadkey,\n                    q: options.quadkey,\n                    culture: options.culture,\n                    c: options.culture\n                };\n            },\n            destroy: function () {\n                if (this.element) {\n                    this.element.remove();\n                    this.element = null;\n                }\n            }\n        });\n        var TilePool = Class.extend({\n            init: function () {\n                this._items = [];\n            },\n            options: { maxSize: 100 },\n            get: function (center, options) {\n                if (this._items.length >= this.options.maxSize) {\n                    this._remove(center);\n                }\n                return this._create(options);\n            },\n            empty: function () {\n                var items = this._items;\n                for (var i = 0; i < items.length; i++) {\n                    items[i].destroy();\n                }\n                this._items = [];\n            },\n            reset: function () {\n                var items = this._items;\n                for (var i = 0; i < items.length; i++) {\n                    items[i].hide();\n                }\n            },\n            _create: function (options) {\n                var items = this._items;\n                var tile;\n                var id = util.hashKey(options.point.toString() + options.offset.toString() + options.zoom + options.urlTemplate);\n                for (var i = 0; i < items.length; i++) {\n                    if (items[i].id === id) {\n                        tile = items[i];\n                        break;\n                    }\n                }\n                if (tile) {\n                    tile.show();\n                } else {\n                    tile = new ImageTile(id, options);\n                    this._items.push(tile);\n                }\n                return tile;\n            },\n            _remove: function (center) {\n                var items = this._items;\n                var maxDist = -1;\n                var index = -1;\n                for (var i = 0; i < items.length; i++) {\n                    var dist = items[i].options.point.distanceTo(center);\n                    if (dist > maxDist && !items[i].visible) {\n                        index = i;\n                        maxDist = dist;\n                    }\n                }\n                if (index !== -1) {\n                    items[index].destroy();\n                    items.splice(index, 1);\n                }\n            }\n        });\n        function roundPoint(point) {\n            return new Point(round(point.x), round(point.y));\n        }\n        deepExtend(dataviz, {\n            map: {\n                layers: {\n                    tile: TileLayer,\n                    TileLayer: TileLayer,\n                    ImageTile: ImageTile,\n                    TilePool: TilePool,\n                    TileView: TileView\n                }\n            }\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/layers/bing', ['dataviz/map/layers/tile'], f);\n}(function () {\n    (function ($, undefined) {\n        var kendo = window.kendo, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, defined = kendo.util.defined, Extent = dataviz.map.Extent, Location = dataviz.map.Location, TileLayer = dataviz.map.layers.TileLayer, TileView = dataviz.map.layers.TileView;\n        var BingLayer = TileLayer.extend({\n            init: function (map, options) {\n                this.options.baseUrl = this._scheme() + '://dev.virtualearth.net/REST/v1/Imagery/Metadata/';\n                TileLayer.fn.init.call(this, map, options);\n                this._onMetadata = $.proxy(this._onMetadata, this);\n                this._fetchMetadata();\n            },\n            options: { imagerySet: 'road' },\n            _fetchMetadata: function () {\n                var options = this.options;\n                if (!options.key) {\n                    throw new Error('Bing tile layer: API key is required');\n                }\n                $.ajax({\n                    url: options.baseUrl + options.imagerySet,\n                    data: {\n                        output: 'json',\n                        include: 'ImageryProviders',\n                        key: options.key,\n                        uriScheme: this._scheme()\n                    },\n                    type: 'get',\n                    dataType: 'jsonp',\n                    jsonp: 'jsonp',\n                    success: this._onMetadata\n                });\n            },\n            _scheme: function (proto) {\n                proto = proto || window.location.protocol;\n                return proto.replace(':', '') === 'https' ? 'https' : 'http';\n            },\n            _onMetadata: function (data) {\n                if (data && data.resourceSets.length) {\n                    var resource = this.resource = data.resourceSets[0].resources[0];\n                    deepExtend(this._view.options, {\n                        urlTemplate: resource.imageUrl.replace('{subdomain}', '#= subdomain #').replace('{quadkey}', '#= quadkey #').replace('{culture}', '#= culture #'),\n                        subdomains: resource.imageUrlSubdomains\n                    });\n                    var options = this.options;\n                    if (!defined(options.minZoom)) {\n                        options.minZoom = resource.zoomMin;\n                    }\n                    if (!defined(options.maxZoom)) {\n                        options.maxZoom = resource.zoomMax;\n                    }\n                    this._addAttribution();\n                    if (this.element.css('display') !== 'none') {\n                        this._reset();\n                    }\n                }\n            },\n            _viewType: function () {\n                return BingView;\n            },\n            _addAttribution: function () {\n                var attr = this.map.attribution;\n                if (attr) {\n                    var items = this.resource.imageryProviders;\n                    if (items) {\n                        for (var i = 0; i < items.length; i++) {\n                            var item = items[i];\n                            for (var y = 0; y < item.coverageAreas.length; y++) {\n                                var area = item.coverageAreas[y];\n                                attr.add({\n                                    text: item.attribution,\n                                    minZoom: area.zoomMin,\n                                    maxZoom: area.zoomMax,\n                                    extent: new Extent(new Location(area.bbox[2], area.bbox[1]), new Location(area.bbox[0], area.bbox[3]))\n                                });\n                            }\n                        }\n                    }\n                }\n            },\n            imagerySet: function (value) {\n                if (value) {\n                    this.options.imagerySet = value;\n                    this.map.attribution.clear();\n                    this._fetchMetadata();\n                } else {\n                    return this.options.imagerySet;\n                }\n            }\n        });\n        var BingView = TileView.extend({\n            options: { culture: 'en-US' },\n            tileOptions: function (currentIndex) {\n                var options = TileView.fn.tileOptions.call(this, currentIndex);\n                options.culture = this.options.culture;\n                options.quadkey = this.tileQuadKey(this.wrapIndex(currentIndex));\n                return options;\n            },\n            tileQuadKey: function (index) {\n                var quadKey = '', digit, mask, i;\n                for (i = this._zoom; i > 0; i--) {\n                    digit = 0;\n                    mask = 1 << i - 1;\n                    if ((index.x & mask) !== 0) {\n                        digit++;\n                    }\n                    if ((index.y & mask) !== 0) {\n                        digit += 2;\n                    }\n                    quadKey += digit;\n                }\n                return quadKey;\n            }\n        });\n        deepExtend(dataviz, {\n            map: {\n                layers: {\n                    bing: BingLayer,\n                    BingLayer: BingLayer,\n                    BingView: BingView\n                }\n            }\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/layers/marker', [\n        'dataviz/map/layers/base',\n        'dataviz/map/location',\n        'kendo.data',\n        'kendo.tooltip'\n    ], f);\n}(function () {\n    (function ($, undefined) {\n        var doc = document, math = Math, indexOf = $.inArray, proxy = $.proxy, kendo = window.kendo, Class = kendo.Class, DataSource = kendo.data.DataSource, Tooltip = kendo.ui.Tooltip, dataviz = kendo.dataviz, deepExtend = kendo.deepExtend, map = dataviz.map, Location = map.Location, Layer = map.layers.Layer;\n        var MarkerLayer = Layer.extend({\n            init: function (map, options) {\n                Layer.fn.init.call(this, map, options);\n                this._markerClick = proxy(this._markerClick, this);\n                this.element.on('click', '.k-marker', this._markerClick);\n                this.items = [];\n                this._initDataSource();\n            },\n            destroy: function () {\n                Layer.fn.destroy.call(this);\n                this.element.off('click', '.k-marker', this._markerClick);\n                this.dataSource.unbind('change', this._dataChange);\n                this.clear();\n            },\n            options: {\n                zIndex: 1000,\n                autoBind: true,\n                dataSource: {},\n                locationField: 'location',\n                titleField: 'title'\n            },\n            add: function (arg) {\n                if ($.isArray(arg)) {\n                    for (var i = 0; i < arg.length; i++) {\n                        this._addOne(arg[i]);\n                    }\n                } else {\n                    return this._addOne(arg);\n                }\n            },\n            remove: function (marker) {\n                marker.destroy();\n                var index = indexOf(marker, this.items);\n                if (index > -1) {\n                    this.items.splice(index, 1);\n                }\n            },\n            clear: function () {\n                for (var i = 0; i < this.items.length; i++) {\n                    this.items[i].destroy();\n                }\n                this.items = [];\n            },\n            update: function (marker) {\n                var loc = marker.location();\n                if (loc) {\n                    marker.showAt(this.map.locationToView(loc));\n                    var args = {\n                        marker: marker,\n                        layer: this\n                    };\n                    this.map.trigger('markerActivate', args);\n                }\n            },\n            _reset: function () {\n                Layer.fn._reset.call(this);\n                var items = this.items;\n                for (var i = 0; i < items.length; i++) {\n                    this.update(items[i]);\n                }\n            },\n            bind: function (options, dataItem) {\n                var marker = map.Marker.create(options, this.options);\n                marker.dataItem = dataItem;\n                var args = {\n                    marker: marker,\n                    layer: this\n                };\n                var cancelled = this.map.trigger('markerCreated', args);\n                if (!cancelled) {\n                    this.add(marker);\n                    return marker;\n                }\n            },\n            setDataSource: function (dataSource) {\n                if (this.dataSource) {\n                    this.dataSource.unbind('change', this._dataChange);\n                }\n                this.dataSource = kendo.data.DataSource.create(dataSource);\n                this.dataSource.bind('change', this._dataChange);\n                if (this.options.autoBind) {\n                    this.dataSource.fetch();\n                }\n            },\n            _addOne: function (arg) {\n                var marker = Marker.create(arg, this.options);\n                marker.addTo(this);\n                return marker;\n            },\n            _initDataSource: function () {\n                var dsOptions = this.options.dataSource;\n                this._dataChange = proxy(this._dataChange, this);\n                this.dataSource = DataSource.create(dsOptions).bind('change', this._dataChange);\n                if (dsOptions && this.options.autoBind) {\n                    this.dataSource.fetch();\n                }\n            },\n            _dataChange: function (e) {\n                this._load(e.sender.view());\n            },\n            _load: function (data) {\n                this._data = data;\n                this.clear();\n                var getLocation = kendo.getter(this.options.locationField);\n                var getTitle = kendo.getter(this.options.titleField);\n                for (var i = 0; i < data.length; i++) {\n                    var dataItem = data[i];\n                    this.bind({\n                        location: getLocation(dataItem),\n                        title: getTitle(dataItem)\n                    }, dataItem);\n                }\n            },\n            _markerClick: function (e) {\n                var args = {\n                    marker: $(e.target).data('kendoMarker'),\n                    layer: this\n                };\n                this.map.trigger('markerClick', args);\n            }\n        });\n        var Marker = Class.extend({\n            init: function (options) {\n                this.options = options || {};\n            },\n            addTo: function (parent) {\n                this.layer = parent.markers || parent;\n                this.layer.items.push(this);\n                this.layer.update(this);\n            },\n            location: function (value) {\n                if (value) {\n                    this.options.location = Location.create(value).toArray();\n                    if (this.layer) {\n                        this.layer.update(this);\n                    }\n                    return this;\n                } else {\n                    return Location.create(this.options.location);\n                }\n            },\n            showAt: function (point) {\n                this.render();\n                this.element.css({\n                    left: math.round(point.x),\n                    top: math.round(point.y)\n                });\n                if (this.tooltip && this.tooltip.popup) {\n                    this.tooltip.popup._position();\n                }\n            },\n            hide: function () {\n                if (this.element) {\n                    this.element.remove();\n                    this.element = null;\n                }\n                if (this.tooltip) {\n                    this.tooltip.destroy();\n                    this.tooltip = null;\n                }\n            },\n            destroy: function () {\n                this.layer = null;\n                this.hide();\n            },\n            render: function () {\n                if (!this.element) {\n                    var options = this.options;\n                    var layer = this.layer;\n                    this.element = $(doc.createElement('span')).addClass('k-marker k-marker-' + kendo.toHyphens(options.shape || 'pin')).attr('title', options.title).attr(options.attributes || {}).data('kendoMarker', this).css('zIndex', options.zIndex);\n                    if (layer) {\n                        layer.element.append(this.element);\n                    }\n                    this.renderTooltip();\n                }\n            },\n            renderTooltip: function () {\n                var marker = this;\n                var title = marker.options.title;\n                var options = marker.options.tooltip || {};\n                if (options && Tooltip) {\n                    var template = options.template;\n                    if (template) {\n                        var contentTemplate = kendo.template(template);\n                        options.content = function (e) {\n                            e.location = marker.location();\n                            e.marker = marker;\n                            return contentTemplate(e);\n                        };\n                    }\n                    if (title || options.content || options.contentUrl) {\n                        this.tooltip = new Tooltip(this.element, options);\n                        this.tooltip.marker = this;\n                    }\n                }\n            }\n        });\n        Marker.create = function (arg, defaults) {\n            if (arg instanceof Marker) {\n                return arg;\n            }\n            return new Marker(deepExtend({}, defaults, arg));\n        };\n        deepExtend(dataviz, {\n            map: {\n                layers: {\n                    marker: MarkerLayer,\n                    MarkerLayer: MarkerLayer\n                },\n                Marker: Marker\n            }\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('dataviz/map/main', [\n        'dataviz/map/crs',\n        'dataviz/map/location'\n    ], f);\n}(function () {\n    (function ($, undefined) {\n        var doc = document, math = Math, min = math.min, pow = math.pow, proxy = $.proxy, kendo = window.kendo, Widget = kendo.ui.Widget, deepExtend = kendo.deepExtend, dataviz = kendo.dataviz, ui = dataviz.ui, g = kendo.geometry, Point = g.Point, map = dataviz.map, Extent = map.Extent, Location = map.Location, EPSG3857 = map.crs.EPSG3857, util = kendo.util, defined = util.defined, limit = util.limitValue, renderPos = util.renderPos, valueOrDefault = util.valueOrDefault;\n        var CSS_PREFIX = 'k-', FRICTION = 0.9, FRICTION_MOBILE = 0.93, MOUSEWHEEL = 'DOMMouseScroll mousewheel', VELOCITY_MULTIPLIER = 5;\n        var Map = Widget.extend({\n            init: function (element, options) {\n                kendo.destroy(element);\n                Widget.fn.init.call(this, element);\n                this._initOptions(options);\n                this.bind(this.events, options);\n                this.crs = new EPSG3857();\n                this.element.addClass(CSS_PREFIX + this.options.name.toLowerCase()).css('position', 'relative').empty().append(doc.createElement('div'));\n                this._viewOrigin = this._getOrigin();\n                this._initScroller();\n                this._initMarkers();\n                this._initControls();\n                this._initLayers();\n                this._reset();\n                this._mousewheel = proxy(this._mousewheel, this);\n                this.element.bind('click', proxy(this._click, this));\n                this.element.bind(MOUSEWHEEL, this._mousewheel);\n            },\n            options: {\n                name: 'Map',\n                controls: {\n                    attribution: true,\n                    navigator: { panStep: 100 },\n                    zoom: true\n                },\n                layers: [],\n                layerDefaults: {\n                    shape: {\n                        style: {\n                            fill: { color: '#fff' },\n                            stroke: {\n                                color: '#aaa',\n                                width: 0.5\n                            }\n                        }\n                    },\n                    bubble: {\n                        style: {\n                            fill: {\n                                color: '#fff',\n                                opacity: 0.5\n                            },\n                            stroke: {\n                                color: '#aaa',\n                                width: 0.5\n                            }\n                        }\n                    },\n                    marker: {\n                        shape: 'pinTarget',\n                        tooltip: { position: 'top' }\n                    }\n                },\n                center: [\n                    0,\n                    0\n                ],\n                zoom: 3,\n                minSize: 256,\n                minZoom: 1,\n                maxZoom: 19,\n                markers: [],\n                markerDefaults: {\n                    shape: 'pinTarget',\n                    tooltip: { position: 'top' }\n                },\n                wraparound: true\n            },\n            events: [\n                'beforeReset',\n                'click',\n                'markerActivate',\n                'markerClick',\n                'markerCreated',\n                'pan',\n                'panEnd',\n                'reset',\n                'shapeClick',\n                'shapeCreated',\n                'shapeFeatureCreated',\n                'shapeMouseEnter',\n                'shapeMouseLeave',\n                'zoomEnd',\n                'zoomStart'\n            ],\n            destroy: function () {\n                this.scroller.destroy();\n                if (this.navigator) {\n                    this.navigator.destroy();\n                }\n                if (this.attribution) {\n                    this.attribution.destroy();\n                }\n                if (this.zoomControl) {\n                    this.zoomControl.destroy();\n                }\n                this.markers.destroy();\n                for (var i = 0; i < this.layers.length; i++) {\n                    this.layers[i].destroy();\n                }\n                Widget.fn.destroy.call(this);\n            },\n            zoom: function (level) {\n                var options = this.options;\n                if (defined(level)) {\n                    level = math.round(limit(level, options.minZoom, options.maxZoom));\n                    if (options.zoom !== level) {\n                        options.zoom = level;\n                        this._reset();\n                    }\n                    return this;\n                } else {\n                    return options.zoom;\n                }\n            },\n            center: function (center) {\n                if (center) {\n                    this.options.center = Location.create(center).toArray();\n                    this._reset();\n                    return this;\n                } else {\n                    return Location.create(this.options.center);\n                }\n            },\n            extent: function (extent) {\n                if (extent) {\n                    this._setExtent(extent);\n                    return this;\n                } else {\n                    return this._getExtent();\n                }\n            },\n            setOptions: function (options) {\n                Widget.fn.setOptions.call(this, options);\n                this._reset();\n            },\n            locationToLayer: function (location, zoom) {\n                var clamp = !this.options.wraparound;\n                location = Location.create(location);\n                return this.crs.toPoint(location, this._layerSize(zoom), clamp);\n            },\n            layerToLocation: function (point, zoom) {\n                var clamp = !this.options.wraparound;\n                point = Point.create(point);\n                return this.crs.toLocation(point, this._layerSize(zoom), clamp);\n            },\n            locationToView: function (location) {\n                location = Location.create(location);\n                var origin = this.locationToLayer(this._viewOrigin);\n                var point = this.locationToLayer(location);\n                return point.translateWith(origin.scale(-1));\n            },\n            viewToLocation: function (point, zoom) {\n                var origin = this.locationToLayer(this._getOrigin(), zoom);\n                point = Point.create(point);\n                point = point.clone().translateWith(origin);\n                return this.layerToLocation(point, zoom);\n            },\n            eventOffset: function (e) {\n                var offset = this.element.offset();\n                var event = e.originalEvent || e;\n                var x = valueOrDefault(event.pageX, event.clientX) - offset.left;\n                var y = valueOrDefault(event.pageY, event.clientY) - offset.top;\n                return new g.Point(x, y);\n            },\n            eventToView: function (e) {\n                var cursor = this.eventOffset(e);\n                return this.locationToView(this.viewToLocation(cursor));\n            },\n            eventToLayer: function (e) {\n                return this.locationToLayer(this.eventToLocation(e));\n            },\n            eventToLocation: function (e) {\n                var cursor = this.eventOffset(e);\n                return this.viewToLocation(cursor);\n            },\n            viewSize: function () {\n                var element = this.element;\n                var scale = this._layerSize();\n                var width = element.width();\n                if (!this.options.wraparound) {\n                    width = min(scale, width);\n                }\n                return {\n                    width: width,\n                    height: min(scale, element.height())\n                };\n            },\n            exportVisual: function () {\n                this._reset();\n                return false;\n            },\n            _setOrigin: function (origin, zoom) {\n                var size = this.viewSize(), topLeft;\n                origin = this._origin = Location.create(origin);\n                topLeft = this.locationToLayer(origin, zoom);\n                topLeft.x += size.width / 2;\n                topLeft.y += size.height / 2;\n                this.options.center = this.layerToLocation(topLeft, zoom).toArray();\n                return this;\n            },\n            _getOrigin: function (invalidate) {\n                var size = this.viewSize(), topLeft;\n                if (invalidate || !this._origin) {\n                    topLeft = this.locationToLayer(this.center());\n                    topLeft.x -= size.width / 2;\n                    topLeft.y -= size.height / 2;\n                    this._origin = this.layerToLocation(topLeft);\n                }\n                return this._origin;\n            },\n            _setExtent: function (extent) {\n                extent = Extent.create(extent);\n                this.center(extent.center());\n                var width = this.element.width();\n                var height = this.element.height();\n                for (var zoom = this.options.maxZoom; zoom >= this.options.minZoom; zoom--) {\n                    var nw = this.locationToLayer(extent.nw, zoom);\n                    var se = this.locationToLayer(extent.se, zoom);\n                    var layerWidth = math.abs(se.x - nw.x);\n                    var layerHeight = math.abs(se.y - nw.y);\n                    if (layerWidth <= width && layerHeight <= height) {\n                        break;\n                    }\n                }\n                this.zoom(zoom);\n            },\n            _getExtent: function () {\n                var nw = this._getOrigin();\n                var bottomRight = this.locationToLayer(nw);\n                var size = this.viewSize();\n                bottomRight.x += size.width;\n                bottomRight.y += size.height;\n                var se = this.layerToLocation(bottomRight);\n                return new Extent(nw, se);\n            },\n            _zoomAround: function (pivot, level) {\n                this._setOrigin(this.layerToLocation(pivot, level), level);\n                this.zoom(level);\n            },\n            _initControls: function () {\n                var controls = this.options.controls;\n                if (ui.Attribution && controls.attribution) {\n                    this._createAttribution(controls.attribution);\n                }\n                if (!kendo.support.mobileOS) {\n                    if (ui.Navigator && controls.navigator) {\n                        this._createNavigator(controls.navigator);\n                    }\n                    if (ui.ZoomControl && controls.zoom) {\n                        this._createZoomControl(controls.zoom);\n                    }\n                }\n            },\n            _createControlElement: function (options, defaultPos) {\n                var pos = options.position || defaultPos;\n                var posSelector = '.' + renderPos(pos).replace(' ', '.');\n                var wrap = $('.k-map-controls' + posSelector, this.element);\n                if (wrap.length === 0) {\n                    wrap = $('<div>').addClass('k-map-controls ' + renderPos(pos)).appendTo(this.element);\n                }\n                return $('<div>').appendTo(wrap);\n            },\n            _createAttribution: function (options) {\n                var element = this._createControlElement(options, 'bottomRight');\n                this.attribution = new ui.Attribution(element, options);\n            },\n            _createNavigator: function (options) {\n                var element = this._createControlElement(options, 'topLeft');\n                var navigator = this.navigator = new ui.Navigator(element, options);\n                this._navigatorPan = proxy(this._navigatorPan, this);\n                navigator.bind('pan', this._navigatorPan);\n                this._navigatorCenter = proxy(this._navigatorCenter, this);\n                navigator.bind('center', this._navigatorCenter);\n            },\n            _navigatorPan: function (e) {\n                var map = this;\n                var scroller = map.scroller;\n                var x = scroller.scrollLeft + e.x;\n                var y = scroller.scrollTop - e.y;\n                var bounds = this._virtualSize;\n                var height = this.element.height();\n                var width = this.element.width();\n                x = limit(x, bounds.x.min, bounds.x.max - width);\n                y = limit(y, bounds.y.min, bounds.y.max - height);\n                map.scroller.one('scroll', function (e) {\n                    map._scrollEnd(e);\n                });\n                map.scroller.scrollTo(-x, -y);\n            },\n            _navigatorCenter: function () {\n                this.center(this.options.center);\n            },\n            _createZoomControl: function (options) {\n                var element = this._createControlElement(options, 'topLeft');\n                var zoomControl = this.zoomControl = new ui.ZoomControl(element, options);\n                this._zoomControlChange = proxy(this._zoomControlChange, this);\n                zoomControl.bind('change', this._zoomControlChange);\n            },\n            _zoomControlChange: function (e) {\n                if (!this.trigger('zoomStart', { originalEvent: e })) {\n                    this.zoom(this.zoom() + e.delta);\n                    this.trigger('zoomEnd', { originalEvent: e });\n                }\n            },\n            _initScroller: function () {\n                var friction = kendo.support.mobileOS ? FRICTION_MOBILE : FRICTION;\n                var zoomable = this.options.zoomable !== false;\n                var scroller = this.scroller = new kendo.mobile.ui.Scroller(this.element.children(0), {\n                    friction: friction,\n                    velocityMultiplier: VELOCITY_MULTIPLIER,\n                    zoom: zoomable,\n                    mousewheelScrolling: false\n                });\n                scroller.bind('scroll', proxy(this._scroll, this));\n                scroller.bind('scrollEnd', proxy(this._scrollEnd, this));\n                scroller.userEvents.bind('gesturestart', proxy(this._scaleStart, this));\n                scroller.userEvents.bind('gestureend', proxy(this._scale, this));\n                this.scrollElement = scroller.scrollElement;\n            },\n            _initLayers: function () {\n                var defs = this.options.layers, layers = this.layers = [];\n                for (var i = 0; i < defs.length; i++) {\n                    var options = defs[i];\n                    var type = options.type || 'shape';\n                    var defaults = this.options.layerDefaults[type];\n                    var impl = dataviz.map.layers[type];\n                    layers.push(new impl(this, deepExtend({}, defaults, options)));\n                }\n            },\n            _initMarkers: function () {\n                this.markers = new map.layers.MarkerLayer(this, this.options.markerDefaults);\n                this.markers.add(this.options.markers);\n            },\n            _scroll: function (e) {\n                var origin = this.locationToLayer(this._viewOrigin).round();\n                var movable = e.sender.movable;\n                var offset = new g.Point(movable.x, movable.y).scale(-1).scale(1 / movable.scale);\n                origin.x += offset.x;\n                origin.y += offset.y;\n                this._scrollOffset = offset;\n                this._setOrigin(this.layerToLocation(origin));\n                this.trigger('pan', {\n                    originalEvent: e,\n                    origin: this._getOrigin(),\n                    center: this.center()\n                });\n            },\n            _scrollEnd: function (e) {\n                if (!this._scrollOffset || !this._panComplete()) {\n                    return;\n                }\n                this._scrollOffset = null;\n                this._panEndTS = new Date();\n                this.trigger('panEnd', {\n                    originalEvent: e,\n                    origin: this._getOrigin(),\n                    center: this.center()\n                });\n            },\n            _panComplete: function () {\n                return new Date() - (this._panEndTS || 0) > 50;\n            },\n            _scaleStart: function (e) {\n                if (this.trigger('zoomStart', { originalEvent: e })) {\n                    var touch = e.touches[1];\n                    if (touch) {\n                        touch.cancel();\n                    }\n                }\n            },\n            _scale: function (e) {\n                var scale = this.scroller.movable.scale;\n                var zoom = this._scaleToZoom(scale);\n                var gestureCenter = new g.Point(e.center.x, e.center.y);\n                var centerLocation = this.viewToLocation(gestureCenter, zoom);\n                var centerPoint = this.locationToLayer(centerLocation, zoom);\n                var originPoint = centerPoint.translate(-gestureCenter.x, -gestureCenter.y);\n                this._zoomAround(originPoint, zoom);\n                this.trigger('zoomEnd', { originalEvent: e });\n            },\n            _scaleToZoom: function (scaleDelta) {\n                var scale = this._layerSize() * scaleDelta;\n                var tiles = scale / this.options.minSize;\n                var zoom = math.log(tiles) / math.log(2);\n                return math.round(zoom);\n            },\n            _reset: function () {\n                if (this.attribution) {\n                    this.attribution.filter(this.center(), this.zoom());\n                }\n                this._viewOrigin = this._getOrigin(true);\n                this._resetScroller();\n                this.trigger('beforeReset');\n                this.trigger('reset');\n            },\n            _resetScroller: function () {\n                var scroller = this.scroller;\n                var x = scroller.dimensions.x;\n                var y = scroller.dimensions.y;\n                var scale = this._layerSize();\n                var nw = this.extent().nw;\n                var topLeft = this.locationToLayer(nw).round();\n                scroller.movable.round = true;\n                scroller.reset();\n                scroller.userEvents.cancel();\n                var zoom = this.zoom();\n                scroller.dimensions.forcedMinScale = pow(2, this.options.minZoom - zoom);\n                scroller.dimensions.maxScale = pow(2, this.options.maxZoom - zoom);\n                var xBounds = {\n                    min: -topLeft.x,\n                    max: scale - topLeft.x\n                };\n                var yBounds = {\n                    min: -topLeft.y,\n                    max: scale - topLeft.y\n                };\n                if (this.options.wraparound) {\n                    xBounds.max = 20 * scale;\n                    xBounds.min = -xBounds.max;\n                }\n                if (this.options.pannable === false) {\n                    var viewSize = this.viewSize();\n                    xBounds.min = yBounds.min = 0;\n                    xBounds.max = viewSize.width;\n                    yBounds.max = viewSize.height;\n                }\n                x.makeVirtual();\n                y.makeVirtual();\n                x.virtualSize(xBounds.min, xBounds.max);\n                y.virtualSize(yBounds.min, yBounds.max);\n                this._virtualSize = {\n                    x: xBounds,\n                    y: yBounds\n                };\n            },\n            _renderLayers: function () {\n                var defs = this.options.layers, layers = this.layers = [], scrollWrap = this.scrollWrap;\n                scrollWrap.empty();\n                for (var i = 0; i < defs.length; i++) {\n                    var options = defs[i];\n                    var type = options.type || 'shape';\n                    var defaults = this.options.layerDefaults[type];\n                    var impl = dataviz.map.layers[type];\n                    layers.push(new impl(this, deepExtend({}, defaults, options)));\n                }\n            },\n            _layerSize: function (zoom) {\n                zoom = valueOrDefault(zoom, this.options.zoom);\n                return this.options.minSize * pow(2, zoom);\n            },\n            _click: function (e) {\n                if (!this._panComplete()) {\n                    return;\n                }\n                var cursor = this.eventOffset(e);\n                this.trigger('click', {\n                    originalEvent: e,\n                    location: this.viewToLocation(cursor)\n                });\n            },\n            _mousewheel: function (e) {\n                e.preventDefault();\n                var delta = dataviz.mwDelta(e) > 0 ? -1 : 1;\n                var options = this.options;\n                var fromZoom = this.zoom();\n                var toZoom = limit(fromZoom + delta, options.minZoom, options.maxZoom);\n                if (options.zoomable !== false && toZoom !== fromZoom) {\n                    if (!this.trigger('zoomStart', { originalEvent: e })) {\n                        var cursor = this.eventOffset(e);\n                        var location = this.viewToLocation(cursor);\n                        var postZoom = this.locationToLayer(location, toZoom);\n                        var origin = postZoom.translate(-cursor.x, -cursor.y);\n                        this._zoomAround(origin, toZoom);\n                        this.trigger('zoomEnd', { originalEvent: e });\n                    }\n                }\n            }\n        });\n        dataviz.ui.plugin(Map);\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.dataviz.map', [\n        'kendo.data',\n        'kendo.userevents',\n        'kendo.tooltip',\n        'kendo.mobile.scroller',\n        'kendo.draganddrop',\n        'kendo.dataviz.core',\n        'dataviz/map/location',\n        'dataviz/map/attribution',\n        'dataviz/map/navigator',\n        'dataviz/map/zoom',\n        'dataviz/map/crs',\n        'dataviz/map/layers/base',\n        'dataviz/map/layers/shape',\n        'dataviz/map/layers/bubble',\n        'dataviz/map/layers/tile',\n        'dataviz/map/layers/bing',\n        'dataviz/map/layers/marker',\n        'dataviz/map/main'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'dataviz.map',\n        name: 'Map',\n        category: 'dataviz',\n        description: 'The Kendo DataViz Map displays spatial data',\n        depends: [\n            'data',\n            'userevents',\n            'tooltip',\n            'dataviz.core',\n            'drawing',\n            'mobile.scroller'\n        ]\n    };\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"],"sourceRoot":"/source/"}