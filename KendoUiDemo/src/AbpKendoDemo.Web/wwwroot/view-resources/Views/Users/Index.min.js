(function(){$(function(){var i=abp.services.app.user,n=$("#UserCreateModal"),t=n.find("form"),r=$("#UsersGrid");t.validate();t.find('button[type="submit"]').click(function(r){if(r.preventDefault(),t.valid()){var u=t.serializeFormToObject();abp.ui.setBusy(n);i.createUser(u).done(function(){n.modal("hide");getUsers()}).always(function(){abp.ui.clearBusy(n)})}});n.on("shown.bs.modal",function(){n.find("input:not([type=hidden]):first").focus()});r.kendoGrid({editable:!0,columns:[{field:"userName",title:app.l("UserName")},{field:"name",title:app.l("Name")},{field:"surname",title:app.l("Surname")},{field:"emailAddress",title:app.l("EmailAddress")},{field:"isActive",title:app.l("IsActive"),template:'#= isActive ? "YES" : "NO" #'}],dataSource:new kendo.data.DataSource({autoSync:!0,transport:{read:function(n){abp.services.app.user.getUsers().done(function(t){n.success(t.items)}).fail(function(t){n.error(t)})},update:function(n){abp.services.app.user.updateUser(n.data).done(function(){n.success(null)}).fail(function(t){n.error(t)})}},schema:{model:{id:"id",fields:{id:{editable:!1,nullable:!0},userName:{editable:!0},name:{editable:!0},surname:{editable:!0},emailAddress:{editable:!0},isActive:{editable:!1}}}}})})})})();